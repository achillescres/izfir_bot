2022-06-27T13:36:03.968185+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 170, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fd4c9dc95a0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fd4c9dc8670>
    └ <uvicorn.server.Server object at 0x7fd4c9e67b20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fd4c9dc8700>
           │       │   └ <uvicorn.server.Server object at 0x7fd4c9e67b20>
           │       └ <function run at 0x7fd4cd46fd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fd4c9d7eff0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fd4ccb3e680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fd4ccb3e5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fd4ccb44160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fd4cccf3ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fd4c9e28e50>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>
          │   │      │    └ <function LifespanOn.receive at 0x7fd4c9e28ee0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd4c9ed4040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
                 │    └ <fastapi.applications.FastAPI object at 0x7fd4c9e12bf0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd4c9ed4040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd4c9e134c0>
          └ <fastapi.applications.FastAPI object at 0x7fd4c9e12bf0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd4c9e13460>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd4c9e134c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd4c9e13430>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd4c9e13460>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd4c9e133d0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd4c9e13430>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          │    └ <fastapi.routing.APIRouter object at 0x7fd4c9e12c50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd4c9e133d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          │    └ <function Router.lifespan at 0x7fd4ca542c20>
          └ <fastapi.routing.APIRouter object at 0x7fd4c9e12c50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fd4c9e12bf0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fd4c9e12cb0>
               └ <fastapi.routing.APIRouter object at 0x7fd4c9e12c50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fd4ca542b00>
          │    └ <fastapi.routing.APIRouter object at 0x7fd4c9e12c50>
          └ <starlette.routing._DefaultLifespan object at 0x7fd4c9e12cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fd4c9e296c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://9f9e-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fd4c9e87be0>
          └ <bot_app.TelegramBot object at 0x7fd4c9e13160>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 64, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fd4c9e87c70>
          └ <bot_app.TelegramBot object at 0x7fd4c9e13160>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 82, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd4c9e660b0>
          │                 └ <bot_app.TelegramBot object at 0x7fd4c9e13160>
          └ <function on_startup_notify at 0x7fd4c9cf7760>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fd4cb15b9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7fd4c9e644c0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd4c9e660b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fd4cb117ac0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fd4cb15a170>
                   └ <aiogram.bot.bot.Bot object at 0x7fd4c9e644c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fd4c9e644c0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fd4c9e644c0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fd4cb159a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fd4c9e644c0>
                 │   └ <function make_request at 0x7fd4cb0f70a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fd4cc3693f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fd4cc4562a0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fd4cb0f6dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fd4cb0f67a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T13:36:04.991141+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T13:39:32.056255+0900 WARNING Shutting down!..
2022-06-27T13:39:32.659496+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T13:39:32.659667+0900 WARNING Bye!
2022-06-27T13:39:34.273236+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 170, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f79e5db5630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f79e5db4700>
    └ <uvicorn.server.Server object at 0x7f79e5e97ca0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f79e5db4790>
           │       │   └ <uvicorn.server.Server object at 0x7f79e5e97ca0>
           │       └ <function run at 0x7f79e943bd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f79e5d62f80>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f79e8b12680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f79e8b125f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f79e8b14160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f79e8cc3ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f79e5e14ee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>
          │   │      │    └ <function LifespanOn.receive at 0x7f79e5e14f70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f79e5dc5060>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
                 │    └ <fastapi.applications.FastAPI object at 0x7f79e5df6c20>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f79e5dc5060>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f79e5df74f0>
          └ <fastapi.applications.FastAPI object at 0x7f79e5df6c20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f79e5df7490>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f79e5df74f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f79e5df7460>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f79e5df7490>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f79e5df7400>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f79e5df7460>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <fastapi.routing.APIRouter object at 0x7f79e5df6c80>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f79e5df7400>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <function Router.lifespan at 0x7f79e64fec20>
          └ <fastapi.routing.APIRouter object at 0x7f79e5df6c80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f79e5df6c20>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f79e5df6ce0>
               └ <fastapi.routing.APIRouter object at 0x7f79e5df6c80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f79e64feb00>
          │    └ <fastapi.routing.APIRouter object at 0x7f79e5df6c80>
          └ <starlette.routing._DefaultLifespan object at 0x7f79e5df6ce0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f79e5e15750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f79e5e7bc70>
          └ <bot_app.TelegramBot object at 0x7f79e5df7190>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 64, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f79e5e7bd00>
          └ <bot_app.TelegramBot object at 0x7f79e5df7190>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 82, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f79e5e560e0>
          │                 └ <bot_app.TelegramBot object at 0x7f79e5df7190>
          └ <function on_startup_notify at 0x7f79e5cdf7f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f79e716b9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f79e5e544f0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f79e5e560e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f79e7127a90>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f79e716a170>
                   └ <aiogram.bot.bot.Bot object at 0x7f79e5e544f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f79e5e544f0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f79e5e544f0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f79e7169a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f79e5e544f0>
                 │   └ <function make_request at 0x7f79e71030a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f79e7f093f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f79e8469e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f79e7102dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f79e71027a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T13:39:34.911982+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T13:39:45.461064+0900 INFO Unable to post message
2022-06-27T14:10:28.392513+0900 WARNING Shutting down!..
2022-06-27T14:10:29.189580+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T14:10:29.189814+0900 WARNING Bye!
2022-06-27T14:12:19.884844+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 170, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f8f42071630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f8f42070700>
    └ <uvicorn.server.Server object at 0x7f8f4214fd90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f8f42070790>
           │       │   └ <uvicorn.server.Server object at 0x7f8f4214fd90>
           │       └ <function run at 0x7f8f45707d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f8f42026f80>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f8f44dde680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f8f44dde5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f8f44de0160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f8f44f8fac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f8f420d0ee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>
          │   │      │    └ <function LifespanOn.receive at 0x7f8f420d0f70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8f...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f8f42180040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8f...
                 │    └ <fastapi.applications.FastAPI object at 0x7f8f420bed10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f8f42180040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8f...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8f...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f8f420bf5e0>
          └ <fastapi.applications.FastAPI object at 0x7f8f420bed10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8f...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f8f420bf580>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f8f420bf5e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8f...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f8f420bf550>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f8f420bf580>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8f...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f8f420bf4f0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f8f420bf550>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8f...
          │    └ <fastapi.routing.APIRouter object at 0x7f8f420bed70>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f8f420bf4f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8f...
          │    └ <function Router.lifespan at 0x7f8f427d6c20>
          └ <fastapi.routing.APIRouter object at 0x7f8f420bed70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f8f420bed10>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f8f420bedd0>
               └ <fastapi.routing.APIRouter object at 0x7f8f420bed70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f8f427d6b00>
          │    └ <fastapi.routing.APIRouter object at 0x7f8f420bed70>
          └ <starlette.routing._DefaultLifespan object at 0x7f8f420bedd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f8f420d1750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f8f42137c70>
          └ <bot_app.TelegramBot object at 0x7f8f420bf280>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 64, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f8f42137d00>
          └ <bot_app.TelegramBot object at 0x7f8f420bf280>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 82, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f8f4210e1d0>
          │                 └ <bot_app.TelegramBot object at 0x7f8f420bf280>
          └ <function on_startup_notify at 0x7f8f41f9f7f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f8f439a39a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f8f4210c5e0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f8f4210e1d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f8f4395fac0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f8f439a2170>
                   └ <aiogram.bot.bot.Bot object at 0x7f8f4210c5e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f8f4210c5e0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f8f4210c5e0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f8f439a1a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f8f4210c5e0>
                 │   └ <function make_request at 0x7f8f4393f0a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f8f444513f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f8f44545e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f8f4393edd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f8f4393e7a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T14:12:20.499763+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T14:12:55.618969+0900 WARNING Shutting down!..
2022-06-27T14:12:56.237196+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T14:12:56.237360+0900 WARNING Bye!
2022-06-27T14:12:57.978846+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 170, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f4b2f5ed630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f4b2f5ec700>
    └ <uvicorn.server.Server object at 0x7f4b2f6cbdf0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f4b2f5ec790>
           │       │   └ <uvicorn.server.Server object at 0x7f4b2f6cbdf0>
           │       └ <function run at 0x7f4b32c9bd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f4b2f5a2f80>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f4b3236a680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f4b3236a5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f4b32370160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f4b3251fac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f4b2f64cee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>
          │   │      │    └ <function LifespanOn.receive at 0x7f4b2f64cf70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4b2f7000a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
                 │    └ <fastapi.applications.FastAPI object at 0x7f4b2f63ad70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4b2f7000a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f4b2f63b640>
          └ <fastapi.applications.FastAPI object at 0x7f4b2f63ad70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f4b2f63b5e0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f4b2f63b640>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f4b2f63b5b0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f4b2f63b5e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f4b2f63b550>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f4b2f63b5b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          │    └ <fastapi.routing.APIRouter object at 0x7f4b2f63add0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f4b2f63b550>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          │    └ <function Router.lifespan at 0x7f4b2fd66c20>
          └ <fastapi.routing.APIRouter object at 0x7f4b2f63add0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f4b2f63ad70>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f4b2f63ae30>
               └ <fastapi.routing.APIRouter object at 0x7f4b2f63add0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f4b2fd66b00>
          │    └ <fastapi.routing.APIRouter object at 0x7f4b2f63add0>
          └ <starlette.routing._DefaultLifespan object at 0x7f4b2f63ae30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f4b2f64d750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f4b2f6b3c70>
          └ <bot_app.TelegramBot object at 0x7f4b2f63b2e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 64, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f4b2f6b3d00>
          └ <bot_app.TelegramBot object at 0x7f4b2f63b2e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 82, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f4b2f886230>
          │                 └ <bot_app.TelegramBot object at 0x7f4b2f63b2e0>
          └ <function on_startup_notify at 0x7f4b2f5177f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f4b309579a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f4b2f884640>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f4b2f886230>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f4b30913ac0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f4b30956170>
                   └ <aiogram.bot.bot.Bot object at 0x7f4b2f884640>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f4b2f884640>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f4b2f884640>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f4b30955a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f4b2f884640>
                 │   └ <function make_request at 0x7f4b308ef0a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f4b31bcd3f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f4b31ce6020>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f4b308eedd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f4b308ee7a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T14:12:58.592644+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T14:13:50.573149+0900 WARNING Shutting down!..
2022-06-27T14:13:51.283327+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T14:13:51.283503+0900 WARNING Bye!
2022-06-27T14:13:54.709970+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 170, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f187d87d750>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f187d87c820>
    └ <uvicorn.server.Server object at 0x7f187d984250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f187d87c8b0>
           │       │   └ <uvicorn.server.Server object at 0x7f187d984250>
           │       └ <function run at 0x7f1880f2fd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f187d837060>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f18805fe680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f18805fe5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f1880604160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f18807b3ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f187d8e1000>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>
          │   │      │    └ <function LifespanOn.receive at 0x7f187d8e1090>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f187d890c70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
                 │    └ <fastapi.applications.FastAPI object at 0x7f187d8c3190>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f187d890c70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f187d8c3a60>
          └ <fastapi.applications.FastAPI object at 0x7f187d8c3190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f187d8c3a00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f187d8c3a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f187d8c39d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f187d8c3a00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f187d8c3970>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f187d8c39d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          │    └ <fastapi.routing.APIRouter object at 0x7f187d8c31f0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f187d8c3970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          │    └ <function Router.lifespan at 0x7f187dfe6c20>
          └ <fastapi.routing.APIRouter object at 0x7f187d8c31f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f187d8c3190>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f187d8c3250>
               └ <fastapi.routing.APIRouter object at 0x7f187d8c31f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f187dfe6b00>
          │    └ <fastapi.routing.APIRouter object at 0x7f187d8c31f0>
          └ <starlette.routing._DefaultLifespan object at 0x7f187d8c3250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f187d8e1870>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f187d93fd90>
          └ <bot_app.TelegramBot object at 0x7f187d8c3700>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 64, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f187d93fe20>
          └ <bot_app.TelegramBot object at 0x7f187d8c3700>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 82, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f187d921240>
          │                 └ <bot_app.TelegramBot object at 0x7f187d8c3700>
          └ <function on_startup_notify at 0x7f187d7b3910>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f187ec579a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f187d920fa0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f187d921240>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f187ec13ac0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f187ec56170>
                   └ <aiogram.bot.bot.Bot object at 0x7f187d920fa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f187d920fa0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f187d920fa0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f187ec55a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f187d920fa0>
                 │   └ <function make_request at 0x7f187ebf30a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f187fbf93f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f187ff56070>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f187ebf2dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f187ebf27a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T14:13:55.324770+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T14:14:10.087415+0900 ERROR sequence item 0: expected str instance, int found
2022-06-27T14:14:10.087577+0900 ERROR Cant parse all user's tickets
2022-06-27T14:14:12.732626+0900 ERROR sequence item 0: expected str instance, int found
2022-06-27T14:14:12.732821+0900 ERROR Cant parse all user's tickets
2022-06-27T14:14:17.135338+0900 ERROR sequence item 0: expected str instance, int found
2022-06-27T14:14:17.135492+0900 ERROR Cant parse all user's tickets
2022-06-27T14:14:19.888967+0900 WARNING Shutting down!..
2022-06-27T14:14:20.103684+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T14:14:20.103863+0900 WARNING Bye!
2022-06-27T14:20:49.229337+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7ff831725510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 34879, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7ff831724550>
              └ <__main__.PyDB object at 0x7ff8318b94b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7ff8317245e0>
           └ <__main__.PyDB object at 0x7ff8318b94b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7ff831ca0f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 170, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7ff8297c7520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7ff8297c65f0>
    └ <uvicorn.server.Server object at 0x7ff8298cbee0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7ff8297c6680>
           │       │   └ <uvicorn.server.Server object at 0x7ff8298cbee0>
           │       └ <function run at 0x7ff8318dd5a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7ff8297f0660>
           │    └ <function BaseEventLoop.run_until_complete at 0x7ff83193bd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7ff83193bc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7ff8319497e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7ff8318a51b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7ff82985f9a0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>
          │   │      │    └ <function LifespanOn.receive at 0x7ff82985fa30>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff829810c10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
                 │    └ <fastapi.applications.FastAPI object at 0x7ff82984f160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff829810c10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff82984fa30>
          └ <fastapi.applications.FastAPI object at 0x7ff82984f160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff82984f9d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff82984fa30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff82984f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff82984f9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7ff82984f940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff82984f9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          │    └ <fastapi.routing.APIRouter object at 0x7ff82984f1c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7ff82984f940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          │    └ <function Router.lifespan at 0x7ff829ef65f0>
          └ <fastapi.routing.APIRouter object at 0x7ff82984f1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7ff82984f160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7ff82984f220>
               └ <fastapi.routing.APIRouter object at 0x7ff82984f1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7ff829ef64d0>
          │    └ <fastapi.routing.APIRouter object at 0x7ff82984f1c0>
          └ <starlette.routing._DefaultLifespan object at 0x7ff82984f220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7ff829870280>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7ff8298d1360>
          └ <bot_app.TelegramBot object at 0x7ff82984f6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 64, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7ff8298d13f0>
          └ <bot_app.TelegramBot object at 0x7ff82984f6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 82, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7ff8298893c0>
          │                 └ <bot_app.TelegramBot object at 0x7ff82984f6d0>
          └ <function on_startup_notify at 0x7ff8295a6d40>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7ff82abb0b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7ff829888b20>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7ff8298893c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7ff82ab53e20>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7ff82ab832e0>
                   └ <aiogram.bot.bot.Bot object at 0x7ff829888b20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7ff829888b20>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7ff829888b20>
                 │   │                  │    └ <function BaseBot.get_session at 0x7ff82ab82b90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7ff829888b20>
                 │   └ <function make_request at 0x7ff82ab80160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7ff830030e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7ff830106340>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7ff82ab13e20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7ff82ab137f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T14:20:49.843970+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T14:25:12.137893+0900 ERROR sequence item 0: expected str instance, int found
2022-06-27T14:26:10.664338+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 170, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fd71787d6c0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fd71787c790>
    └ <uvicorn.server.Server object at 0x7fd717984220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fd71787c820>
           │       │   └ <uvicorn.server.Server object at 0x7fd717984220>
           │       └ <function run at 0x7fd71af23d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fd71782eff0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fd71a5f2680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fd71a5f25f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fd71a5f4160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fd71a7a7ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fd7178d8f70>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>
          │   │      │    └ <function LifespanOn.receive at 0x7fd7178d9000>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd7...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd71788cc40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd7...
                 │    └ <fastapi.applications.FastAPI object at 0x7fd7178bf160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd71788cc40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd7...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd7...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd7178bfa30>
          └ <fastapi.applications.FastAPI object at 0x7fd7178bf160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd7...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd7178bf9d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd7178bfa30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd7...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd7178bf9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd7178bf9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd7...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd7178bf940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd7178bf9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd7...
          │    └ <fastapi.routing.APIRouter object at 0x7fd7178bf1c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd7178bf940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd7...
          │    └ <function Router.lifespan at 0x7fd717feac20>
          └ <fastapi.routing.APIRouter object at 0x7fd7178bf1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fd7178bf160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fd7178bf220>
               └ <fastapi.routing.APIRouter object at 0x7fd7178bf1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fd717feab00>
          │    └ <fastapi.routing.APIRouter object at 0x7fd7178bf1c0>
          └ <starlette.routing._DefaultLifespan object at 0x7fd7178bf220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fd7178d97e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fd717937d90>
          └ <bot_app.TelegramBot object at 0x7fd7178bf6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 64, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fd717937e20>
          └ <bot_app.TelegramBot object at 0x7fd7178bf6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 82, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd7179211e0>
          │                 └ <bot_app.TelegramBot object at 0x7fd7178bf6d0>
          └ <function on_startup_notify at 0x7fd7177a7880>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fd718c579a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7fd717920f40>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd7179211e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fd718c13e80>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fd718c56170>
                   └ <aiogram.bot.bot.Bot object at 0x7fd717920f40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fd717920f40>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fd717920f40>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fd718c55a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fd717920f40>
                 │   └ <function make_request at 0x7fd718bef0a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fd719bf53f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fd719f55fd0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fd718beedd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fd718bee7a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T14:26:11.073975+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T14:26:14.585844+0900 WARNING Shutting down!..
2022-06-27T14:26:14.760675+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T14:26:14.760892+0900 WARNING Bye!
2022-06-27T14:26:17.424890+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f261f0e9510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 39951, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f261f0e8550>
              └ <__main__.PyDB object at 0x7f261f26d4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f261f0e85e0>
           └ <__main__.PyDB object at 0x7f261f26d4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f261f668f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 170, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f260f18b520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f260f18a5f0>
    └ <uvicorn.server.Server object at 0x7f260f28beb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f260f18a680>
           │       │   └ <uvicorn.server.Server object at 0x7f260f28beb0>
           │       └ <function run at 0x7f261f29d5a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f260f1b8660>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f261f2ffd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f261f2ffc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f261f30d7e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f261f2651b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f260f21f9a0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>
          │   │      │    └ <function LifespanOn.receive at 0x7f260f21fa30>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f26...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f260f1d0be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f26...
                 │    └ <fastapi.applications.FastAPI object at 0x7f260f20f130>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f260f1d0be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f26...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f26...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f260f20fa00>
          └ <fastapi.applications.FastAPI object at 0x7f260f20f130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f26...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f260f20f9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f260f20fa00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f26...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f260f20f970>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f260f20f9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f26...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f260f20f910>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f260f20f970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f26...
          │    └ <fastapi.routing.APIRouter object at 0x7f260f20f190>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f260f20f910>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f26...
          │    └ <function Router.lifespan at 0x7f260f89e5f0>
          └ <fastapi.routing.APIRouter object at 0x7f260f20f190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f260f20f130>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f260f20f1f0>
               └ <fastapi.routing.APIRouter object at 0x7f260f20f190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f260f89e4d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f260f20f190>
          └ <starlette.routing._DefaultLifespan object at 0x7f260f20f1f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f260f034280>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f260f291360>
          └ <bot_app.TelegramBot object at 0x7f260f20f6a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 64, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f260f2913f0>
          └ <bot_app.TelegramBot object at 0x7f260f20f6a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 82, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f260f24d390>
          │                 └ <bot_app.TelegramBot object at 0x7f260f20f6a0>
          └ <function on_startup_notify at 0x7f260ef6ad40>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f260ffb8b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f260f24caf0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f260f24d390>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f260ff5b340>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f260ff8f2e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f260f24caf0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f260f24caf0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f260f24caf0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f260ff8eb90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f260f24caf0>
                 │   └ <function make_request at 0x7f260ff8c160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f261cf38e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f261d30e7a0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f260ff1be20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f260ff1b7f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T14:26:18.140048+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T14:28:28.088416+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f9452779510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 34897, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f9452778550>
              └ <__main__.PyDB object at 0x7f94526a14b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f94527785e0>
           └ <__main__.PyDB object at 0x7f94526a14b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f9452a90f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 170, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f9442597520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f94425965f0>
    └ <uvicorn.server.Server object at 0x7f9442697f40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f9442596680>
           │       │   └ <uvicorn.server.Server object at 0x7f9442697f40>
           │       └ <function run at 0x7f94526ad5a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f94425c4660>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f945271bd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f945271bc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f94527297e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f94526991b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f944262b9a0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>
          │   │      │    └ <function LifespanOn.receive at 0x7f944262ba30>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f94425dcc70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
                 │    └ <fastapi.applications.FastAPI object at 0x7f94426171c0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f94425dcc70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9442617a90>
          └ <fastapi.applications.FastAPI object at 0x7f94426171c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9442617a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9442617a90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9442617a00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9442617a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f94426179a0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9442617a00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <fastapi.routing.APIRouter object at 0x7f9442617220>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f94426179a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <function Router.lifespan at 0x7f9442caa5f0>
          └ <fastapi.routing.APIRouter object at 0x7f9442617220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f94426171c0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f9442617280>
               └ <fastapi.routing.APIRouter object at 0x7f9442617220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f9442caa4d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f9442617220>
          └ <starlette.routing._DefaultLifespan object at 0x7f9442617280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f944263c280>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f944269d360>
          └ <bot_app.TelegramBot object at 0x7f9442617730>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 64, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f944269d3f0>
          └ <bot_app.TelegramBot object at 0x7f9442617730>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 82, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9442851420>
          │                 └ <bot_app.TelegramBot object at 0x7f9442617730>
          └ <function on_startup_notify at 0x7f9442376d40>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f9443ba0b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f9442850b80>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9442851420>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f9443b42f80>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f9443b732e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f9442850b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f9442850b80>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f9442850b80>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f9443b72b90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f9442850b80>
                 │   └ <function make_request at 0x7f9443b70160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f945031ce50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f9450c8e2f0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f9443b03e20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f9443b037f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T14:28:28.498227+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T14:28:56.778825+0900 ERROR sequence item 0: expected str instance, int found
2022-06-27T14:28:59.775258+0900 ERROR Cant parse all user's tickets
2022-06-27T14:31:35.205943+0900 ERROR sequence item 0: expected str instance, int found
2022-06-27T14:31:35.206290+0900 ERROR Cant parse all user's tickets
2022-06-27T14:31:37.672187+0900 ERROR sequence item 0: expected str instance, int found
2022-06-27T14:31:37.672450+0900 ERROR Cant parse all user's tickets
2022-06-27T15:42:56.868303+0900 WARNING Shutting down!..
2022-06-27T15:42:57.480818+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T15:42:57.480980+0900 WARNING Bye!
2022-06-27T15:42:57.481079+0900 ERROR Couldn't start bot 
'NoneType' object has no attribute 'qus_ans_calls'
2022-06-27T15:43:19.803956+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f39b993d750>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f39b993c820>
    └ <uvicorn.server.Server object at 0x7f39b9a402b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f39b993c8b0>
           │       │   └ <uvicorn.server.Server object at 0x7f39b9a402b0>
           │       └ <function run at 0x7f39bcfcbd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f39b98f3060>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f39bc69e680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f39bc69e5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f39bc6a0160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f39bc853ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f39b999d000>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>
          │   │      │    └ <function LifespanOn.receive at 0x7f39b999d090>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f39...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f39b994cd00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f39...
                 │    └ <fastapi.applications.FastAPI object at 0x7f39b997f220>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f39b994cd00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f39...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f39...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f39b997faf0>
          └ <fastapi.applications.FastAPI object at 0x7f39b997f220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f39...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f39b997fa90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f39b997faf0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f39...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f39b997fa60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f39b997fa90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f39...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f39b997fa00>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f39b997fa60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f39...
          │    └ <fastapi.routing.APIRouter object at 0x7f39b997f280>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f39b997fa00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f39...
          │    └ <function Router.lifespan at 0x7f39ba08ac20>
          └ <fastapi.routing.APIRouter object at 0x7f39b997f280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f39b997f220>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f39b997f2e0>
               └ <fastapi.routing.APIRouter object at 0x7f39b997f280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f39ba08ab00>
          │    └ <fastapi.routing.APIRouter object at 0x7f39b997f280>
          └ <starlette.routing._DefaultLifespan object at 0x7f39b997f2e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f39b999d870>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f39b99fbe20>
          └ <bot_app.TelegramBot object at 0x7f39b997f790>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f39b99fbeb0>
          └ <bot_app.TelegramBot object at 0x7f39b997f790>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 88, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f39b99dd270>
          │                 └ <bot_app.TelegramBot object at 0x7f39b997f790>
          └ <function on_startup_notify at 0x7f39b986f6d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f39bac5b9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f39b99dcfd0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f39b99dd270>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f39bac17a90>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f39bac5a170>
                   └ <aiogram.bot.bot.Bot object at 0x7f39b99dcfd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f39b99dcfd0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f39b99dcfd0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f39bac59a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f39b99dcfd0>
                 │   └ <function make_request at 0x7f39babf30a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f39bbbf93f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f39bbfedfd0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f39babf2dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f39babf27a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:43:20.418382+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:44:07.274214+0900 WARNING Shutting down!..
2022-06-27T15:44:08.037187+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T15:44:08.037425+0900 WARNING Bye!
2022-06-27T15:44:09.980661+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f92c38c97e0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f92c38c88b0>
    └ <uvicorn.server.Server object at 0x7f92c39cc2b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f92c38c8940>
           │       │   └ <uvicorn.server.Server object at 0x7f92c39cc2b0>
           │       └ <function run at 0x7f92c6f6fd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f92c387b060>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f92c663e680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f92c663e5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f92c6640160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f92c67f3ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f92c3925090>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>
          │   │      │    └ <function LifespanOn.receive at 0x7f92c3925120>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f92...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f92c38d8d00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f92...
                 │    └ <fastapi.applications.FastAPI object at 0x7f92c3907220>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f92c38d8d00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f92...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f92...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f92c3907af0>
          └ <fastapi.applications.FastAPI object at 0x7f92c3907220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f92...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f92c3907a90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f92c3907af0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f92...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f92c3907a60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f92c3907a90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f92...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f92c3907a00>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f92c3907a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f92...
          │    └ <fastapi.routing.APIRouter object at 0x7f92c3907280>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f92c3907a00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f92...
          │    └ <function Router.lifespan at 0x7f92c403ec20>
          └ <fastapi.routing.APIRouter object at 0x7f92c3907280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f92c3907220>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f92c39072e0>
               └ <fastapi.routing.APIRouter object at 0x7f92c3907280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f92c403eb00>
          │    └ <fastapi.routing.APIRouter object at 0x7f92c3907280>
          └ <starlette.routing._DefaultLifespan object at 0x7f92c39072e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f92c3925900>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f92c3983eb0>
          └ <bot_app.TelegramBot object at 0x7f92c3907790>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f92c3983f40>
          └ <bot_app.TelegramBot object at 0x7f92c3907790>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 88, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f92c3965270>
          │                 └ <bot_app.TelegramBot object at 0x7f92c3907790>
          └ <function on_startup_notify at 0x7f92c37f7760>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f92c4c579a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f92c3964fd0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f92c3965270>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f92c4c13a90>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f92c4c56170>
                   └ <aiogram.bot.bot.Bot object at 0x7f92c3964fd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f92c3964fd0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f92c3964fd0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f92c4c55a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f92c3964fd0>
                 │   └ <function make_request at 0x7f92c4bef0a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f92c5bf93f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f92c5f59d00>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f92c4beedd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f92c4bee7a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:44:10.595696+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:44:14.589828+0900 ERROR '_asyncio.Future' object has no attribute 'acknowledged'
2022-06-27T15:44:14.590292+0900 ERROR Cant parse all user's tickets
2022-06-27T15:44:15.001745+0900 ERROR '_asyncio.Future' object has no attribute 'acknowledged'
2022-06-27T15:44:15.002314+0900 ERROR Cant parse all user's tickets
2022-06-27T15:44:17.348808+0900 ERROR '_asyncio.Future' object has no attribute 'acknowledged'
2022-06-27T15:44:17.349309+0900 ERROR Cant parse all user's tickets
2022-06-27T15:44:21.641292+0900 ERROR '_asyncio.Future' object has no attribute 'acknowledged'
2022-06-27T15:44:21.641679+0900 ERROR Cant parse all user's tickets
2022-06-27T15:44:29.950996+0900 ERROR '_asyncio.Future' object has no attribute 'acknowledged'
2022-06-27T15:44:29.951446+0900 ERROR Cant parse all user's tickets
2022-06-27T15:44:32.183072+0900 WARNING Shutting down!..
2022-06-27T15:44:32.408272+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T15:44:32.408436+0900 WARNING Bye!
2022-06-27T15:44:34.351952+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f58be8cd630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f58be8cc700>
    └ <uvicorn.server.Server object at 0x7f58be9d41f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f58be8cc790>
           │       │   └ <uvicorn.server.Server object at 0x7f58be9d41f0>
           │       └ <function run at 0x7f58c1f43d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f58be87b060>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f58c161a680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f58c161a5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f58c161c160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f58c17cbac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f58be924ee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>
          │   │      │    └ <function LifespanOn.receive at 0x7f58be924f70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f58be8d8c40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
                 │    └ <fastapi.applications.FastAPI object at 0x7f58be907160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f58be8d8c40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f58be907a30>
          └ <fastapi.applications.FastAPI object at 0x7f58be907160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f58be9079d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f58be907a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f58be9079a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f58be9079d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f58be907940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f58be9079a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <fastapi.routing.APIRouter object at 0x7f58be9071c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f58be907940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <function Router.lifespan at 0x7f58bf00ac20>
          └ <fastapi.routing.APIRouter object at 0x7f58be9071c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f58be907160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f58be907220>
               └ <fastapi.routing.APIRouter object at 0x7f58be9071c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f58bf00ab00>
          │    └ <fastapi.routing.APIRouter object at 0x7f58be9071c0>
          └ <starlette.routing._DefaultLifespan object at 0x7f58be907220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f58be925750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f58be987d00>
          └ <bot_app.TelegramBot object at 0x7f58be9076d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f58be987d90>
          └ <bot_app.TelegramBot object at 0x7f58be9076d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 88, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f58be96d1b0>
          │                 └ <bot_app.TelegramBot object at 0x7f58be9076d0>
          └ <function on_startup_notify at 0x7f58be7f75b0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f58c01ab9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f58be96cf10>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f58be96d1b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f58c0167fd0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f58c01aa170>
                   └ <aiogram.bot.bot.Bot object at 0x7f58be96cf10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f58be96cf10>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f58be96cf10>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f58c01a9a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f58be96cf10>
                 │   └ <function make_request at 0x7f58c01430a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f58c0c813f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f58c0f69ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f58c0142dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f58c01427a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:44:34.966389+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:45:03.567534+0900 WARNING Shutting down!..
2022-06-27T15:45:03.743243+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T15:45:03.743420+0900 WARNING Bye!
2022-06-27T15:45:06.403770+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7efc3f789510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 46029, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7efc3f788550>
              └ <__main__.PyDB object at 0x7efc3f6b14b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7efc3f7885e0>
           └ <__main__.PyDB object at 0x7efc3f6b14b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7efc3faa0f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7efc2f5b35b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7efc2f5b2680>
    └ <uvicorn.server.Server object at 0x7efc2f6b7e50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7efc2f5b2710>
           │       │   └ <uvicorn.server.Server object at 0x7efc2f6b7e50>
           │       └ <function run at 0x7efc3f6bd5a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7efc2f5dc6d0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7efc3f72bd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7efc3f72bc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7efc3f7397e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7efc3f6a91b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7efc2f64ba30>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>
          │   │      │    └ <function LifespanOn.receive at 0x7efc2f64bac0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7efc2f5f8b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
                 │    └ <fastapi.applications.FastAPI object at 0x7efc2f63b0d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7efc2f5f8b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7efc2f63b9a0>
          └ <fastapi.applications.FastAPI object at 0x7efc2f63b0d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7efc2f63b940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7efc2f63b9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7efc2f63b910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7efc2f63b940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7efc2f63b8b0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7efc2f63b910>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <fastapi.routing.APIRouter object at 0x7efc2f63b130>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7efc2f63b8b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <function Router.lifespan at 0x7efc2fcda5f0>
          └ <fastapi.routing.APIRouter object at 0x7efc2f63b130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7efc2f63b0d0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7efc2f63b190>
               └ <fastapi.routing.APIRouter object at 0x7efc2f63b130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7efc2fcda4d0>
          │    └ <fastapi.routing.APIRouter object at 0x7efc2f63b130>
          └ <starlette.routing._DefaultLifespan object at 0x7efc2f63b190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7efc2f65c310>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7efc2f6c13f0>
          └ <bot_app.TelegramBot object at 0x7efc2f63b640>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7efc2f6c1480>
          └ <bot_app.TelegramBot object at 0x7efc2f63b640>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 88, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7efc2f875300>
          │                 └ <bot_app.TelegramBot object at 0x7efc2f63b640>
          └ <function on_startup_notify at 0x7efc2f39ab90>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7efc3c468b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7efc2f874a60>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7efc2f875300>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7efc3c40bf40>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7efc3c43b2e0>
                   └ <aiogram.bot.bot.Bot object at 0x7efc2f874a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7efc2f874a60>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7efc2f874a60>
                 │   │                  │    └ <function BaseBot.get_session at 0x7efc3c43ab90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7efc2f874a60>
                 │   └ <function make_request at 0x7efc3c438160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7efc3d31ce50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7efc3dc9e2f0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7efc3c5cbe20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7efc3c5cb7f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:45:07.121322+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:45:54.781556+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f133ee9d510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 46029, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f133ee9c550>
              └ <__main__.PyDB object at 0x7f133f0514b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f133ee9c5e0>
           └ <__main__.PyDB object at 0x7f133f0514b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f133f474f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f132ef4b5b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f132ef4a680>
    └ <uvicorn.server.Server object at 0x7f132f04ffd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f132ef4a710>
           │       │   └ <uvicorn.server.Server object at 0x7f132f04ffd0>
           │       └ <function run at 0x7f133f0755a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f132ef746d0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f133f0d3d00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f133f0d3c70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f133f0e17e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f133f03d1b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f132efe3a30>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>
          │   │      │    └ <function LifespanOn.receive at 0x7f132efe3ac0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f132ef90d00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
                 │    └ <fastapi.applications.FastAPI object at 0x7f132efd3250>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f132ef90d00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f132efd3b20>
          └ <fastapi.applications.FastAPI object at 0x7f132efd3250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f132efd3ac0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f132efd3b20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f132efd3a90>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f132efd3ac0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f132efd3a30>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f132efd3a90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          │    └ <fastapi.routing.APIRouter object at 0x7f132efd32b0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f132efd3a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          │    └ <function Router.lifespan at 0x7f132f6625f0>
          └ <fastapi.routing.APIRouter object at 0x7f132efd32b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f132efd3250>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f132efd3310>
               └ <fastapi.routing.APIRouter object at 0x7f132efd32b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f132f6624d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f132efd32b0>
          └ <starlette.routing._DefaultLifespan object at 0x7f132efd3310>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f132eff4310>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f132f0553f0>
          └ <bot_app.TelegramBot object at 0x7f132efd37c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f132f055480>
          └ <bot_app.TelegramBot object at 0x7f132efd37c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 88, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f132f00d480>
          │                 └ <bot_app.TelegramBot object at 0x7f132efd37c0>
          └ <function on_startup_notify at 0x7f132ed2ab90>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f133c0a4b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f132f00cbe0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f132f00d480>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f133c047400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f133c06f2e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f132f00cbe0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f132f00cbe0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f132f00cbe0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f133c06eb90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f132f00cbe0>
                 │   └ <function make_request at 0x7f133c06c160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f133cd24e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f133d62a570>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f133c007e20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f133c0077f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:45:55.187876+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:46:10.153028+0900 WARNING Shutting down!..
2022-06-27T15:46:10.406340+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T15:46:10.406607+0900 WARNING Bye!
2022-06-27T15:46:13.169491+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f74e4e31510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 36947, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f74e4e30550>
              └ <__main__.PyDB object at 0x7f74e4fb54b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f74e4e305e0>
           └ <__main__.PyDB object at 0x7f74e4fb54b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f74e53b0f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f74dceaf5b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f74dceae680>
    └ <uvicorn.server.Server object at 0x7f74dcfb3f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f74dceae710>
           │       │   └ <uvicorn.server.Server object at 0x7f74dcfb3f10>
           │       └ <function run at 0x7f74e4fe55a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f74dced86d0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f74e5047d00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f74e5047c70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f74e50557e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f74e4fad1b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f74dcf47a30>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>
          │   │      │    └ <function LifespanOn.receive at 0x7f74dcf47ac0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f74dcef8c40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
                 │    └ <fastapi.applications.FastAPI object at 0x7f74dcf37190>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f74dcef8c40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f74dcf37a60>
          └ <fastapi.applications.FastAPI object at 0x7f74dcf37190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f74dcf37a00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f74dcf37a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f74dcf379d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f74dcf37a00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f74dcf37970>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f74dcf379d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          │    └ <fastapi.routing.APIRouter object at 0x7f74dcf371f0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f74dcf37970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          │    └ <function Router.lifespan at 0x7f74dd5c65f0>
          └ <fastapi.routing.APIRouter object at 0x7f74dcf371f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f74dcf37190>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f74dcf37250>
               └ <fastapi.routing.APIRouter object at 0x7f74dcf371f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f74dd5c64d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f74dcf371f0>
          └ <starlette.routing._DefaultLifespan object at 0x7f74dcf37250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f74dcd5c310>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f74dcfbd3f0>
          └ <bot_app.TelegramBot object at 0x7f74dcf37700>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f74dcfbd480>
          └ <bot_app.TelegramBot object at 0x7f74dcf37700>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 88, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f74dcf753c0>
          │                 └ <bot_app.TelegramBot object at 0x7f74dcf37700>
          └ <function on_startup_notify at 0x7f74dcc92b90>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f74de7bcb80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f74dcf74b20>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f74dcf753c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f74de75fdc0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f74de78f2e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f74dcf74b20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f74dcf74b20>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f74dcf74b20>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f74de78eb90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f74dcf74b20>
                 │   └ <function make_request at 0x7f74de78c160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f74e41b4e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f74e42b25c0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f74de71fe20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f74de71f7f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:46:13.785760+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:52:21.814308+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fb21bd615a0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fb21bd60670>
    └ <uvicorn.server.Server object at 0x7fb21be64250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fb21bd60700>
           │       │   └ <uvicorn.server.Server object at 0x7fb21be64250>
           │       └ <function run at 0x7fb21f40bd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fb21bd0f0d0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fb21eada680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fb21eada5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fb21eadc160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fb21ec8fac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fb21bdb8e50>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>
          │   │      │    └ <function LifespanOn.receive at 0x7fb21bdb8ee0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb21bd6cca0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb21bdab1c0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb21bd6cca0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb21bdaba90>
          └ <fastapi.applications.FastAPI object at 0x7fb21bdab1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb21bdaba30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb21bdaba90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb21bdaba00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb21bdaba30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb21bdab9a0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb21bdaba00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          │    └ <fastapi.routing.APIRouter object at 0x7fb21bdab220>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb21bdab9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          │    └ <function Router.lifespan at 0x7fb21c4c2c20>
          └ <fastapi.routing.APIRouter object at 0x7fb21bdab220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fb21bdab1c0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fb21bdab280>
               └ <fastapi.routing.APIRouter object at 0x7fb21bdab220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fb21c4c2b00>
          │    └ <fastapi.routing.APIRouter object at 0x7fb21bdab220>
          └ <starlette.routing._DefaultLifespan object at 0x7fb21bdab280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fb21bdb96c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fb21be1bc70>
          └ <bot_app.TelegramBot object at 0x7fb21bdab730>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fb21be1bd00>
          └ <bot_app.TelegramBot object at 0x7fb21bdab730>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb21bdfd210>
          │                 └ <bot_app.TelegramBot object at 0x7fb21bdab730>
          └ <function on_startup_notify at 0x7fb21bc8f520>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fb21d1579a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7fb21bdfcf70>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb21bdfd210>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fb21d113a90>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fb21d156170>
                   └ <aiogram.bot.bot.Bot object at 0x7fb21bdfcf70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fb21bdfcf70>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fb21bdfcf70>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fb21d155a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fb21bdfcf70>
                 │   └ <function make_request at 0x7fb21d0ef0a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fb21e33d3f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fb21e459da0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fb21d0eedd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fb21d0ee7a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:52:22.222115+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:54:21.400272+0900 WARNING Shutting down!..
2022-06-27T15:54:22.236187+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T15:54:22.236353+0900 WARNING Bye!
2022-06-27T15:54:24.082178+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f2abafe1870>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f2abafe0940>
    └ <uvicorn.server.Server object at 0x7f2abb0e81f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f2abafe09d0>
           │       │   └ <uvicorn.server.Server object at 0x7f2abb0e81f0>
           │       └ <function run at 0x7f2abe677d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f2abaf931b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f2abdd4e680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f2abdd4e5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f2abdd50160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f2abdeffac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f2abb041120>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>
          │   │      │    └ <function LifespanOn.receive at 0x7f2abb0411b0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2a...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2abaff4c40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2a...
                 │    └ <fastapi.applications.FastAPI object at 0x7f2abb02f160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2abaff4c40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2a...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2a...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2abb02fa30>
          └ <fastapi.applications.FastAPI object at 0x7f2abb02f160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2a...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f2abb02f9d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2abb02fa30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2a...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2abb02f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f2abb02f9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2a...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2abb02f940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2abb02f9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2a...
          │    └ <fastapi.routing.APIRouter object at 0x7f2abb02f1c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2abb02f940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2a...
          │    └ <function Router.lifespan at 0x7f2abb762c20>
          └ <fastapi.routing.APIRouter object at 0x7f2abb02f1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f2abb02f160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f2abb02f220>
               └ <fastapi.routing.APIRouter object at 0x7f2abb02f1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f2abb762b00>
          │    └ <fastapi.routing.APIRouter object at 0x7f2abb02f1c0>
          └ <starlette.routing._DefaultLifespan object at 0x7f2abb02f220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f2abb041990>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f2abb09ff40>
          └ <bot_app.TelegramBot object at 0x7f2abb02f6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f2abb0c4040>
          └ <bot_app.TelegramBot object at 0x7f2abb02f6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f2abb0851b0>
          │                 └ <bot_app.TelegramBot object at 0x7f2abb02f6d0>
          └ <function on_startup_notify at 0x7f2abaf0f7f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f2abc36b9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f2abb084f10>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f2abb0851b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f2abc327ac0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f2abc36a170>
                   └ <aiogram.bot.bot.Bot object at 0x7f2abb084f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f2abb084f10>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f2abb084f10>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f2abc369a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f2abb084f10>
                 │   └ <function make_request at 0x7f2abc3030a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f2abd10d3f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f2abd666020>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f2abc302dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f2abc3027a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:54:24.581317+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:55:22.668740+0900 WARNING Shutting down!..
2022-06-27T15:55:23.458328+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T15:55:23.458497+0900 WARNING Bye!
2022-06-27T15:55:25.419289+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fa638711870>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fa638710940>
    └ <uvicorn.server.Server object at 0x7fa638810250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fa6387109d0>
           │       │   └ <uvicorn.server.Server object at 0x7fa638810250>
           │       └ <function run at 0x7fa63bdbbd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fa6386c3140>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fa63b492680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fa63b4925f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fa63b494160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fa63b643ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fa63876d120>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>
          │   │      │    └ <function LifespanOn.receive at 0x7fa63876d1b0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa6...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa638720ca0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa6...
                 │    └ <fastapi.applications.FastAPI object at 0x7fa6387531c0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa638720ca0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa6...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa6...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa638753a90>
          └ <fastapi.applications.FastAPI object at 0x7fa6387531c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa6...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa638753a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa638753a90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa6...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa638753a00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa638753a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa6...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa6387539a0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa638753a00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa6...
          │    └ <fastapi.routing.APIRouter object at 0x7fa638753220>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa6387539a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa6...
          │    └ <function Router.lifespan at 0x7fa638e92c20>
          └ <fastapi.routing.APIRouter object at 0x7fa638753220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fa6387531c0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fa638753280>
               └ <fastapi.routing.APIRouter object at 0x7fa638753220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fa638e92b00>
          │    └ <fastapi.routing.APIRouter object at 0x7fa638753220>
          └ <starlette.routing._DefaultLifespan object at 0x7fa638753280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fa63876d990>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fa6387cbf40>
          └ <bot_app.TelegramBot object at 0x7fa638753730>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fa6387ec040>
          └ <bot_app.TelegramBot object at 0x7fa638753730>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fa6387ad210>
          │                 └ <bot_app.TelegramBot object at 0x7fa638753730>
          └ <function on_startup_notify at 0x7fa63863b7f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fa639fa39a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7fa6387acf70>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fa6387ad210>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fa639f5fa90>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fa639fa2170>
                   └ <aiogram.bot.bot.Bot object at 0x7fa6387acf70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fa6387acf70>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fa6387acf70>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fa639fa1a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fa6387acf70>
                 │   └ <function make_request at 0x7fa639f3b0a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fa63aae13f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fa63adfde40>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fa639f3add0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fa639f3a7a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:55:26.032130+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:56:10.088324+0900 WARNING Shutting down!..
2022-06-27T15:56:10.576917+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T15:56:10.577130+0900 WARNING Bye!
2022-06-27T15:56:12.114051+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f3ba01ed630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f3ba01ec700>
    └ <uvicorn.server.Server object at 0x7f3ba02ec1f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f3ba01ec790>
           │       │   └ <uvicorn.server.Server object at 0x7f3ba02ec1f0>
           │       └ <function run at 0x7f3ba3883d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f3ba019b140>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f3ba2f5a680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f3ba2f5a5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f3ba2f5c160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f3ba310bac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f3ba0244ee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>
          │   │      │    └ <function LifespanOn.receive at 0x7f3ba0244f70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3b...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f3ba01f4c40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3b...
                 │    └ <fastapi.applications.FastAPI object at 0x7f3ba0237160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f3ba01f4c40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3b...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3b...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f3ba0237a30>
          └ <fastapi.applications.FastAPI object at 0x7f3ba0237160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3b...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f3ba02379d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f3ba0237a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3b...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f3ba02379a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f3ba02379d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3b...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f3ba0237940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f3ba02379a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3b...
          │    └ <fastapi.routing.APIRouter object at 0x7f3ba02371c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f3ba0237940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3b...
          │    └ <function Router.lifespan at 0x7f3ba0962c20>
          └ <fastapi.routing.APIRouter object at 0x7f3ba02371c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f3ba0237160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f3ba0237220>
               └ <fastapi.routing.APIRouter object at 0x7f3ba02371c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f3ba0962b00>
          │    └ <fastapi.routing.APIRouter object at 0x7f3ba02371c0>
          └ <starlette.routing._DefaultLifespan object at 0x7f3ba0237220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f3ba0245750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f3ba02a3d00>
          └ <bot_app.TelegramBot object at 0x7f3ba02376d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f3ba02a3d90>
          └ <bot_app.TelegramBot object at 0x7f3ba02376d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f3ba02891b0>
          │                 └ <bot_app.TelegramBot object at 0x7f3ba02376d0>
          └ <function on_startup_notify at 0x7f3ba011b5b0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f3ba15679a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f3ba0288f10>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f3ba02891b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f3ba1523ac0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f3ba1566170>
                   └ <aiogram.bot.bot.Bot object at 0x7f3ba0288f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f3ba0288f10>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f3ba0288f10>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f3ba1565a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f3ba0288f10>
                 │   └ <function make_request at 0x7f3ba14ff0a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f3ba23053f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f3ba28f5ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f3ba14fedd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f3ba14fe7a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:56:12.726704+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:56:18.143010+0900 WARNING Shutting down!..
2022-06-27T15:56:18.304276+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T15:56:18.304458+0900 WARNING Bye!
2022-06-27T15:56:20.754290+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f2363539510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 42595, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f2363538550>
              └ <__main__.PyDB object at 0x7f23636d14b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f23635385e0>
           └ <__main__.PyDB object at 0x7f23636d14b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f2363ab4f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f23535f3640>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f23535f2710>
    └ <uvicorn.server.Server object at 0x7f23536efe80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f23535f27a0>
           │       │   └ <uvicorn.server.Server object at 0x7f23536efe80>
           │       └ <function run at 0x7f23636f55a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f23536187b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f236374fd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f236374fc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f236375d7e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f23636b91b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f2353683ac0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>
          │   │      │    └ <function LifespanOn.receive at 0x7f2353683b50>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f23...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2353634bb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f23...
                 │    └ <fastapi.applications.FastAPI object at 0x7f235366f100>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2353634bb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f23...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f23...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f235366f9d0>
          └ <fastapi.applications.FastAPI object at 0x7f235366f100>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f23...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f235366f970>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f235366f9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f23...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f235366f940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f235366f970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f23...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f235366f8e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f235366f940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f23...
          │    └ <fastapi.routing.APIRouter object at 0x7f235366f160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f235366f8e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f23...
          │    └ <function Router.lifespan at 0x7f2353d125f0>
          └ <fastapi.routing.APIRouter object at 0x7f235366f160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f235366f100>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f235366f1c0>
               └ <fastapi.routing.APIRouter object at 0x7f235366f160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f2353d124d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f235366f160>
          └ <starlette.routing._DefaultLifespan object at 0x7f235366f1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f23536983a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f23536f5480>
          └ <bot_app.TelegramBot object at 0x7f235366f670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f23536f5510>
          └ <bot_app.TelegramBot object at 0x7f235366f670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f23536ad330>
          │                 └ <bot_app.TelegramBot object at 0x7f235366f670>
          └ <function on_startup_notify at 0x7f23533cec20>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f236047cb80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f23536aca90>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f23536ad330>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f236041f340>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f236044f2e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f23536aca90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f23536aca90>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f23536aca90>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f236044eb90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f23536aca90>
                 │   └ <function make_request at 0x7f236044c160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f2361330e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f23617064d0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f23603dfe20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f23603df7f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:56:21.738445+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:56:57.433708+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f0503a41510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 32947, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f0503a40550>
              └ <__main__.PyDB object at 0x7f0503bc54b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f0503a405e0>
           └ <__main__.PyDB object at 0x7f0503bc54b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f0503fc0f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f04f3a43400>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f04f3a424d0>
    └ <uvicorn.server.Server object at 0x7f04f3b4be80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f04f3a42560>
           │       │   └ <uvicorn.server.Server object at 0x7f04f3b4be80>
           │       └ <function run at 0x7f0503bf55a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f04f3a6c7b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f0503c57d00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f0503c57c70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f0503c657e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f0503bbd1b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f04f3adb880>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>
          │   │      │    └ <function LifespanOn.receive at 0x7f04f3adb910>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f04f3a8cbb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
                 │    └ <fastapi.applications.FastAPI object at 0x7f04f3acb100>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f04f3a8cbb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f04f3acb9d0>
          └ <fastapi.applications.FastAPI object at 0x7f04f3acb100>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f04f3acb970>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f04f3acb9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f04f3acb940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f04f3acb970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f04f3acb8e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f04f3acb940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <fastapi.routing.APIRouter object at 0x7f04f3acb160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f04f3acb8e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <function Router.lifespan at 0x7f05002225f0>
          └ <fastapi.routing.APIRouter object at 0x7f04f3acb160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f04f3acb100>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f04f3acb1c0>
               └ <fastapi.routing.APIRouter object at 0x7f04f3acb160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f05002224d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f04f3acb160>
          └ <starlette.routing._DefaultLifespan object at 0x7f04f3acb1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f04f3af0160>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f04f3b55240>
          └ <bot_app.TelegramBot object at 0x7f04f3acb670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f04f3b552d0>
          └ <bot_app.TelegramBot object at 0x7f04f3acb670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f04f3b0d330>
          │                 └ <bot_app.TelegramBot object at 0x7f04f3acb670>
          └ <function on_startup_notify at 0x7f04f381e9e0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f0500988b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f04f3b0ca90>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f04f3b0d330>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f050092b340>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f05009532e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f04f3b0ca90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f04f3b0ca90>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f04f3b0ca90>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f0500952b90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f04f3b0ca90>
                 │   └ <function make_request at 0x7f0500950160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f0501b3ce50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f0501ec22f0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f05008ebe20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f05008eb7f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:56:57.886243+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:57:21.133057+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f66e43b1510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 36261, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f66e43b0550>
              └ <__main__.PyDB object at 0x7f66e45454b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f66e43b05e0>
           └ <__main__.PyDB object at 0x7f66e45454b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f66e492cf70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f66e046f400>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f66e046e4d0>
    └ <uvicorn.server.Server object at 0x7f66e0573e80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f66e046e560>
           │       │   └ <uvicorn.server.Server object at 0x7f66e0573e80>
           │       └ <function run at 0x7f66e45695a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f66e04987b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f66e45c7d00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f66e45c7c70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f66e45d57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f66e45311b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f66e0507880>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>
          │   │      │    └ <function LifespanOn.receive at 0x7f66e0507910>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f66...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f66e04b8bb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f66...
                 │    └ <fastapi.applications.FastAPI object at 0x7f66e04f7100>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f66e04b8bb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f66...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f66...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f66e04f79d0>
          └ <fastapi.applications.FastAPI object at 0x7f66e04f7100>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f66...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f66e04f7970>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f66e04f79d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f66...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f66e04f7940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f66e04f7970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f66...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f66e04f78e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f66e04f7940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f66...
          │    └ <fastapi.routing.APIRouter object at 0x7f66e04f7160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f66e04f78e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f66...
          │    └ <function Router.lifespan at 0x7f66e0b865f0>
          └ <fastapi.routing.APIRouter object at 0x7f66e04f7160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f66e04f7100>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f66e04f71c0>
               └ <fastapi.routing.APIRouter object at 0x7f66e04f7160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f66e0b864d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f66e04f7160>
          └ <starlette.routing._DefaultLifespan object at 0x7f66e04f71c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f66e0320160>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f66e057d240>
          └ <bot_app.TelegramBot object at 0x7f66e04f7670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f66e057d2d0>
          └ <bot_app.TelegramBot object at 0x7f66e04f7670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f66e0535330>
          │                 └ <bot_app.TelegramBot object at 0x7f66e04f7670>
          └ <function on_startup_notify at 0x7f66e02529e0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f66e1380b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f66e0534a90>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f66e0535330>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f66e131fe20>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f66e134f2e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f66e0534a90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f66e0534a90>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f66e0534a90>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f66e134eb90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f66e0534a90>
                 │   └ <function make_request at 0x7f66e134c160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f66e2524e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f66e282e340>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f66e12e3e20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f66e12e37f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:57:21.541787+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:58:47.378582+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fd05e1e1630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fd05e1e0700>
    └ <uvicorn.server.Server object at 0x7fd05e2e01c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fd05e1e0790>
           │       │   └ <uvicorn.server.Server object at 0x7fd05e2e01c0>
           │       └ <function run at 0x7fd06186fd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fd05e18f140>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fd060f46680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fd060f465f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fd060f48160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fd0610f7ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fd05e238ee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>
          │   │      │    └ <function LifespanOn.receive at 0x7fd05e238f70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd0...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd05e1ecc10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd0...
                 │    └ <fastapi.applications.FastAPI object at 0x7fd05e22b130>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd05e1ecc10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd0...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd0...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd05e22ba00>
          └ <fastapi.applications.FastAPI object at 0x7fd05e22b130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd0...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd05e22b9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd05e22ba00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd0...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd05e22b970>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd05e22b9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd0...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd05e22b910>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd05e22b970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd0...
          │    └ <fastapi.routing.APIRouter object at 0x7fd05e22b190>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd05e22b910>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd0...
          │    └ <function Router.lifespan at 0x7fd05e952c20>
          └ <fastapi.routing.APIRouter object at 0x7fd05e22b190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fd05e22b130>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fd05e22b1f0>
               └ <fastapi.routing.APIRouter object at 0x7fd05e22b190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fd05e952b00>
          │    └ <fastapi.routing.APIRouter object at 0x7fd05e22b190>
          └ <starlette.routing._DefaultLifespan object at 0x7fd05e22b1f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fd05e239750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fd05e297d00>
          └ <bot_app.TelegramBot object at 0x7fd05e22b6a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fd05e297d90>
          └ <bot_app.TelegramBot object at 0x7fd05e22b6a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd05e27d180>
          │                 └ <bot_app.TelegramBot object at 0x7fd05e22b6a0>
          └ <function on_startup_notify at 0x7fd05e10f5b0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fd05f56b9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7fd05e27cee0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd05e27d180>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fd05f527e50>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fd05f56a170>
                   └ <aiogram.bot.bot.Bot object at 0x7fd05e27cee0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fd05e27cee0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fd05e27cee0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fd05f569a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fd05e27cee0>
                 │   └ <function make_request at 0x7fd05f5030a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fd06030d3f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fd060866020>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fd05f502dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fd05f5027a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:58:47.762146+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T16:00:31.101221+0900 WARNING Shutting down!..
2022-06-27T16:00:31.904111+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T16:00:31.904274+0900 WARNING Bye!
2022-06-27T16:00:34.464312+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f351d749510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 42165, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f351d748550>
              └ <__main__.PyDB object at 0x7f351d8dd4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f351d7485e0>
           └ <__main__.PyDB object at 0x7f351d8dd4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f351dcc4f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f3515803640>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f3515802710>
    └ <uvicorn.server.Server object at 0x7f3515903df0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f35158027a0>
           │       │   └ <uvicorn.server.Server object at 0x7f3515903df0>
           │       └ <function run at 0x7f351d9015a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f351582c7b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f351d95fd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f351d95fc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f351d96d7e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f351d8f91b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f3515897ac0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>
          │   │      │    └ <function LifespanOn.receive at 0x7f3515897b50>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f35...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f3515848b20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f35...
                 │    └ <fastapi.applications.FastAPI object at 0x7f3515887070>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f3515848b20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f35...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f35...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f3515887940>
          └ <fastapi.applications.FastAPI object at 0x7f3515887070>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f35...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f35158878e0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f3515887940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f35...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f35158878b0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f35158878e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f35...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f3515887850>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f35158878b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f35...
          │    └ <fastapi.routing.APIRouter object at 0x7f35158870d0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f3515887850>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f35...
          │    └ <function Router.lifespan at 0x7f3515f165f0>
          └ <fastapi.routing.APIRouter object at 0x7f35158870d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f3515887070>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f3515887130>
               └ <fastapi.routing.APIRouter object at 0x7f35158870d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f3515f164d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f35158870d0>
          └ <starlette.routing._DefaultLifespan object at 0x7f3515887130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f35158a83a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f3515909480>
          └ <bot_app.TelegramBot object at 0x7f35158875e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f3515909510>
          └ <bot_app.TelegramBot object at 0x7f35158875e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f35158c52a0>
          │                 └ <bot_app.TelegramBot object at 0x7f35158875e0>
          └ <function on_startup_notify at 0x7f35155e2c20>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f3516bb0b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f35158c4a00>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f35158c52a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f3516b52d40>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f3516b832e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f35158c4a00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f35158c4a00>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f35158c4a00>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f3516b82b90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f35158c4a00>
                 │   └ <function make_request at 0x7f3516b80160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f351c030e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f351c1064d0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f3516b13e20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f3516b137f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T16:00:35.419889+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T16:01:07.243370+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f93afcf5630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f93afcf4700>
    └ <uvicorn.server.Server object at 0x7f93afdf4220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f93afcf4790>
           │       │   └ <uvicorn.server.Server object at 0x7f93afdf4220>
           │       └ <function run at 0x7f93b338bd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f93afca3140>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f93b2a62680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f93b2a625f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f93b2a64160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f93b2c13ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f93afd4cee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>
          │   │      │    └ <function LifespanOn.receive at 0x7f93afd4cf70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f93...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f93afcfcc70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f93...
                 │    └ <fastapi.applications.FastAPI object at 0x7f93afd3b190>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f93afcfcc70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f93...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f93...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f93afd3ba60>
          └ <fastapi.applications.FastAPI object at 0x7f93afd3b190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f93...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f93afd3ba00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f93afd3ba60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f93...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f93afd3b9d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f93afd3ba00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f93...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f93afd3b970>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f93afd3b9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f93...
          │    └ <fastapi.routing.APIRouter object at 0x7f93afd3b1f0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f93afd3b970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f93...
          │    └ <function Router.lifespan at 0x7f93b0466c20>
          └ <fastapi.routing.APIRouter object at 0x7f93afd3b1f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f93afd3b190>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f93afd3b250>
               └ <fastapi.routing.APIRouter object at 0x7f93afd3b1f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f93b0466b00>
          │    └ <fastapi.routing.APIRouter object at 0x7f93afd3b1f0>
          └ <starlette.routing._DefaultLifespan object at 0x7f93afd3b250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f93afd4d750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f93afdabd00>
          └ <bot_app.TelegramBot object at 0x7f93afd3b700>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f93afdabd90>
          └ <bot_app.TelegramBot object at 0x7f93afd3b700>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f93afd951e0>
          │                 └ <bot_app.TelegramBot object at 0x7f93afd3b700>
          └ <function on_startup_notify at 0x7f93afc235b0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f93b15a39a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f93afd94f40>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f93afd951e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f93b155fa90>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f93b15a2170>
                   └ <aiogram.bot.bot.Bot object at 0x7f93afd94f40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f93afd94f40>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f93afd94f40>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f93b15a1a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f93afd94f40>
                 │   └ <function make_request at 0x7f93b153b0a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f93b20c13f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f93b23f9fd0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f93b153add0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f93b153a7a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T16:01:07.642024+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T16:03:07.555965+0900 WARNING Shutting down!..
2022-06-27T16:03:08.270497+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T16:03:08.270672+0900 WARNING Bye!
2022-06-27T16:03:29.262857+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f156a5515a0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f156a550670>
    └ <uvicorn.server.Server object at 0x7f156a6501f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f156a550700>
           │       │   └ <uvicorn.server.Server object at 0x7f156a6501f0>
           │       └ <function run at 0x7f156dbd3d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f156a4ff0d0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f156d2a6680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f156d2a65f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f156d2a8160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f156d45bac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f156a5a8e50>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>
          │   │      │    └ <function LifespanOn.receive at 0x7f156a5a8ee0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f15...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f156a55cc40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f15...
                 │    └ <fastapi.applications.FastAPI object at 0x7f156a59b160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f156a55cc40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f15...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f15...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f156a59ba30>
          └ <fastapi.applications.FastAPI object at 0x7f156a59b160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f15...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f156a59b9d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f156a59ba30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f15...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f156a59b9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f156a59b9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f15...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f156a59b940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f156a59b9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f15...
          │    └ <fastapi.routing.APIRouter object at 0x7f156a59b1c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f156a59b940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f15...
          │    └ <function Router.lifespan at 0x7f156ac9ac20>
          └ <fastapi.routing.APIRouter object at 0x7f156a59b1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f156a59b160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f156a59b220>
               └ <fastapi.routing.APIRouter object at 0x7f156a59b1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f156ac9ab00>
          │    └ <fastapi.routing.APIRouter object at 0x7f156a59b1c0>
          └ <starlette.routing._DefaultLifespan object at 0x7f156a59b220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f156a5a96c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f156a60bc70>
          └ <bot_app.TelegramBot object at 0x7f156a59b6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f156a60bd00>
          └ <bot_app.TelegramBot object at 0x7f156a59b6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f156a5ed1b0>
          │                 └ <bot_app.TelegramBot object at 0x7f156a59b6d0>
          └ <function on_startup_notify at 0x7f156a47f520>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f156b95f9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f156a5ecf10>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f156a5ed1b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f156b91bac0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f156b95e170>
                   └ <aiogram.bot.bot.Bot object at 0x7f156a5ecf10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f156a5ecf10>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f156a5ecf10>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f156b95da20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f156a5ecf10>
                 │   └ <function make_request at 0x7f156b8f70a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f156cb113f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f156cc4a0c0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f156b8f6dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f156b8f67a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T16:03:29.876752+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T16:03:45.832748+0900 WARNING Shutting down!..
2022-06-27T16:03:46.466291+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T16:03:46.466469+0900 WARNING Bye!
2022-06-27T16:03:48.925282+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7effdf635630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7effdf634700>
    └ <uvicorn.server.Server object at 0x7effdf73c280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7effdf634790>
           │       │   └ <uvicorn.server.Server object at 0x7effdf73c280>
           │       └ <function run at 0x7effe2cefd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7effdf5e7140>
           │    └ <function BaseEventLoop.run_until_complete at 0x7effe23c2680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7effe23c25f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7effe23c4160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7effe2577ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7effdf690ee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>
          │   │      │    └ <function LifespanOn.receive at 0x7effdf690f70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7effdf644cd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
                 │    └ <fastapi.applications.FastAPI object at 0x7effdf6771f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7effdf644cd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7effdf677ac0>
          └ <fastapi.applications.FastAPI object at 0x7effdf6771f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7effdf677a60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7effdf677ac0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7effdf677a30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7effdf677a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7effdf6779d0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7effdf677a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          │    └ <fastapi.routing.APIRouter object at 0x7effdf677250>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7effdf6779d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          │    └ <function Router.lifespan at 0x7effdfdc6c20>
          └ <fastapi.routing.APIRouter object at 0x7effdf677250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7effdf6771f0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7effdf6772b0>
               └ <fastapi.routing.APIRouter object at 0x7effdf677250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7effdfdc6b00>
          │    └ <fastapi.routing.APIRouter object at 0x7effdf677250>
          └ <starlette.routing._DefaultLifespan object at 0x7effdf6772b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7effdf691750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7effdf6f3d00>
          └ <bot_app.TelegramBot object at 0x7effdf677760>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7effdf6f3d90>
          └ <bot_app.TelegramBot object at 0x7effdf677760>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7effdf8d5240>
          │                 └ <bot_app.TelegramBot object at 0x7effdf677760>
          └ <function on_startup_notify at 0x7effdf5635b0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7effe0a5f9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7effdf8d4fa0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7effdf8d5240>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7effe0a1b9a0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7effe0a5e170>
                   └ <aiogram.bot.bot.Bot object at 0x7effdf8d4fa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7effdf8d4fa0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7effdf8d4fa0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7effe0a5da20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7effdf8d4fa0>
                 │   └ <function make_request at 0x7effe09f70a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7effe19fd3f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7effe1d5df80>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7effe09f6dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7effe09f67a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T16:03:49.538302+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T16:04:12.818764+0900 WARNING Shutting down!..
2022-06-27T16:04:13.604538+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T16:04:13.604705+0900 WARNING Bye!
2022-06-27T16:09:16.709109+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f75f67fd870>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f75f67fc940>
    └ <uvicorn.server.Server object at 0x7f75f6900220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f75f67fc9d0>
           │       │   └ <uvicorn.server.Server object at 0x7f75f6900220>
           │       └ <function run at 0x7f75f9ea7d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f75f67ab220>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f75f957a680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f75f957a5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f75f957c160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f75f972fac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f75f6859120>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>
          │   │      │    └ <function LifespanOn.receive at 0x7f75f68591b0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f75f680cc70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
                 │    └ <fastapi.applications.FastAPI object at 0x7f75f683f190>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f75f680cc70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f75f683fa60>
          └ <fastapi.applications.FastAPI object at 0x7f75f683f190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f75f683fa00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f75f683fa60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f75f683f9d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f75f683fa00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f75f683f970>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f75f683f9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          │    └ <fastapi.routing.APIRouter object at 0x7f75f683f1f0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f75f683f970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          │    └ <function Router.lifespan at 0x7f75f6f7ac20>
          └ <fastapi.routing.APIRouter object at 0x7f75f683f1f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f75f683f190>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f75f683f250>
               └ <fastapi.routing.APIRouter object at 0x7f75f683f1f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f75f6f7ab00>
          │    └ <fastapi.routing.APIRouter object at 0x7f75f683f1f0>
          └ <starlette.routing._DefaultLifespan object at 0x7f75f683f250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f75f6859990>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f75f68b7eb0>
          └ <bot_app.TelegramBot object at 0x7f75f683f700>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f75f68b7f40>
          └ <bot_app.TelegramBot object at 0x7f75f683f700>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f75f6a991b0>
          │                 └ <bot_app.TelegramBot object at 0x7f75f683f700>
          └ <function on_startup_notify at 0x7f75f672b7f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f75f7b5b9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f75f6a98f10>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f75f6a991b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f75f7b17c10>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f75f7b5a170>
                   └ <aiogram.bot.bot.Bot object at 0x7f75f6a98f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f75f6a98f10>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f75f6a98f10>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f75f7b59a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f75f6a98f10>
                 │   └ <function make_request at 0x7f75f7af30a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f75f8dcd3f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f75f8eeddf0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f75f7af2dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f75f7af27a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T16:09:17.426096+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T16:10:09.310229+0900 WARNING Shutting down!..
2022-06-27T16:10:09.957406+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T16:10:09.957573+0900 WARNING Bye!
2022-06-27T16:10:11.698537+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f7949009870>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f7949008940>
    └ <uvicorn.server.Server object at 0x7f79491102b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f79490089d0>
           │       │   └ <uvicorn.server.Server object at 0x7f79491102b0>
           │       └ <function run at 0x7f794c6abd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f7948fbb1b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f794bd7e680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f794bd7e5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f794bd80160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f794bf33ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f7949069120>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>
          │   │      │    └ <function LifespanOn.receive at 0x7f79490691b0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7949018d00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
                 │    └ <fastapi.applications.FastAPI object at 0x7f794904f220>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7949018d00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f794904faf0>
          └ <fastapi.applications.FastAPI object at 0x7f794904f220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f794904fa90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f794904faf0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f794904fa60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f794904fa90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f794904fa00>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f794904fa60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <fastapi.routing.APIRouter object at 0x7f794904f280>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f794904fa00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <function Router.lifespan at 0x7f794978ec20>
          └ <fastapi.routing.APIRouter object at 0x7f794904f280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f794904f220>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f794904f2e0>
               └ <fastapi.routing.APIRouter object at 0x7f794904f280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f794978eb00>
          │    └ <fastapi.routing.APIRouter object at 0x7f794904f280>
          └ <starlette.routing._DefaultLifespan object at 0x7f794904f2e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f7949069990>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f79490cbeb0>
          └ <bot_app.TelegramBot object at 0x7f794904f790>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f79490cbf40>
          └ <bot_app.TelegramBot object at 0x7f794904f790>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f79490ad240>
          │                 └ <bot_app.TelegramBot object at 0x7f794904f790>
          └ <function on_startup_notify at 0x7f7948f377f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f794a35b9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f79490acfa0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f79490ad240>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f794a317a90>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f794a35a170>
                   └ <aiogram.bot.bot.Bot object at 0x7f79490acfa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f79490acfa0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f79490acfa0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f794a359a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f79490acfa0>
                 │   └ <function make_request at 0x7f794a2f30a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f794b5d13f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f794b6e9f80>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f794a2f2dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f794a2f27a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T16:10:12.288616+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T16:10:30.253286+0900 WARNING Shutting down!..
2022-06-27T16:10:31.052172+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T16:10:31.052343+0900 WARNING Bye!
2022-06-27T16:10:32.895204+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f559c2f1870>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f559c2f0940>
    └ <uvicorn.server.Server object at 0x7f559c3f4280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f559c2f09d0>
           │       │   └ <uvicorn.server.Server object at 0x7f559c3f4280>
           │       └ <function run at 0x7f559f9a3d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f559c2a31b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f559f076680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f559f0765f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f559f078160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f559f22bac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f559c351120>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>
          │   │      │    └ <function LifespanOn.receive at 0x7f559c3511b0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f559c300cd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
                 │    └ <fastapi.applications.FastAPI object at 0x7f559c3371f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f559c300cd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f559c337ac0>
          └ <fastapi.applications.FastAPI object at 0x7f559c3371f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f559c337a60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f559c337ac0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f559c337a30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f559c337a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f559c3379d0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f559c337a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          │    └ <fastapi.routing.APIRouter object at 0x7f559c337250>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f559c3379d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          │    └ <function Router.lifespan at 0x7f559ca6ac20>
          └ <fastapi.routing.APIRouter object at 0x7f559c337250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f559c3371f0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f559c3372b0>
               └ <fastapi.routing.APIRouter object at 0x7f559c337250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f559ca6ab00>
          │    └ <fastapi.routing.APIRouter object at 0x7f559c337250>
          └ <starlette.routing._DefaultLifespan object at 0x7f559c3372b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f559c351990>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f559c3afeb0>
          └ <bot_app.TelegramBot object at 0x7f559c337760>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f559c3aff40>
          └ <bot_app.TelegramBot object at 0x7f559c337760>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f559c399210>
          │                 └ <bot_app.TelegramBot object at 0x7f559c337760>
          └ <function on_startup_notify at 0x7f559c2237f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f559d65b9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f559c398f70>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f559c399210>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f559d617a90>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f559d65a170>
                   └ <aiogram.bot.bot.Bot object at 0x7f559c398f70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f559c398f70>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f559c398f70>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f559d659a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f559c398f70>
                 │   └ <function make_request at 0x7f559d5f30a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f559e5fd3f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f559e9edf80>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f559d5f2dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f559d5f27a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T16:10:33.510017+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T16:10:46.398681+0900 WARNING Shutting down!..
2022-06-27T16:10:46.617035+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T16:10:46.617199+0900 WARNING Bye!
2022-06-27T16:10:48.562720+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f7b5554d870>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f7b5554c940>
    └ <uvicorn.server.Server object at 0x7f7b556501f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f7b5554c9d0>
           │       │   └ <uvicorn.server.Server object at 0x7f7b556501f0>
           │       └ <function run at 0x7f7b58bc3d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f7b554fb1b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f7b5829a680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f7b5829a5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f7b5829c160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f7b5844bac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f7b555a9120>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>
          │   │      │    └ <function LifespanOn.receive at 0x7f7b555a91b0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f7b...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7b5555cc40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f7b...
                 │    └ <fastapi.applications.FastAPI object at 0x7f7b5558f160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7b5555cc40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f7b...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f7b...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7b5558fa30>
          └ <fastapi.applications.FastAPI object at 0x7f7b5558f160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f7b...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7b5558f9d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7b5558fa30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f7b...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f7b5558f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7b5558f9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f7b...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f7b5558f940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f7b5558f9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f7b...
          │    └ <fastapi.routing.APIRouter object at 0x7f7b5558f1c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f7b5558f940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f7b...
          │    └ <function Router.lifespan at 0x7f7b55c9ac20>
          └ <fastapi.routing.APIRouter object at 0x7f7b5558f1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f7b5558f160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f7b5558f220>
               └ <fastapi.routing.APIRouter object at 0x7f7b5558f1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f7b55c9ab00>
          │    └ <fastapi.routing.APIRouter object at 0x7f7b5558f1c0>
          └ <starlette.routing._DefaultLifespan object at 0x7f7b5558f220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f7b555a9990>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f7b55607eb0>
          └ <bot_app.TelegramBot object at 0x7f7b5558f6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f7b55607f40>
          └ <bot_app.TelegramBot object at 0x7f7b5558f6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f7b555f1180>
          │                 └ <bot_app.TelegramBot object at 0x7f7b5558f6d0>
          └ <function on_startup_notify at 0x7f7b5547b7f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f7b56d9b9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f7b555f0ee0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f7b555f1180>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f7b56d57e80>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f7b56d9a170>
                   └ <aiogram.bot.bot.Bot object at 0x7f7b555f0ee0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f7b555f0ee0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f7b555f0ee0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f7b56d99a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f7b555f0ee0>
                 │   └ <function make_request at 0x7f7b56d330a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f7b579053f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f7b57bfa020>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f7b56d32dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f7b56d327a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T16:10:49.177364+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T17:20:06.801920+0900 WARNING Shutting down!..
2022-06-27T17:20:07.580594+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T17:20:07.580805+0900 WARNING Bye!
2022-06-27T17:57:53.921585+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f9dae96d510>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f9dae96c5e0>
    └ <uvicorn.server.Server object at 0x7f9daea41570>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f9dae96c670>
           │       │   └ <uvicorn.server.Server object at 0x7f9daea41570>
           │       └ <function run at 0x7f9db1ffbd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f9dae917220>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f9db16ca5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f9db16ca560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f9db16cc0d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f9db187fa30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f9dae9c4dc0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>
          │   │      │    └ <function LifespanOn.receive at 0x7f9dae9c4e50>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9d...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9dae9d6830>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9d...
                 │    └ <fastapi.applications.FastAPI object at 0x7f9dae9d6530>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9dae9d6830>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9d...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9d...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9dae9d6d70>
          └ <fastapi.applications.FastAPI object at 0x7f9dae9d6530>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9d...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9dae9d6d10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9dae9d6d70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9d...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9dae9d6ce0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9dae9d6d10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9d...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f9dae9d6c80>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9dae9d6ce0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9d...
          │    └ <fastapi.routing.APIRouter object at 0x7f9dae9d6590>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f9dae9d6c80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9d...
          │    └ <function Router.lifespan at 0x7f9daf0beb90>
          └ <fastapi.routing.APIRouter object at 0x7f9dae9d6590>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f9dae9d6530>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f9dae9d65f0>
               └ <fastapi.routing.APIRouter object at 0x7f9dae9d6590>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f9daf0bea70>
          │    └ <fastapi.routing.APIRouter object at 0x7f9dae9d6590>
          └ <starlette.routing._DefaultLifespan object at 0x7f9dae9d65f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f9dae9c5480>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f9daea23be0>
          └ <bot_app.TelegramBot object at 0x7f9dae9d6a10>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f9daea23c70>
          └ <bot_app.TelegramBot object at 0x7f9dae9d6a10>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9daea14d30>
          │                 └ <bot_app.TelegramBot object at 0x7f9dae9d6a10>
          └ <function on_startup_notify at 0x7f9dae89f370>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f9dafd5b910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f9daea14a90>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9daea14d30>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f9dafd17490>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f9dafd5a0e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f9daea14a90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f9daea14a90>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f9daea14a90>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f9dafd59990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f9daea14a90>
                 │   └ <function make_request at 0x7f9dafcff010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f9db0f1d360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f9db10560c0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f9dafcfed40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f9dafcfe710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T17:57:54.533527+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T17:58:16.304111+0900 WARNING Shutting down!..
2022-06-27T17:58:16.959813+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T17:58:16.959998+0900 WARNING Bye!
2022-06-27T17:58:18.511503+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f30f7151630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f30f7150700>
    └ <uvicorn.server.Server object at 0x7f30f7227f70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f30f7150790>
           │       │   └ <uvicorn.server.Server object at 0x7f30f7227f70>
           │       └ <function run at 0x7f30fa7c7d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f30f70ff140>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f30f9e9e5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f30f9e9e560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f30f9ea00d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f30fa04fa30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f30f71a8ee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>
          │   │      │    └ <function LifespanOn.receive at 0x7f30f71a8f70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f30...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f30f715ca00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f30...
                 │    └ <fastapi.applications.FastAPI object at 0x7f30f719af80>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f30f715ca00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f30...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f30...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f30f719b850>
          └ <fastapi.applications.FastAPI object at 0x7f30f719af80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f30...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f30f719b7f0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f30f719b850>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f30...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f30f719b7c0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f30f719b7f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f30...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f30f719b760>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f30f719b7c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f30...
          │    └ <fastapi.routing.APIRouter object at 0x7f30f719afe0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f30f719b760>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f30...
          │    └ <function Router.lifespan at 0x7f30f7896b90>
          └ <fastapi.routing.APIRouter object at 0x7f30f719afe0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f30f719af80>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f30f719b040>
               └ <fastapi.routing.APIRouter object at 0x7f30f719afe0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f30f7896a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f30f719afe0>
          └ <starlette.routing._DefaultLifespan object at 0x7f30f719b040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f30f71a9750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f30f7207d00>
          └ <bot_app.TelegramBot object at 0x7f30f719b4f0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f30f7207d90>
          └ <bot_app.TelegramBot object at 0x7f30f719b4f0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f30f71f4d60>
          │                 └ <bot_app.TelegramBot object at 0x7f30f719b4f0>
          └ <function on_startup_notify at 0x7f30f70835b0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f30f899b910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f30f71f4ac0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f30f71f4d60>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f30f8957460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f30f899a0e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f30f71f4ac0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f30f71f4ac0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f30f71f4ac0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f30f8999990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f30f71f4ac0>
                 │   └ <function make_request at 0x7f30f893f010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f30f9505360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f30f97fdd50>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f30f893ed40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f30f893e710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T17:58:19.050803+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T17:58:56.368990+0900 WARNING Shutting down!..
2022-06-27T17:58:57.203514+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T17:58:57.203724+0900 WARNING Bye!
2022-06-27T17:59:25.597682+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7fea801f9510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 39159, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7fea801f8550>
              └ <__main__.PyDB object at 0x7fea8037d4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7fea801f85e0>
           └ <__main__.PyDB object at 0x7fea8037d4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7fea80778f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fea7c2a32e0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fea7c2a23b0>
    └ <uvicorn.server.Server object at 0x7fea7c3a3fa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fea7c2a2440>
           │       │   └ <uvicorn.server.Server object at 0x7fea7c3a3fa0>
           │       └ <function run at 0x7fea803ad5a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fea7c2c8820>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fea8040fd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fea8040fc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fea8041d7e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fea803751b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fea7c337760>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>
          │   │      │    └ <function LifespanOn.receive at 0x7fea7c3377f0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fea...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fea7c2dcd90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fea...
                 │    └ <fastapi.applications.FastAPI object at 0x7fea7c327340>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fea7c2dcd90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fea...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fea...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fea7c327c10>
          └ <fastapi.applications.FastAPI object at 0x7fea7c327340>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fea...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fea7c327bb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fea7c327c10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fea...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fea7c327b80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fea7c327bb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fea...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fea7c327b20>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fea7c327b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fea...
          │    └ <fastapi.routing.APIRouter object at 0x7fea7c3273a0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fea7c327b20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fea...
          │    └ <function Router.lifespan at 0x7fea7c9da560>
          └ <fastapi.routing.APIRouter object at 0x7fea7c3273a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fea7c327340>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fea7c327400>
               └ <fastapi.routing.APIRouter object at 0x7fea7c3273a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fea7c9da440>
          │    └ <fastapi.routing.APIRouter object at 0x7fea7c3273a0>
          └ <starlette.routing._DefaultLifespan object at 0x7fea7c327400>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fea7c348040>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fea7c395120>
          └ <bot_app.TelegramBot object at 0x7fea7c3278b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fea7c3951b0>
          └ <bot_app.TelegramBot object at 0x7fea7c3278b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fea7c365300>
          │                 └ <bot_app.TelegramBot object at 0x7fea7c3278b0>
          └ <function on_startup_notify at 0x7fea7c0768c0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fea7d188af0>
          │  └ <aiogram.bot.bot.Bot object at 0x7fea7c364a60>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fea7c365300>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fea7d12b430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fea7d15b250>
                   └ <aiogram.bot.bot.Bot object at 0x7fea7c364a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fea7c364a60>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fea7c364a60>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fea7d15ab00>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fea7c364a60>
                 │   └ <function make_request at 0x7fea7d1580d0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fea7e33cdc0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fea7e67a5c0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fea7d0efd90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fea7d0ef760>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T17:59:26.104651+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T17:59:34.739206+0900 WARNING Shutting down!..
2022-06-27T17:59:34.990901+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T17:59:34.991257+0900 WARNING Bye!
2022-06-27T17:59:47.154592+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7efcb82f1510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 43627, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7efcb82f0550>
              └ <__main__.PyDB object at 0x7efcb84854b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7efcb82f05e0>
           └ <__main__.PyDB object at 0x7efcb84854b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7efcb886cf70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7efcb437f2e0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7efcb437e3b0>
    └ <uvicorn.server.Server object at 0x7efcb4483f70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7efcb437e440>
           │       │   └ <uvicorn.server.Server object at 0x7efcb4483f70>
           │       └ <function run at 0x7efcb84a95a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7efcb43a8820>
           │    └ <function BaseEventLoop.run_until_complete at 0x7efcb8507d00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7efcb8507c70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7efcb85157e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7efcb84711b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7efcb4417760>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>
          │   │      │    └ <function LifespanOn.receive at 0x7efcb44177f0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7efcb43bcd60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
                 │    └ <fastapi.applications.FastAPI object at 0x7efcb4403310>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7efcb43bcd60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7efcb4403be0>
          └ <fastapi.applications.FastAPI object at 0x7efcb4403310>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7efcb4403b80>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7efcb4403be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7efcb4403b50>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7efcb4403b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7efcb4403af0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7efcb4403b50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <fastapi.routing.APIRouter object at 0x7efcb4403370>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7efcb4403af0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <function Router.lifespan at 0x7efcb4ab2560>
          └ <fastapi.routing.APIRouter object at 0x7efcb4403370>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7efcb4403310>
               │    └ <starlette.routing._DefaultLifespan object at 0x7efcb44033d0>
               └ <fastapi.routing.APIRouter object at 0x7efcb4403370>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7efcb4ab2440>
          │    └ <fastapi.routing.APIRouter object at 0x7efcb4403370>
          └ <starlette.routing._DefaultLifespan object at 0x7efcb44033d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7efcb4428040>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7efcb4479120>
          └ <bot_app.TelegramBot object at 0x7efcb4403880>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7efcb44791b0>
          └ <bot_app.TelegramBot object at 0x7efcb4403880>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7efcb46452d0>
          │                 └ <bot_app.TelegramBot object at 0x7efcb4403880>
          └ <function on_startup_notify at 0x7efcb41568c0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7efcb527caf0>
          │  └ <aiogram.bot.bot.Bot object at 0x7efcb4644a30>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7efcb46452d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7efcb521f3d0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7efcb524f250>
                   └ <aiogram.bot.bot.Bot object at 0x7efcb4644a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7efcb4644a30>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7efcb4644a30>
                 │   │                  │    └ <function BaseBot.get_session at 0x7efcb524eb00>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7efcb4644a30>
                 │   └ <function make_request at 0x7efcb524c0d0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7efcb6130dc0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7efcb6506250>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7efcb51dfd90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7efcb51df760>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T17:59:47.865733+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T18:10:22.033614+0900 WARNING Shutting down!..
2022-06-27T18:10:23.340391+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T18:10:23.340770+0900 WARNING Bye!
2022-06-27T18:10:25.331217+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f69759dd630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f69759dc700>
    └ <uvicorn.server.Server object at 0x7f6975a9ff10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f69759dc790>
           │       │   └ <uvicorn.server.Server object at 0x7f6975a9ff10>
           │       └ <function run at 0x7f697907bd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f69759871b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f697874a5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f697874a560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f697874c0d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f69788ffa30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f6975a34ee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>
          │   │      │    └ <function LifespanOn.receive at 0x7f6975a34f70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f69759e89a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
                 │    └ <fastapi.applications.FastAPI object at 0x7f6975a1af20>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f69759e89a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f6975a1b7f0>
          └ <fastapi.applications.FastAPI object at 0x7f6975a1af20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f6975a1b790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f6975a1b7f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f6975a1b760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f6975a1b790>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f6975a1b700>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f6975a1b760>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <fastapi.routing.APIRouter object at 0x7f6975a1af80>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f6975a1b700>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <function Router.lifespan at 0x7f6976152b90>
          └ <fastapi.routing.APIRouter object at 0x7f6975a1af80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f6975a1af20>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f6975a1afe0>
               └ <fastapi.routing.APIRouter object at 0x7f6975a1af80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f6976152a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f6975a1af80>
          └ <starlette.routing._DefaultLifespan object at 0x7f6975a1afe0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f6975a35750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f6975a97d00>
          └ <bot_app.TelegramBot object at 0x7f6975a1b490>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f6975a97d90>
          └ <bot_app.TelegramBot object at 0x7f6975a1b490>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f6975a84d00>
          │                 └ <bot_app.TelegramBot object at 0x7f6975a1b490>
          └ <function on_startup_notify at 0x7f697590b5b0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f6976d57910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f6975a84a60>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f6975a84d00>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f6976d13400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f6976d560e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f6975a84a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f6975a84a60>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f6975a84a60>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f6976d55990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f6975a84a60>
                 │   └ <function make_request at 0x7f6976cfb010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f6977fad360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f69780e5ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f6976cfad40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f6976cfa710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T18:10:25.867178+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T18:10:42.024167+0900 WARNING Shutting down!..
2022-06-27T18:10:42.542052+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T18:10:42.542241+0900 WARNING Bye!
2022-06-27T18:10:45.410608+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f8c7ad39510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 45867, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f8c7ad38550>
              └ <__main__.PyDB object at 0x7f8c7aecd4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f8c7ad385e0>
           └ <__main__.PyDB object at 0x7f8c7aecd4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f8c7b2b4f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f8c6ad8b370>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f8c6ad8a440>
    └ <uvicorn.server.Server object at 0x7f8c6ae83fa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f8c6ad8a4d0>
           │       │   └ <uvicorn.server.Server object at 0x7f8c6ae83fa0>
           │       └ <function run at 0x7f8c7aef15a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f8c6adb0890>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f8c7af4fd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f8c7af4fc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f8c7af5d7e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f8c7aeb91b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f8c6ae1f7f0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>
          │   │      │    └ <function LifespanOn.receive at 0x7f8c6ae1f880>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8c...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f8c6adccd90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f8c6ae0f340>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f8c6adccd90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8c...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f8c6ae0ff40>
          └ <fastapi.applications.FastAPI object at 0x7f8c6ae0f340>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f8c6ae0fee0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f8c6ae0ff40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8c...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f8c6ae0feb0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f8c6ae0fee0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8c...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f8c6ae0fe50>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f8c6ae0feb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8c...
          │    └ <fastapi.routing.APIRouter object at 0x7f8c6ae0f4c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f8c6ae0fe50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8c...
          │    └ <function Router.lifespan at 0x7f8c6b4965f0>
          └ <fastapi.routing.APIRouter object at 0x7f8c6ae0f4c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f8c6ae0f340>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f8c6ae0f490>
               └ <fastapi.routing.APIRouter object at 0x7f8c6ae0f4c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f8c6b4964d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f8c6ae0f4c0>
          └ <starlette.routing._DefaultLifespan object at 0x7f8c6ae0f490>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f8c6ac34160>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f8c6ae8d1b0>
          └ <bot_app.TelegramBot object at 0x7f8c6ae0f370>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f8c6ae8d240>
          └ <bot_app.TelegramBot object at 0x7f8c6ae0f370>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f8c6ae45300>
          │                 └ <bot_app.TelegramBot object at 0x7f8c6ae0f370>
          └ <function on_startup_notify at 0x7f8c6ab62950>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f8c6bbb0b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f8c6ae44a60>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f8c6ae45300>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f8c6bb57400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f8c6bb7f2e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f8c6ae44a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f8c6ae44a60>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f8c6ae44a60>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f8c6bb7eb90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f8c6ae44a60>
                 │   └ <function make_request at 0x7f8c6bb7c160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f8c78b34e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f8c78f06480>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f8c6bb17e20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f8c6bb177f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T18:10:46.129616+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T18:10:52.758115+0900 WARNING Shutting down!..
2022-06-27T18:10:52.902627+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T18:10:52.902922+0900 WARNING Bye!
2022-06-27T18:10:56.828118+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7fb9ad485510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 34129, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7fb9ad484550>
              └ <__main__.PyDB object at 0x7fb9ad6194b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7fb9ad4845e0>
           └ <__main__.PyDB object at 0x7fb9ad6194b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7fb9ada00f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fb9a54eb370>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fb9a54ea440>
    └ <uvicorn.server.Server object at 0x7fb9a55e7fa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fb9a54ea4d0>
           │       │   └ <uvicorn.server.Server object at 0x7fb9a55e7fa0>
           │       └ <function run at 0x7fb9ad63d5a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fb9a5514900>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fb9ad69bd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fb9ad69bc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fb9ad6a97e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fb9ad6051b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fb9a55837f0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>
          │   │      │    └ <function LifespanOn.receive at 0x7fb9a5583880>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb9a5530cd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb9a5573280>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb9a5530cd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb9a5573e80>
          └ <fastapi.applications.FastAPI object at 0x7fb9a5573280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb9a5573e20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb9a5573e80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb9a5573df0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb9a5573e20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb9a5573d90>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb9a5573df0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <fastapi.routing.APIRouter object at 0x7fb9a5573400>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb9a5573d90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <function Router.lifespan at 0x7fb9a5bfa5f0>
          └ <fastapi.routing.APIRouter object at 0x7fb9a5573400>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fb9a5573280>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fb9a55733d0>
               └ <fastapi.routing.APIRouter object at 0x7fb9a5573400>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fb9a5bfa4d0>
          │    └ <fastapi.routing.APIRouter object at 0x7fb9a5573400>
          └ <starlette.routing._DefaultLifespan object at 0x7fb9a55733d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fb9a5398160>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fb9a55f11b0>
          └ <bot_app.TelegramBot object at 0x7fb9a55732b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fb9a55f1240>
          └ <bot_app.TelegramBot object at 0x7fb9a55732b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb9a55a9240>
          │                 └ <bot_app.TelegramBot object at 0x7fb9a55732b0>
          └ <function on_startup_notify at 0x7fb9a52ca950>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fb9a67b8b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7fb9a55a89a0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb9a55a9240>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fb9a675b370>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fb9a67832e0>
                   └ <aiogram.bot.bot.Bot object at 0x7fb9a55a89a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fb9a55a89a0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fb9a55a89a0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fb9a6782b90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fb9a55a89a0>
                 │   └ <function make_request at 0x7fb9a6780160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fb9a7738e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fb9ac1064d0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fb9a671fe20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fb9a671f7f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T18:10:57.696460+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T18:30:27.279428+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f1ff009d630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f1ff009c700>
    └ <uvicorn.server.Server object at 0x7f1ff0173f40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f1ff009c790>
           │       │   └ <uvicorn.server.Server object at 0x7f1ff0173f40>
           │       └ <function run at 0x7f1ff374fd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ff00471b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f1ff2e1e5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f1ff2e1e560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f1ff2e200d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f1ff2fd3a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f1ff00f4ee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>
          │   │      │    └ <function LifespanOn.receive at 0x7f1ff00f4f70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ff00ac9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ff00daf50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ff00ac9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ff00db820>
          └ <fastapi.applications.FastAPI object at 0x7f1ff00daf50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f1ff00db7c0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ff00db820>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ff00db790>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f1ff00db7c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ff00db730>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ff00db790>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ff00dafb0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ff00db730>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          │    └ <function Router.lifespan at 0x7f1ff0812b90>
          └ <fastapi.routing.APIRouter object at 0x7f1ff00dafb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f1ff00daf50>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f1ff00db010>
               └ <fastapi.routing.APIRouter object at 0x7f1ff00dafb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f1ff0812a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f1ff00dafb0>
          └ <starlette.routing._DefaultLifespan object at 0x7f1ff00db010>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f1ff00f5750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f1ff0157c70>
          └ <bot_app.TelegramBot object at 0x7f1ff00db4c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f1ff0157d00>
          └ <bot_app.TelegramBot object at 0x7f1ff00db4c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f1ff0144d30>
          │                 └ <bot_app.TelegramBot object at 0x7f1ff00db4c0>
          └ <function on_startup_notify at 0x7f1feffcf5b0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f1ff1457910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f1ff0144a90>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f1ff0144d30>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f1ff1413460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f1ff14560e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f1ff0144a90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f1ff0144a90>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f1ff0144a90>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f1ff1455990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f1ff0144a90>
                 │   └ <function make_request at 0x7f1ff13fb010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f1ff23f9360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f1ff2755e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f1ff13fad40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f1ff13fa710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T18:30:27.699543+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T18:30:44.951330+0900 WARNING Shutting down!..
2022-06-27T18:30:45.548565+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T18:30:45.548745+0900 WARNING Bye!
2022-06-27T18:30:49.645292+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f62ccba1510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 34519, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f62ccba0550>
              └ <__main__.PyDB object at 0x7f62ccd354b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f62ccba05e0>
           └ <__main__.PyDB object at 0x7f62ccd354b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f62cd11cf70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f62c4c5f370>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f62c4c5e440>
    └ <uvicorn.server.Server object at 0x7f62c4d53f40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f62c4c5e4d0>
           │       │   └ <uvicorn.server.Server object at 0x7f62c4d53f40>
           │       └ <function run at 0x7f62ccd595a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f62c4c84890>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f62ccdb7d00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f62ccdb7c70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f62ccdc57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f62ccd211b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f62c4cef7f0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>
          │   │      │    └ <function LifespanOn.receive at 0x7f62c4cef880>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f62...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f62c4c9cd30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f62...
                 │    └ <fastapi.applications.FastAPI object at 0x7f62c4cdf2e0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f62c4c9cd30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f62...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f62...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f62c4cdfee0>
          └ <fastapi.applications.FastAPI object at 0x7f62c4cdf2e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f62...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f62c4cdfe80>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f62c4cdfee0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f62...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f62c4cdfe50>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f62c4cdfe80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f62...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f62c4cdfdf0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f62c4cdfe50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f62...
          │    └ <fastapi.routing.APIRouter object at 0x7f62c4cdf460>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f62c4cdfdf0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f62...
          │    └ <function Router.lifespan at 0x7f62c536a5f0>
          └ <fastapi.routing.APIRouter object at 0x7f62c4cdf460>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f62c4cdf2e0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f62c4cdf430>
               └ <fastapi.routing.APIRouter object at 0x7f62c4cdf460>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f62c536a4d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f62c4cdf460>
          └ <starlette.routing._DefaultLifespan object at 0x7f62c4cdf430>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f62c4b04160>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f62c4d45120>
          └ <bot_app.TelegramBot object at 0x7f62c4cdf310>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f62c4d451b0>
          └ <bot_app.TelegramBot object at 0x7f62c4cdf310>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f62c4d152a0>
          │                 └ <bot_app.TelegramBot object at 0x7f62c4cdf310>
          └ <function on_startup_notify at 0x7f62c4a32950>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f62c5fb4b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f62c4d14a00>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f62c4d152a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f62c5f573d0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f62c5f872e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f62c4d14a00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f62c4d14a00>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f62c4d14a00>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f62c5f86b90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f62c4d14a00>
                 │   └ <function make_request at 0x7f62c5f84160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f62c6f34e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f62cc01e1b0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f62c5f1be20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f62c5f1b7f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T18:30:50.286599+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:16:18.303531+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f69b7a356c0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f69b7a34790>
    └ <uvicorn.server.Server object at 0x7f69b7b340a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f69b7a34820>
           │       │   └ <uvicorn.server.Server object at 0x7f69b7b340a0>
           │       └ <function run at 0x7f69bb0bfd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f69b79df220>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f69ba7965f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f69ba796560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f69ba7980d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f69ba947a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f69b7a88f70>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>
          │   │      │    └ <function LifespanOn.receive at 0x7f69b7a89000>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f69b7a40b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
                 │    └ <fastapi.applications.FastAPI object at 0x7f69b7a7f100>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f69b7a40b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f69b7a7f9d0>
          └ <fastapi.applications.FastAPI object at 0x7f69b7a7f100>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f69b7a7f970>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f69b7a7f9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f69b7a7f940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f69b7a7f970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f69b7a7f8e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f69b7a7f940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <fastapi.routing.APIRouter object at 0x7f69b7a7f160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f69b7a7f8e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <function Router.lifespan at 0x7f69b8186b90>
          └ <fastapi.routing.APIRouter object at 0x7f69b7a7f160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f69b7a7f100>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f69b7a7f1c0>
               └ <fastapi.routing.APIRouter object at 0x7f69b7a7f160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f69b8186a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f69b7a7f160>
          └ <starlette.routing._DefaultLifespan object at 0x7f69b7a7f1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f69b7a897e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f69b7aebd00>
          └ <bot_app.TelegramBot object at 0x7f69b7a7f670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f69b7aebd90>
          └ <bot_app.TelegramBot object at 0x7f69b7a7f670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f69b7ad4ee0>
          │                 └ <bot_app.TelegramBot object at 0x7f69b7a7f670>
          └ <function on_startup_notify at 0x7f69b7967640>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f69b8d67910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f69b7ad4c40>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f69b7ad4ee0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f69b8d23490>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f69b8d660e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f69b7ad4c40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f69b7ad4c40>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f69b7ad4c40>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f69b8d65990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f69b7ad4c40>
                 │   └ <function make_request at 0x7f69b8d07010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f69b9b05360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f69ba0f9df0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f69b8d06d40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f69b8d06710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:16:18.734760+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:16:25.316077+0900 ERROR type object 'Schema' has no attribute 'new'
2022-06-27T19:16:25.316237+0900 ERROR Can't create a ticket
2022-06-27T19:16:32.867738+0900 ERROR type object 'Schema' has no attribute 'new'
2022-06-27T19:16:32.867991+0900 ERROR Can't create a ticket
2022-06-27T19:16:48.233605+0900 WARNING Shutting down!..
2022-06-27T19:16:48.840677+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:16:48.840996+0900 WARNING Bye!
2022-06-27T19:16:51.505532+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f6bb0441750>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f6bb0440820>
    └ <uvicorn.server.Server object at 0x7f6bb0540190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f6bb04408b0>
           │       │   └ <uvicorn.server.Server object at 0x7f6bb0540190>
           │       └ <function run at 0x7f6bb3abbd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f6bb03eb220>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f6bb318e5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f6bb318e560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f6bb31900d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f6bb3343a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f6bb0491000>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>
          │   │      │    └ <function LifespanOn.receive at 0x7f6bb0491090>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f6b...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f6bb044cbe0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f6b...
                 │    └ <fastapi.applications.FastAPI object at 0x7f6bb0483160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f6bb044cbe0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f6b...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f6b...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f6bb0483a30>
          └ <fastapi.applications.FastAPI object at 0x7f6bb0483160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f6b...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f6bb04839d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f6bb0483a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f6b...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f6bb04839a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f6bb04839d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f6b...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f6bb0483940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f6bb04839a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f6b...
          │    └ <fastapi.routing.APIRouter object at 0x7f6bb04831c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f6bb0483940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f6b...
          │    └ <function Router.lifespan at 0x7f6bb0b86b90>
          └ <fastapi.routing.APIRouter object at 0x7f6bb04831c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f6bb0483160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f6bb0483220>
               └ <fastapi.routing.APIRouter object at 0x7f6bb04831c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f6bb0b86a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f6bb04831c0>
          └ <starlette.routing._DefaultLifespan object at 0x7f6bb0483220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f6bb0491870>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f6bb04f7d90>
          └ <bot_app.TelegramBot object at 0x7f6bb04836d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f6bb04f7e20>
          └ <bot_app.TelegramBot object at 0x7f6bb04836d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f6bb04e0f40>
          │                 └ <bot_app.TelegramBot object at 0x7f6bb04836d0>
          └ <function on_startup_notify at 0x7f6bb03736d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f6bb1757910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f6bb04e0ca0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f6bb04e0f40>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f6bb17134f0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f6bb17560e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f6bb04e0ca0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f6bb04e0ca0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f6bb04e0ca0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f6bb1755990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f6bb04e0ca0>
                 │   └ <function make_request at 0x7f6bb16fb010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f6bb29f9360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f6bb2ae9f30>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f6bb16fad40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f6bb16fa710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:16:52.221535+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:17:42.174615+0900 WARNING Shutting down!..
2022-06-27T19:17:43.010569+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:17:43.010768+0900 WARNING Bye!
2022-06-27T19:17:44.955914+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fe83a409750>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fe83a408820>
    └ <uvicorn.server.Server object at 0x7fe83a4dbf70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fe83a4088b0>
           │       │   └ <uvicorn.server.Server object at 0x7fe83a4dbf70>
           │       └ <function run at 0x7fe83da9fd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fe83a3af220>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fe83d1765f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fe83d176560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fe83d1780d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fe83d327a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fe83a45d000>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>
          │   │      │    └ <function LifespanOn.receive at 0x7fe83a45d090>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe8...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe83a410ac0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe8...
                 │    └ <fastapi.applications.FastAPI object at 0x7fe83a447040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe83a410ac0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe8...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe8...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe83a447910>
          └ <fastapi.applications.FastAPI object at 0x7fe83a447040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe8...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fe83a4478b0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe83a447910>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe8...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fe83a447880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fe83a4478b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe8...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fe83a447820>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fe83a447880>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe8...
          │    └ <fastapi.routing.APIRouter object at 0x7fe83a4470a0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fe83a447820>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe8...
          │    └ <function Router.lifespan at 0x7fe83ab72b90>
          └ <fastapi.routing.APIRouter object at 0x7fe83a4470a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fe83a447040>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fe83a447100>
               └ <fastapi.routing.APIRouter object at 0x7fe83a4470a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fe83ab72a70>
          │    └ <fastapi.routing.APIRouter object at 0x7fe83a4470a0>
          └ <starlette.routing._DefaultLifespan object at 0x7fe83a447100>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fe83a45d870>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fe83a4bbd90>
          └ <bot_app.TelegramBot object at 0x7fe83a4475b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fe83a4bbe20>
          └ <bot_app.TelegramBot object at 0x7fe83a4475b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fe83a4a8e20>
          │                 └ <bot_app.TelegramBot object at 0x7fe83a4475b0>
          └ <function on_startup_notify at 0x7fe83a3376d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fe83b767910>
          │  └ <aiogram.bot.bot.Bot object at 0x7fe83a4a8b80>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fe83a4a8e20>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fe83b723430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fe83b7660e0>
                   └ <aiogram.bot.bot.Bot object at 0x7fe83a4a8b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fe83a4a8b80>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fe83a4a8b80>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fe83b765990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fe83a4a8b80>
                 │   └ <function make_request at 0x7fe83b70b010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fe83c505360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fe83caf9d00>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fe83b70ad40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fe83b70a710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:17:45.570332+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:21:39.782781+0900 WARNING Shutting down!..
2022-06-27T19:21:40.583051+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:21:40.583224+0900 WARNING Bye!
2022-06-27T19:21:43.450033+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f9c24ca17e0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f9c24ca08b0>
    └ <uvicorn.server.Server object at 0x7f9c24d73fd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f9c24ca0940>
           │       │   └ <uvicorn.server.Server object at 0x7f9c24d73fd0>
           │       └ <function run at 0x7f9c28327d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f9c24c47220>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f9c279fa5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f9c279fa560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f9c27a000d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f9c27bafa30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f9c24cf1090>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>
          │   │      │    └ <function LifespanOn.receive at 0x7f9c24cf1120>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9c24ca8b50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f9c24cdf0d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9c24ca8b50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9c24cdf9a0>
          └ <fastapi.applications.FastAPI object at 0x7f9c24cdf0d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9c24cdf940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9c24cdf9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9c24cdf910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9c24cdf940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f9c24cdf8b0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9c24cdf910>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          │    └ <fastapi.routing.APIRouter object at 0x7f9c24cdf130>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f9c24cdf8b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          │    └ <function Router.lifespan at 0x7f9c253e6b90>
          └ <fastapi.routing.APIRouter object at 0x7f9c24cdf130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f9c24cdf0d0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f9c24cdf190>
               └ <fastapi.routing.APIRouter object at 0x7f9c24cdf130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f9c253e6a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f9c24cdf130>
          └ <starlette.routing._DefaultLifespan object at 0x7f9c24cdf190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f9c24cf1900>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f9c24d53e20>
          └ <bot_app.TelegramBot object at 0x7f9c24cdf640>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f9c24d53eb0>
          └ <bot_app.TelegramBot object at 0x7f9c24cdf640>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9c24d3ceb0>
          │                 └ <bot_app.TelegramBot object at 0x7f9c24cdf640>
          └ <function on_startup_notify at 0x7f9c24bcf760>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f9c265a3910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f9c24d3cc10>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9c24d3ceb0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f9c2655f3d0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f9c265a20e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f9c24d3cc10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f9c24d3cc10>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f9c24d3cc10>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f9c265a1990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f9c24d3cc10>
                 │   └ <function make_request at 0x7f9c26547010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f9c2704d360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f9c27369f30>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f9c26546d40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f9c26546710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:21:44.062413+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:22:44.449217+0900 WARNING Shutting down!..
2022-06-27T19:22:45.298240+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:22:45.298518+0900 WARNING Bye!
2022-06-27T19:22:48.291911+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fde4acf9870>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fde4acf8940>
    └ <uvicorn.server.Server object at 0x7fde4adf8190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fde4acf89d0>
           │       │   └ <uvicorn.server.Server object at 0x7fde4adf8190>
           │       └ <function run at 0x7fde4e397d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fde4aca3220>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fde4da6e5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fde4da6e560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fde4da700d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fde4dc1fa30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fde4ad4d120>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>
          │   │      │    └ <function LifespanOn.receive at 0x7fde4ad4d1b0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fde...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fde4ad04be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fde...
                 │    └ <fastapi.applications.FastAPI object at 0x7fde4ad37160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fde4ad04be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fde...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fde...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fde4ad37a30>
          └ <fastapi.applications.FastAPI object at 0x7fde4ad37160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fde...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fde4ad379d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fde4ad37a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fde...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fde4ad379a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fde4ad379d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fde...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fde4ad37940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fde4ad379a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fde...
          │    └ <fastapi.routing.APIRouter object at 0x7fde4ad371c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fde4ad37940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fde...
          │    └ <function Router.lifespan at 0x7fde4b472b90>
          └ <fastapi.routing.APIRouter object at 0x7fde4ad371c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fde4ad37160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fde4ad37220>
               └ <fastapi.routing.APIRouter object at 0x7fde4ad371c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fde4b472a70>
          │    └ <fastapi.routing.APIRouter object at 0x7fde4ad371c0>
          └ <starlette.routing._DefaultLifespan object at 0x7fde4ad37220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fde4ad4d990>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fde4adafeb0>
          └ <bot_app.TelegramBot object at 0x7fde4ad376d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fde4adaff40>
          └ <bot_app.TelegramBot object at 0x7fde4ad376d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fde4ad98f40>
          │                 └ <bot_app.TelegramBot object at 0x7fde4ad376d0>
          └ <function on_startup_notify at 0x7fde4ac277f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fde4c5a3910>
          │  └ <aiogram.bot.bot.Bot object at 0x7fde4ad98ca0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fde4ad98f40>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fde4c55f4c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fde4c5a20e0>
                   └ <aiogram.bot.bot.Bot object at 0x7fde4ad98ca0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fde4ad98ca0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fde4ad98ca0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fde4c5a1990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fde4ad98ca0>
                 │   └ <function make_request at 0x7fde4c547010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fde4d0e1360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fde4d3fddf0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fde4c546d40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fde4c546710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:22:48.754333+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:23:23.265561+0900 WARNING Shutting down!..
2022-06-27T19:23:23.699060+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:23:23.699232+0900 WARNING Bye!
2022-06-27T19:23:25.692641+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f5daf2097e0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f5daf2088b0>
    └ <uvicorn.server.Server object at 0x7f5daf308190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f5daf208940>
           │       │   └ <uvicorn.server.Server object at 0x7f5daf308190>
           │       └ <function run at 0x7f5db28bbd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f5daf1b3290>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f5db1f925f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f5db1f92560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f5db1f940d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f5db2143a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f5daf259090>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>
          │   │      │    └ <function LifespanOn.receive at 0x7f5daf259120>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5d...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5daf218be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5d...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5daf24b160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5daf218be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5d...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5d...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5daf24ba30>
          └ <fastapi.applications.FastAPI object at 0x7f5daf24b160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5d...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5daf24b9d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5daf24ba30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5d...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5daf24b9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5daf24b9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5d...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5daf24b940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5daf24b9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5d...
          │    └ <fastapi.routing.APIRouter object at 0x7f5daf24b1c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5daf24b940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5d...
          │    └ <function Router.lifespan at 0x7f5daf986b90>
          └ <fastapi.routing.APIRouter object at 0x7f5daf24b1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f5daf24b160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f5daf24b220>
               └ <fastapi.routing.APIRouter object at 0x7f5daf24b1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f5daf986a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f5daf24b1c0>
          └ <starlette.routing._DefaultLifespan object at 0x7f5daf24b220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f5daf259900>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f5daf2bfe20>
          └ <bot_app.TelegramBot object at 0x7f5daf24b6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f5daf2bfeb0>
          └ <bot_app.TelegramBot object at 0x7f5daf24b6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5daf2a8f40>
          │                 └ <bot_app.TelegramBot object at 0x7f5daf24b6d0>
          └ <function on_startup_notify at 0x7f5daf13b760>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f5db0567910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f5daf2a8ca0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5daf2a8f40>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f5db05234c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f5db05660e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f5daf2a8ca0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f5daf2a8ca0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f5daf2a8ca0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f5db0565990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f5daf2a8ca0>
                 │   └ <function make_request at 0x7f5db050b010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f5db1305360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f5db18f9df0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f5db050ad40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f5db050a710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:23:26.204016+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:24:51.062769+0900 WARNING Shutting down!..
2022-06-27T19:24:51.626987+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:24:51.627196+0900 WARNING Bye!
2022-06-27T19:24:53.814086+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f943e7e17e0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f943e7e08b0>
    └ <uvicorn.server.Server object at 0x7f943e8b3fa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f943e7e0940>
           │       │   └ <uvicorn.server.Server object at 0x7f943e8b3fa0>
           │       └ <function run at 0x7f9441e7fd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f943e787220>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f944154e5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f944154e560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f94415500d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f9441703a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f943e831090>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>
          │   │      │    └ <function LifespanOn.receive at 0x7f943e831120>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f943e7e8af0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
                 │    └ <fastapi.applications.FastAPI object at 0x7f943e823070>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f943e7e8af0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f943e823940>
          └ <fastapi.applications.FastAPI object at 0x7f943e823070>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f943e8238e0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f943e823940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f943e8238b0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f943e8238e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f943e823850>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f943e8238b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <fastapi.routing.APIRouter object at 0x7f943e8230d0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f943e823850>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <function Router.lifespan at 0x7f943ef52b90>
          └ <fastapi.routing.APIRouter object at 0x7f943e8230d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f943e823070>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f943e823130>
               └ <fastapi.routing.APIRouter object at 0x7f943e8230d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f943ef52a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f943e8230d0>
          └ <starlette.routing._DefaultLifespan object at 0x7f943e823130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f943e831900>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f943e893e20>
          └ <bot_app.TelegramBot object at 0x7f943e8235e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f943e893eb0>
          └ <bot_app.TelegramBot object at 0x7f943e8235e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f943e87ce80>
          │                 └ <bot_app.TelegramBot object at 0x7f943e8235e0>
          └ <function on_startup_notify at 0x7f943e70f760>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f943fb57910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f943e87cbe0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f943e87ce80>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f943fb13460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f943fb560e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f943e87cbe0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f943e87cbe0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f943e87cbe0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f943fb55990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f943e87cbe0>
                 │   └ <function make_request at 0x7f943fafb010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f9440da9360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f9440ee5e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f943fafad40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f943fafa710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:24:54.427620+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:25:11.481636+0900 WARNING Shutting down!..
2022-06-27T19:25:11.731816+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:25:11.732025+0900 WARNING Bye!
2022-06-27T19:25:13.921087+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f59810817e0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f59810808b0>
    └ <uvicorn.server.Server object at 0x7f59811800a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f5981080940>
           │       │   └ <uvicorn.server.Server object at 0x7f59811800a0>
           │       └ <function run at 0x7f5984723d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f5981027300>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f5983df25f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f5983df2560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f5983df40d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f5983fa7a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f59810d5090>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>
          │   │      │    └ <function LifespanOn.receive at 0x7f59810d5120>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f59...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f598108cb80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f59...
                 │    └ <fastapi.applications.FastAPI object at 0x7f59810cb100>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f598108cb80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f59...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f59...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f59810cb9d0>
          └ <fastapi.applications.FastAPI object at 0x7f59810cb100>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f59...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f59810cb970>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f59810cb9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f59...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f59810cb940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f59810cb970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f59...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f59810cb8e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f59810cb940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f59...
          │    └ <fastapi.routing.APIRouter object at 0x7f59810cb160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f59810cb8e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f59...
          │    └ <function Router.lifespan at 0x7f59817e6b90>
          └ <fastapi.routing.APIRouter object at 0x7f59810cb160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f59810cb100>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f59810cb1c0>
               └ <fastapi.routing.APIRouter object at 0x7f59810cb160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f59817e6a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f59810cb160>
          └ <starlette.routing._DefaultLifespan object at 0x7f59810cb1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f59810d5900>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f5981137e20>
          └ <bot_app.TelegramBot object at 0x7f59810cb670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f5981137eb0>
          └ <bot_app.TelegramBot object at 0x7f59810cb670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5981120f10>
          │                 └ <bot_app.TelegramBot object at 0x7f59810cb670>
          └ <function on_startup_notify at 0x7f5980fb3760>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f5982457910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f5981120c70>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5981120f10>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f5982413490>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f59824560e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f5981120c70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f5981120c70>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f5981120c70>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f5982455990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f5981120c70>
                 │   └ <function make_request at 0x7f59823f7010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f59833f9360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f5983755ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f59823f6d40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f59823f6710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:25:14.496854+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:46:17.202177+0900 WARNING Shutting down!..
2022-06-27T19:46:17.818812+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:46:17.818976+0900 WARNING Bye!
2022-06-27T19:49:14.255536+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f0a40b59d80>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f0a40b58e50>
    └ <uvicorn.server.Server object at 0x7f0a40c39030>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f0a40b58ee0>
           │       │   └ <uvicorn.server.Server object at 0x7f0a40c39030>
           │       └ <function run at 0x7f0a441e3d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f0a40aff370>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f0a438b65f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f0a438b6560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f0a438bc0d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f0a43a6ba30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f0a40bb5630>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>
          │   │      │    └ <function LifespanOn.receive at 0x7f0a40bb56c0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f0a...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f0a40bc68f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f0a...
                 │    └ <fastapi.applications.FastAPI object at 0x7f0a40bc65f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f0a40bc68f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f0a...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f0a...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f0a40bc6e30>
          └ <fastapi.applications.FastAPI object at 0x7f0a40bc65f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f0a...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f0a40bc6dd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f0a40bc6e30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f0a...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f0a40bc6da0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f0a40bc6dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f0a...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f0a40bc6d40>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f0a40bc6da0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f0a...
          │    └ <fastapi.routing.APIRouter object at 0x7f0a40bc6650>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f0a40bc6d40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f0a...
          │    └ <function Router.lifespan at 0x7f0a412a2b90>
          └ <fastapi.routing.APIRouter object at 0x7f0a40bc6650>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f0a40bc65f0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f0a40bc66b0>
               └ <fastapi.routing.APIRouter object at 0x7f0a40bc6650>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f0a412a2a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f0a40bc6650>
          └ <starlette.routing._DefaultLifespan object at 0x7f0a40bc66b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f0a40bb5cf0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f0a40c443a0>
          └ <bot_app.TelegramBot object at 0x7f0a40bc6ad0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f0a40c44430>
          └ <bot_app.TelegramBot object at 0x7f0a40bc6ad0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f0a40bf56c0>
          │                 └ <bot_app.TelegramBot object at 0x7f0a40bc6ad0>
          └ <function on_startup_notify at 0x7f0a40a87b50>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f0a41f67910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f0a40bf5420>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f0a40bf56c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f0a41f23400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f0a41f660e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f0a40bf5420>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f0a40bf5420>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f0a40bf5420>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f0a41f65990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f0a40bf5420>
                 │   └ <function make_request at 0x7f0a41f0b010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f0a42d05360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f0a4325e070>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f0a41f0ad40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f0a41f0a710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:49:15.334126+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:49:35.804107+0900 WARNING Shutting down!..
2022-06-27T19:49:36.422992+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:49:36.423158+0900 WARNING Bye!
2022-06-27T19:49:37.923210+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fb9845b1fc0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fb9845b1090>
    └ <uvicorn.server.Server object at 0x7fb9846a4df0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fb9845b1120>
           │       │   └ <uvicorn.server.Server object at 0x7fb9846a4df0>
           │       └ <function run at 0x7fb987c4fd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fb9845575a0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fb9873225f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fb987322560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fb9873280d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fb9874d7a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fb98460d870>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>
          │   │      │    └ <function LifespanOn.receive at 0x7fb98460d900>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb9845c18d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb9845fbe50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb9845c18d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb984614760>
          └ <fastapi.applications.FastAPI object at 0x7fb9845fbe50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb984614700>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb984614760>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb9846146d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb984614700>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb984614670>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb9846146d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <fastapi.routing.APIRouter object at 0x7fb9845fbeb0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb984614670>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <function Router.lifespan at 0x7fb984d22b90>
          └ <fastapi.routing.APIRouter object at 0x7fb9845fbeb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fb9845fbe50>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fb9845fbf10>
               └ <fastapi.routing.APIRouter object at 0x7fb9845fbeb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fb984d22a70>
          │    └ <fastapi.routing.APIRouter object at 0x7fb9845fbeb0>
          └ <starlette.routing._DefaultLifespan object at 0x7fb9845fbf10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fb98460e0e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fb9846945e0>
          └ <bot_app.TelegramBot object at 0x7fb984614400>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fb984694670>
          └ <bot_app.TelegramBot object at 0x7fb984614400>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb984649750>
          │                 └ <bot_app.TelegramBot object at 0x7fb984614400>
          └ <function on_startup_notify at 0x7fb983b44040>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fb98596b910>
          │  └ <aiogram.bot.bot.Bot object at 0x7fb9846494b0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb984649750>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fb985927460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fb98596a0e0>
                   └ <aiogram.bot.bot.Bot object at 0x7fb9846494b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fb9846494b0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fb9846494b0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fb985969990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fb9846494b0>
                 │   └ <function make_request at 0x7fb98590b010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fb986709360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fb986c61f80>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fb98590ad40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fb98590a710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:49:38.525395+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:50:42.109427+0900 WARNING Shutting down!..
2022-06-27T19:50:42.935748+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:50:42.935959+0900 WARNING Bye!
2022-06-27T19:50:46.006877+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fd6a9141fc0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fd6a9141090>
    └ <uvicorn.server.Server object at 0x7fd6a9234e50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fd6a9141120>
           │       │   └ <uvicorn.server.Server object at 0x7fd6a9234e50>
           │       └ <function run at 0x7fd6ac7efd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fd6a90e3610>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fd6abec25f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fd6abec2560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fd6abec40d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fd6ac077a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fd6a9199870>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>
          │   │      │    └ <function LifespanOn.receive at 0x7fd6a9199900>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd6a9149930>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
                 │    └ <fastapi.applications.FastAPI object at 0x7fd6a9183eb0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd6a9149930>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd6a91a07c0>
          └ <fastapi.applications.FastAPI object at 0x7fd6a9183eb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd6a91a0760>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd6a91a07c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd6a91a0730>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd6a91a0760>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd6a91a06d0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd6a91a0730>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <fastapi.routing.APIRouter object at 0x7fd6a9183f10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd6a91a06d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <function Router.lifespan at 0x7fd6a98c2b90>
          └ <fastapi.routing.APIRouter object at 0x7fd6a9183f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fd6a9183eb0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fd6a9183f70>
               └ <fastapi.routing.APIRouter object at 0x7fd6a9183f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fd6a98c2a70>
          │    └ <fastapi.routing.APIRouter object at 0x7fd6a9183f10>
          └ <starlette.routing._DefaultLifespan object at 0x7fd6a9183f70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fd6a919a0e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fd6a92245e0>
          └ <bot_app.TelegramBot object at 0x7fd6a91a0460>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fd6a9224670>
          └ <bot_app.TelegramBot object at 0x7fd6a91a0460>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd6a94217b0>
          │                 └ <bot_app.TelegramBot object at 0x7fd6a91a0460>
          └ <function on_startup_notify at 0x7fd6a90d0040>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fd6aa55f910>
          │  └ <aiogram.bot.bot.Bot object at 0x7fd6a9421510>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd6a94217b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fd6aa51b4c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fd6aa55e0e0>
                   └ <aiogram.bot.bot.Bot object at 0x7fd6a9421510>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fd6a9421510>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fd6a9421510>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fd6aa55d990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fd6a9421510>
                 │   └ <function make_request at 0x7fd6aa4ff010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fd6ab301360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fd6ab85de40>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fd6aa4fed40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fd6aa4fe710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:50:46.825901+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:54:41.769956+0900 WARNING Shutting down!..
2022-06-27T19:54:42.553623+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:54:42.553799+0900 WARNING Bye!
2022-06-27T19:54:44.806032+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f5a9ce4dfc0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f5a9ce4d090>
    └ <uvicorn.server.Server object at 0x7f5a9cf44eb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f5a9ce4d120>
           │       │   └ <uvicorn.server.Server object at 0x7f5a9cf44eb0>
           │       └ <function run at 0x7f5aa04cbd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f5a9cdf35a0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f5a9fba25f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f5a9fba2560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f5a9fba40d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f5a9fd53a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f5a9cea9870>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>
          │   │      │    └ <function LifespanOn.receive at 0x7f5a9cea9900>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5a9ce59990>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5a9ce93f10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5a9ce59990>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5a9ceb0820>
          └ <fastapi.applications.FastAPI object at 0x7f5a9ce93f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5a9ceb07c0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5a9ceb0820>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5a9ceb0790>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5a9ceb07c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5a9ceb0730>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5a9ceb0790>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          │    └ <fastapi.routing.APIRouter object at 0x7f5a9ce93f70>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5a9ceb0730>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          │    └ <function Router.lifespan at 0x7f5a9d592b90>
          └ <fastapi.routing.APIRouter object at 0x7f5a9ce93f70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f5a9ce93f10>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f5a9ce93fd0>
               └ <fastapi.routing.APIRouter object at 0x7f5a9ce93f70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f5a9d592a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f5a9ce93f70>
          └ <starlette.routing._DefaultLifespan object at 0x7f5a9ce93fd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f5a9ceaa0e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f5a9cf345e0>
          └ <bot_app.TelegramBot object at 0x7f5a9ceb04c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f5a9cf34670>
          └ <bot_app.TelegramBot object at 0x7f5a9ceb04c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5a9cee5810>
          │                 └ <bot_app.TelegramBot object at 0x7f5a9ceb04c0>
          └ <function on_startup_notify at 0x7f5a9cbe4040>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f5a9e163910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f5a9cee5570>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5a9cee5810>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f5a9e11f460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f5a9e1620e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f5a9cee5570>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f5a9cee5570>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f5a9cee5570>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f5a9e161990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f5a9cee5570>
                 │   └ <function make_request at 0x7f5a9e103010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f5a9ef05360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f5a9f4f9e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f5a9e102d40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f5a9e102710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:54:45.524571+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:55:02.278802+0900 WARNING Shutting down!..
2022-06-27T19:55:02.521950+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:55:02.522156+0900 WARNING Bye!
2022-06-27T19:55:04.058391+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fd6b10aa050>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fd6b10a9120>
    └ <uvicorn.server.Server object at 0x7fd6b119cf40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fd6b10a91b0>
           │       │   └ <uvicorn.server.Server object at 0x7fd6b119cf40>
           │       └ <function run at 0x7fd6b4757d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fd6b1247530>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fd6b3e2a5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fd6b3e2a560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fd6b3e2c0d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fd6b3fdfa30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fd6b1101900>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>
          │   │      │    └ <function LifespanOn.receive at 0x7fd6b1101990>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd6b10b1a20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
                 │    └ <fastapi.applications.FastAPI object at 0x7fd6b10ebfa0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd6b10b1a20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd6b11088b0>
          └ <fastapi.applications.FastAPI object at 0x7fd6b10ebfa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd6b1108850>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd6b11088b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd6b1108820>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd6b1108850>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd6b11087c0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd6b1108820>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <fastapi.routing.APIRouter object at 0x7fd6b1108040>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd6b11087c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <function Router.lifespan at 0x7fd6b181ab90>
          └ <fastapi.routing.APIRouter object at 0x7fd6b1108040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fd6b10ebfa0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fd6b11080a0>
               └ <fastapi.routing.APIRouter object at 0x7fd6b1108040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fd6b181aa70>
          │    └ <fastapi.routing.APIRouter object at 0x7fd6b1108040>
          └ <starlette.routing._DefaultLifespan object at 0x7fd6b11080a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fd6b1102170>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fd6b1188670>
          └ <bot_app.TelegramBot object at 0x7fd6b1108550>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fd6b1188700>
          └ <bot_app.TelegramBot object at 0x7fd6b1108550>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd6b13858a0>
          │                 └ <bot_app.TelegramBot object at 0x7fd6b1108550>
          └ <function on_startup_notify at 0x7fd6b10380d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fd6b245f910>
          │  └ <aiogram.bot.bot.Bot object at 0x7fd6b1385600>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd6b13858a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fd6b241b5b0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fd6b245e0e0>
                   └ <aiogram.bot.bot.Bot object at 0x7fd6b1385600>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fd6b1385600>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fd6b1385600>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fd6b245d990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fd6b1385600>
                 │   └ <function make_request at 0x7fd6b2403010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fd6b33fd360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fd6b375df30>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fd6b2402d40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fd6b2402710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:55:04.671690+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:59:17.236970+0900 WARNING Shutting down!..
2022-06-27T19:59:17.398448+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:59:17.398623+0900 WARNING Bye!
2022-06-27T19:59:18.824550+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f5354b06170>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f5354b05240>
    └ <uvicorn.server.Server object at 0x7f5354bf9300>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f5354b052d0>
           │       │   └ <uvicorn.server.Server object at 0x7f5354bf9300>
           │       └ <function run at 0x7f535818bd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f5354aab5a0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f535785e5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f535785e560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f53578600d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f5357a13a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f5354b61a20>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>
          │   │      │    └ <function LifespanOn.receive at 0x7f5354b61ab0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f53...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5354b11de0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f53...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5354b683a0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5354b11de0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f53...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f53...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5354b68c70>
          └ <fastapi.applications.FastAPI object at 0x7f5354b683a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f53...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5354b68c10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5354b68c70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f53...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5354b68be0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5354b68c10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f53...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5354b68b80>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5354b68be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f53...
          │    └ <fastapi.routing.APIRouter object at 0x7f5354b68400>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5354b68b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f53...
          │    └ <function Router.lifespan at 0x7f535524eb90>
          └ <fastapi.routing.APIRouter object at 0x7f5354b68400>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f5354b683a0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f5354b68460>
               └ <fastapi.routing.APIRouter object at 0x7f5354b68400>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f535524ea70>
          │    └ <fastapi.routing.APIRouter object at 0x7f5354b68400>
          └ <starlette.routing._DefaultLifespan object at 0x7f5354b68460>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f5354b62290>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f5354bf0820>
          └ <bot_app.TelegramBot object at 0x7f5354b68910>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f5354bf08b0>
          └ <bot_app.TelegramBot object at 0x7f5354b68910>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5354ba18a0>
          │                 └ <bot_app.TelegramBot object at 0x7f5354b68910>
          └ <function on_startup_notify at 0x7f5354a940d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f5355e5b910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f5354ba1600>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5354ba18a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f5355e174f0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f5355e5a0e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f5354ba1600>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f5354ba1600>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f5354ba1600>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f5355e59990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f5354ba1600>
                 │   └ <function make_request at 0x7f5355dff010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f5356dfd360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f53571f1e40>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f5355dfed40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f5355dfe710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:59:19.293755+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:59:33.364699+0900 WARNING Shutting down!..
2022-06-27T19:59:33.576587+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:59:33.576811+0900 WARNING Bye!
2022-06-27T19:59:35.203002+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f377ef12170>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f377ef11240>
    └ <uvicorn.server.Server object at 0x7f377f0012a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f377ef112d0>
           │       │   └ <uvicorn.server.Server object at 0x7f377f0012a0>
           │       └ <function run at 0x7f37825bbd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f377eebb5a0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f3781c925f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f3781c92560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f3781c940d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f3781e43a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f377ef6da20>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>
          │   │      │    └ <function LifespanOn.receive at 0x7f377ef6dab0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f37...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f377ef1dd80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f37...
                 │    └ <fastapi.applications.FastAPI object at 0x7f377ef74340>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f377ef1dd80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f37...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f37...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f377ef74c10>
          └ <fastapi.applications.FastAPI object at 0x7f377ef74340>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f37...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f377ef74bb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f377ef74c10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f37...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f377ef74b80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f377ef74bb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f37...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f377ef74b20>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f377ef74b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f37...
          │    └ <fastapi.routing.APIRouter object at 0x7f377ef743a0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f377ef74b20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f37...
          │    └ <function Router.lifespan at 0x7f377f68eb90>
          └ <fastapi.routing.APIRouter object at 0x7f377ef743a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f377ef74340>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f377ef74400>
               └ <fastapi.routing.APIRouter object at 0x7f377ef743a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f377f68ea70>
          │    └ <fastapi.routing.APIRouter object at 0x7f377ef743a0>
          └ <starlette.routing._DefaultLifespan object at 0x7f377ef74400>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f377ef6e290>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f377eff8820>
          └ <bot_app.TelegramBot object at 0x7f377ef748b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f377eff88b0>
          └ <bot_app.TelegramBot object at 0x7f377ef748b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f377efa9840>
          │                 └ <bot_app.TelegramBot object at 0x7f377ef748b0>
          └ <function on_startup_notify at 0x7f377e4a80d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f37807a3910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f377efa95a0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f377efa9840>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f378075f490>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f37807a20e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f377efa95a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f377efa95a0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f377efa95a0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f37807a1990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f377efa95a0>
                 │   └ <function make_request at 0x7f3780743010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f37812e5360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f37815f1f30>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f3780742d40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f3780742710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:59:35.663240+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T20:01:19.891861+0900 WARNING Shutting down!..
2022-06-27T20:01:20.342061+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T20:01:20.342249+0900 WARNING Bye!
2022-06-27T20:01:21.783213+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fa021b96170>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fa021b95240>
    └ <uvicorn.server.Server object at 0x7fa021c81240>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fa021b952d0>
           │       │   └ <uvicorn.server.Server object at 0x7fa021c81240>
           │       └ <function run at 0x7fa02522fd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fa0235a7b50>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fa0249025f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fa024902560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fa0249080d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fa024ab7a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fa021bf1a20>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>
          │   │      │    └ <function LifespanOn.receive at 0x7fa021bf1ab0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa0...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa021ba1d20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa0...
                 │    └ <fastapi.applications.FastAPI object at 0x7fa021bf82e0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa021ba1d20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa0...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa0...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa021bf8bb0>
          └ <fastapi.applications.FastAPI object at 0x7fa021bf82e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa0...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa021bf8b50>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa021bf8bb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa0...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa021bf8b20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa021bf8b50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa0...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa021bf8ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa021bf8b20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa0...
          │    └ <fastapi.routing.APIRouter object at 0x7fa021bf8340>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa021bf8ac0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa0...
          │    └ <function Router.lifespan at 0x7fa0222deb90>
          └ <fastapi.routing.APIRouter object at 0x7fa021bf8340>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fa021bf82e0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fa021bf83a0>
               └ <fastapi.routing.APIRouter object at 0x7fa021bf8340>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fa0222dea70>
          │    └ <fastapi.routing.APIRouter object at 0x7fa021bf8340>
          └ <starlette.routing._DefaultLifespan object at 0x7fa021bf83a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fa021bf2290>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fa021c7c820>
          └ <bot_app.TelegramBot object at 0x7fa021bf8850>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fa021c7c8b0>
          └ <bot_app.TelegramBot object at 0x7fa021bf8850>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fa021e497e0>
          │                 └ <bot_app.TelegramBot object at 0x7fa021bf8850>
          └ <function on_startup_notify at 0x7fa021b280d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fa022f67910>
          │  └ <aiogram.bot.bot.Bot object at 0x7fa021e49540>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fa021e497e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fa022f23430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fa022f660e0>
                   └ <aiogram.bot.bot.Bot object at 0x7fa021e49540>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fa021e49540>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fa021e49540>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fa022f65990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fa021e49540>
                 │   └ <function make_request at 0x7fa022f0b010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fa023d05360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fa024265f80>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fa022f0ad40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fa022f0a710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T20:01:22.326680+0900 INFO IzfirBot: Dispatcher loaded
