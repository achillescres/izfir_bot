2022-06-27T13:36:03.968185+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 170, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fd4c9dc95a0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fd4c9dc8670>
    └ <uvicorn.server.Server object at 0x7fd4c9e67b20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fd4c9dc8700>
           │       │   └ <uvicorn.server.Server object at 0x7fd4c9e67b20>
           │       └ <function run at 0x7fd4cd46fd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fd4c9d7eff0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fd4ccb3e680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fd4ccb3e5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fd4ccb44160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fd4cccf3ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fd4c9e28e50>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>
          │   │      │    └ <function LifespanOn.receive at 0x7fd4c9e28ee0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd4c9ed4040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
                 │    └ <fastapi.applications.FastAPI object at 0x7fd4c9e12bf0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd4c9ed4040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd4c9e134c0>
          └ <fastapi.applications.FastAPI object at 0x7fd4c9e12bf0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd4c9e13460>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd4c9e134c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd4c9e13430>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd4c9e13460>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd4c9e133d0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd4c9e13430>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          │    └ <fastapi.routing.APIRouter object at 0x7fd4c9e12c50>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd4c9e133d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd4c9e67670>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          │    └ <function Router.lifespan at 0x7fd4ca542c20>
          └ <fastapi.routing.APIRouter object at 0x7fd4c9e12c50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fd4c9e12bf0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fd4c9e12cb0>
               └ <fastapi.routing.APIRouter object at 0x7fd4c9e12c50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fd4ca542b00>
          │    └ <fastapi.routing.APIRouter object at 0x7fd4c9e12c50>
          └ <starlette.routing._DefaultLifespan object at 0x7fd4c9e12cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fd4c9e296c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://9f9e-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fd4c9e87be0>
          └ <bot_app.TelegramBot object at 0x7fd4c9e13160>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 64, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fd4c9e87c70>
          └ <bot_app.TelegramBot object at 0x7fd4c9e13160>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 82, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd4c9e660b0>
          │                 └ <bot_app.TelegramBot object at 0x7fd4c9e13160>
          └ <function on_startup_notify at 0x7fd4c9cf7760>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fd4cb15b9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7fd4c9e644c0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd4c9e660b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fd4cb117ac0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fd4cb15a170>
                   └ <aiogram.bot.bot.Bot object at 0x7fd4c9e644c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fd4c9e644c0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fd4c9e644c0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fd4cb159a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fd4c9e644c0>
                 │   └ <function make_request at 0x7fd4cb0f70a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fd4cc3693f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fd4cc4562a0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fd4cb0f6dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fd4cb0f67a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T13:36:04.991141+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T13:39:32.056255+0900 WARNING Shutting down!..
2022-06-27T13:39:32.659496+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T13:39:32.659667+0900 WARNING Bye!
2022-06-27T13:39:34.273236+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 170, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f79e5db5630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f79e5db4700>
    └ <uvicorn.server.Server object at 0x7f79e5e97ca0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f79e5db4790>
           │       │   └ <uvicorn.server.Server object at 0x7f79e5e97ca0>
           │       └ <function run at 0x7f79e943bd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f79e5d62f80>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f79e8b12680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f79e8b125f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f79e8b14160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f79e8cc3ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f79e5e14ee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>
          │   │      │    └ <function LifespanOn.receive at 0x7f79e5e14f70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f79e5dc5060>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
                 │    └ <fastapi.applications.FastAPI object at 0x7f79e5df6c20>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f79e5dc5060>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f79e5df74f0>
          └ <fastapi.applications.FastAPI object at 0x7f79e5df6c20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f79e5df7490>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f79e5df74f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f79e5df7460>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f79e5df7490>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f79e5df7400>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f79e5df7460>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <fastapi.routing.APIRouter object at 0x7f79e5df6c80>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f79e5df7400>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f79e5d93a90>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <function Router.lifespan at 0x7f79e64fec20>
          └ <fastapi.routing.APIRouter object at 0x7f79e5df6c80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f79e5df6c20>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f79e5df6ce0>
               └ <fastapi.routing.APIRouter object at 0x7f79e5df6c80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f79e64feb00>
          │    └ <fastapi.routing.APIRouter object at 0x7f79e5df6c80>
          └ <starlette.routing._DefaultLifespan object at 0x7f79e5df6ce0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f79e5e15750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f79e5e7bc70>
          └ <bot_app.TelegramBot object at 0x7f79e5df7190>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 64, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f79e5e7bd00>
          └ <bot_app.TelegramBot object at 0x7f79e5df7190>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 82, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f79e5e560e0>
          │                 └ <bot_app.TelegramBot object at 0x7f79e5df7190>
          └ <function on_startup_notify at 0x7f79e5cdf7f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f79e716b9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f79e5e544f0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f79e5e560e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f79e7127a90>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f79e716a170>
                   └ <aiogram.bot.bot.Bot object at 0x7f79e5e544f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f79e5e544f0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f79e5e544f0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f79e7169a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f79e5e544f0>
                 │   └ <function make_request at 0x7f79e71030a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f79e7f093f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f79e8469e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f79e7102dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f79e71027a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T13:39:34.911982+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T13:39:45.461064+0900 INFO Unable to post message
2022-06-27T14:10:28.392513+0900 WARNING Shutting down!..
2022-06-27T14:10:29.189580+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T14:10:29.189814+0900 WARNING Bye!
2022-06-27T14:12:19.884844+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 170, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f8f42071630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f8f42070700>
    └ <uvicorn.server.Server object at 0x7f8f4214fd90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f8f42070790>
           │       │   └ <uvicorn.server.Server object at 0x7f8f4214fd90>
           │       └ <function run at 0x7f8f45707d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f8f42026f80>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f8f44dde680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f8f44dde5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f8f44de0160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f8f44f8fac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f8f420d0ee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>
          │   │      │    └ <function LifespanOn.receive at 0x7f8f420d0f70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8f...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f8f42180040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8f...
                 │    └ <fastapi.applications.FastAPI object at 0x7f8f420bed10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f8f42180040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8f...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8f...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f8f420bf5e0>
          └ <fastapi.applications.FastAPI object at 0x7f8f420bed10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8f...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f8f420bf580>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f8f420bf5e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8f...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f8f420bf550>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f8f420bf580>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8f...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f8f420bf4f0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f8f420bf550>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8f...
          │    └ <fastapi.routing.APIRouter object at 0x7f8f420bed70>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f8f420bf4f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8f4214fcd0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8f...
          │    └ <function Router.lifespan at 0x7f8f427d6c20>
          └ <fastapi.routing.APIRouter object at 0x7f8f420bed70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f8f420bed10>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f8f420bedd0>
               └ <fastapi.routing.APIRouter object at 0x7f8f420bed70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f8f427d6b00>
          │    └ <fastapi.routing.APIRouter object at 0x7f8f420bed70>
          └ <starlette.routing._DefaultLifespan object at 0x7f8f420bedd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f8f420d1750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f8f42137c70>
          └ <bot_app.TelegramBot object at 0x7f8f420bf280>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 64, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f8f42137d00>
          └ <bot_app.TelegramBot object at 0x7f8f420bf280>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 82, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f8f4210e1d0>
          │                 └ <bot_app.TelegramBot object at 0x7f8f420bf280>
          └ <function on_startup_notify at 0x7f8f41f9f7f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f8f439a39a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f8f4210c5e0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f8f4210e1d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f8f4395fac0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f8f439a2170>
                   └ <aiogram.bot.bot.Bot object at 0x7f8f4210c5e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f8f4210c5e0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f8f4210c5e0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f8f439a1a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f8f4210c5e0>
                 │   └ <function make_request at 0x7f8f4393f0a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f8f444513f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f8f44545e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f8f4393edd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f8f4393e7a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T14:12:20.499763+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T14:12:55.618969+0900 WARNING Shutting down!..
2022-06-27T14:12:56.237196+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T14:12:56.237360+0900 WARNING Bye!
2022-06-27T14:12:57.978846+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 170, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f4b2f5ed630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f4b2f5ec700>
    └ <uvicorn.server.Server object at 0x7f4b2f6cbdf0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f4b2f5ec790>
           │       │   └ <uvicorn.server.Server object at 0x7f4b2f6cbdf0>
           │       └ <function run at 0x7f4b32c9bd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f4b2f5a2f80>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f4b3236a680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f4b3236a5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f4b32370160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f4b3251fac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f4b2f64cee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>
          │   │      │    └ <function LifespanOn.receive at 0x7f4b2f64cf70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4b2f7000a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
                 │    └ <fastapi.applications.FastAPI object at 0x7f4b2f63ad70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4b2f7000a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f4b2f63b640>
          └ <fastapi.applications.FastAPI object at 0x7f4b2f63ad70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f4b2f63b5e0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f4b2f63b640>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f4b2f63b5b0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f4b2f63b5e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f4b2f63b550>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f4b2f63b5b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          │    └ <fastapi.routing.APIRouter object at 0x7f4b2f63add0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f4b2f63b550>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b2f6cbd30>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          │    └ <function Router.lifespan at 0x7f4b2fd66c20>
          └ <fastapi.routing.APIRouter object at 0x7f4b2f63add0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f4b2f63ad70>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f4b2f63ae30>
               └ <fastapi.routing.APIRouter object at 0x7f4b2f63add0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f4b2fd66b00>
          │    └ <fastapi.routing.APIRouter object at 0x7f4b2f63add0>
          └ <starlette.routing._DefaultLifespan object at 0x7f4b2f63ae30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f4b2f64d750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f4b2f6b3c70>
          └ <bot_app.TelegramBot object at 0x7f4b2f63b2e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 64, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f4b2f6b3d00>
          └ <bot_app.TelegramBot object at 0x7f4b2f63b2e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 82, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f4b2f886230>
          │                 └ <bot_app.TelegramBot object at 0x7f4b2f63b2e0>
          └ <function on_startup_notify at 0x7f4b2f5177f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f4b309579a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f4b2f884640>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f4b2f886230>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f4b30913ac0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f4b30956170>
                   └ <aiogram.bot.bot.Bot object at 0x7f4b2f884640>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f4b2f884640>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f4b2f884640>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f4b30955a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f4b2f884640>
                 │   └ <function make_request at 0x7f4b308ef0a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f4b31bcd3f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f4b31ce6020>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f4b308eedd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f4b308ee7a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T14:12:58.592644+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T14:13:50.573149+0900 WARNING Shutting down!..
2022-06-27T14:13:51.283327+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T14:13:51.283503+0900 WARNING Bye!
2022-06-27T14:13:54.709970+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 170, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f187d87d750>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f187d87c820>
    └ <uvicorn.server.Server object at 0x7f187d984250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f187d87c8b0>
           │       │   └ <uvicorn.server.Server object at 0x7f187d984250>
           │       └ <function run at 0x7f1880f2fd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f187d837060>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f18805fe680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f18805fe5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f1880604160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f18807b3ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f187d8e1000>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>
          │   │      │    └ <function LifespanOn.receive at 0x7f187d8e1090>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f187d890c70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
                 │    └ <fastapi.applications.FastAPI object at 0x7f187d8c3190>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f187d890c70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f187d8c3a60>
          └ <fastapi.applications.FastAPI object at 0x7f187d8c3190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f187d8c3a00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f187d8c3a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f187d8c39d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f187d8c3a00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f187d8c3970>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f187d8c39d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          │    └ <fastapi.routing.APIRouter object at 0x7f187d8c31f0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f187d8c3970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f187d890df0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          │    └ <function Router.lifespan at 0x7f187dfe6c20>
          └ <fastapi.routing.APIRouter object at 0x7f187d8c31f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f187d8c3190>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f187d8c3250>
               └ <fastapi.routing.APIRouter object at 0x7f187d8c31f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f187dfe6b00>
          │    └ <fastapi.routing.APIRouter object at 0x7f187d8c31f0>
          └ <starlette.routing._DefaultLifespan object at 0x7f187d8c3250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f187d8e1870>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f187d93fd90>
          └ <bot_app.TelegramBot object at 0x7f187d8c3700>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 64, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f187d93fe20>
          └ <bot_app.TelegramBot object at 0x7f187d8c3700>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 82, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f187d921240>
          │                 └ <bot_app.TelegramBot object at 0x7f187d8c3700>
          └ <function on_startup_notify at 0x7f187d7b3910>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f187ec579a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f187d920fa0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f187d921240>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f187ec13ac0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f187ec56170>
                   └ <aiogram.bot.bot.Bot object at 0x7f187d920fa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f187d920fa0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f187d920fa0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f187ec55a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f187d920fa0>
                 │   └ <function make_request at 0x7f187ebf30a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f187fbf93f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f187ff56070>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f187ebf2dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f187ebf27a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T14:13:55.324770+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T14:14:10.087415+0900 ERROR sequence item 0: expected str instance, int found
2022-06-27T14:14:10.087577+0900 ERROR Cant parse all user's tickets
2022-06-27T14:14:12.732626+0900 ERROR sequence item 0: expected str instance, int found
2022-06-27T14:14:12.732821+0900 ERROR Cant parse all user's tickets
2022-06-27T14:14:17.135338+0900 ERROR sequence item 0: expected str instance, int found
2022-06-27T14:14:17.135492+0900 ERROR Cant parse all user's tickets
2022-06-27T14:14:19.888967+0900 WARNING Shutting down!..
2022-06-27T14:14:20.103684+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T14:14:20.103863+0900 WARNING Bye!
2022-06-27T14:20:49.229337+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7ff831725510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 34879, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7ff831724550>
              └ <__main__.PyDB object at 0x7ff8318b94b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7ff8317245e0>
           └ <__main__.PyDB object at 0x7ff8318b94b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7ff831ca0f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 170, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7ff8297c7520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7ff8297c65f0>
    └ <uvicorn.server.Server object at 0x7ff8298cbee0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7ff8297c6680>
           │       │   └ <uvicorn.server.Server object at 0x7ff8298cbee0>
           │       └ <function run at 0x7ff8318dd5a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7ff8297f0660>
           │    └ <function BaseEventLoop.run_until_complete at 0x7ff83193bd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7ff83193bc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7ff8319497e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7ff8318a51b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7ff82985f9a0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>
          │   │      │    └ <function LifespanOn.receive at 0x7ff82985fa30>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff829810c10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
                 │    └ <fastapi.applications.FastAPI object at 0x7ff82984f160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff829810c10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff82984fa30>
          └ <fastapi.applications.FastAPI object at 0x7ff82984f160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff82984f9d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff82984fa30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff82984f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff82984f9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7ff82984f940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff82984f9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          │    └ <fastapi.routing.APIRouter object at 0x7ff82984f1c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7ff82984f940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff829810d30>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          │    └ <function Router.lifespan at 0x7ff829ef65f0>
          └ <fastapi.routing.APIRouter object at 0x7ff82984f1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7ff82984f160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7ff82984f220>
               └ <fastapi.routing.APIRouter object at 0x7ff82984f1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7ff829ef64d0>
          │    └ <fastapi.routing.APIRouter object at 0x7ff82984f1c0>
          └ <starlette.routing._DefaultLifespan object at 0x7ff82984f220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7ff829870280>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7ff8298d1360>
          └ <bot_app.TelegramBot object at 0x7ff82984f6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 64, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7ff8298d13f0>
          └ <bot_app.TelegramBot object at 0x7ff82984f6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 82, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7ff8298893c0>
          │                 └ <bot_app.TelegramBot object at 0x7ff82984f6d0>
          └ <function on_startup_notify at 0x7ff8295a6d40>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7ff82abb0b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7ff829888b20>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7ff8298893c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7ff82ab53e20>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7ff82ab832e0>
                   └ <aiogram.bot.bot.Bot object at 0x7ff829888b20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7ff829888b20>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7ff829888b20>
                 │   │                  │    └ <function BaseBot.get_session at 0x7ff82ab82b90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7ff829888b20>
                 │   └ <function make_request at 0x7ff82ab80160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7ff830030e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7ff830106340>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7ff82ab13e20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7ff82ab137f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T14:20:49.843970+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T14:25:12.137893+0900 ERROR sequence item 0: expected str instance, int found
2022-06-27T14:26:10.664338+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 170, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fd71787d6c0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fd71787c790>
    └ <uvicorn.server.Server object at 0x7fd717984220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fd71787c820>
           │       │   └ <uvicorn.server.Server object at 0x7fd717984220>
           │       └ <function run at 0x7fd71af23d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fd71782eff0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fd71a5f2680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fd71a5f25f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fd71a5f4160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fd71a7a7ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fd7178d8f70>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>
          │   │      │    └ <function LifespanOn.receive at 0x7fd7178d9000>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd7...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd71788cc40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd7...
                 │    └ <fastapi.applications.FastAPI object at 0x7fd7178bf160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd71788cc40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd7...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd7...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd7178bfa30>
          └ <fastapi.applications.FastAPI object at 0x7fd7178bf160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd7...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd7178bf9d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd7178bfa30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd7...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd7178bf9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd7178bf9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd7...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd7178bf940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd7178bf9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd7...
          │    └ <fastapi.routing.APIRouter object at 0x7fd7178bf1c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd7178bf940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd71788cdc0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd7...
          │    └ <function Router.lifespan at 0x7fd717feac20>
          └ <fastapi.routing.APIRouter object at 0x7fd7178bf1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fd7178bf160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fd7178bf220>
               └ <fastapi.routing.APIRouter object at 0x7fd7178bf1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fd717feab00>
          │    └ <fastapi.routing.APIRouter object at 0x7fd7178bf1c0>
          └ <starlette.routing._DefaultLifespan object at 0x7fd7178bf220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fd7178d97e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fd717937d90>
          └ <bot_app.TelegramBot object at 0x7fd7178bf6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 64, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fd717937e20>
          └ <bot_app.TelegramBot object at 0x7fd7178bf6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 82, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd7179211e0>
          │                 └ <bot_app.TelegramBot object at 0x7fd7178bf6d0>
          └ <function on_startup_notify at 0x7fd7177a7880>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fd718c579a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7fd717920f40>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd7179211e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fd718c13e80>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fd718c56170>
                   └ <aiogram.bot.bot.Bot object at 0x7fd717920f40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fd717920f40>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fd717920f40>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fd718c55a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fd717920f40>
                 │   └ <function make_request at 0x7fd718bef0a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fd719bf53f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fd719f55fd0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fd718beedd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fd718bee7a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T14:26:11.073975+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T14:26:14.585844+0900 WARNING Shutting down!..
2022-06-27T14:26:14.760675+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T14:26:14.760892+0900 WARNING Bye!
2022-06-27T14:26:17.424890+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f261f0e9510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 39951, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f261f0e8550>
              └ <__main__.PyDB object at 0x7f261f26d4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f261f0e85e0>
           └ <__main__.PyDB object at 0x7f261f26d4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f261f668f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 170, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f260f18b520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f260f18a5f0>
    └ <uvicorn.server.Server object at 0x7f260f28beb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f260f18a680>
           │       │   └ <uvicorn.server.Server object at 0x7f260f28beb0>
           │       └ <function run at 0x7f261f29d5a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f260f1b8660>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f261f2ffd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f261f2ffc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f261f30d7e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f261f2651b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f260f21f9a0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>
          │   │      │    └ <function LifespanOn.receive at 0x7f260f21fa30>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f26...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f260f1d0be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f26...
                 │    └ <fastapi.applications.FastAPI object at 0x7f260f20f130>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f260f1d0be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f26...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f26...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f260f20fa00>
          └ <fastapi.applications.FastAPI object at 0x7f260f20f130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f26...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f260f20f9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f260f20fa00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f26...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f260f20f970>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f260f20f9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f26...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f260f20f910>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f260f20f970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f26...
          │    └ <fastapi.routing.APIRouter object at 0x7f260f20f190>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f260f20f910>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f260f1d0d00>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f26...
          │    └ <function Router.lifespan at 0x7f260f89e5f0>
          └ <fastapi.routing.APIRouter object at 0x7f260f20f190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f260f20f130>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f260f20f1f0>
               └ <fastapi.routing.APIRouter object at 0x7f260f20f190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f260f89e4d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f260f20f190>
          └ <starlette.routing._DefaultLifespan object at 0x7f260f20f1f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f260f034280>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f260f291360>
          └ <bot_app.TelegramBot object at 0x7f260f20f6a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 64, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f260f2913f0>
          └ <bot_app.TelegramBot object at 0x7f260f20f6a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 82, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f260f24d390>
          │                 └ <bot_app.TelegramBot object at 0x7f260f20f6a0>
          └ <function on_startup_notify at 0x7f260ef6ad40>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f260ffb8b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f260f24caf0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f260f24d390>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f260ff5b340>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f260ff8f2e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f260f24caf0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f260f24caf0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f260f24caf0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f260ff8eb90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f260f24caf0>
                 │   └ <function make_request at 0x7f260ff8c160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f261cf38e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f261d30e7a0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f260ff1be20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f260ff1b7f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T14:26:18.140048+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T14:28:28.088416+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f9452779510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 34897, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f9452778550>
              └ <__main__.PyDB object at 0x7f94526a14b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f94527785e0>
           └ <__main__.PyDB object at 0x7f94526a14b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f9452a90f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 170, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f9442597520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f94425965f0>
    └ <uvicorn.server.Server object at 0x7f9442697f40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f9442596680>
           │       │   └ <uvicorn.server.Server object at 0x7f9442697f40>
           │       └ <function run at 0x7f94526ad5a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f94425c4660>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f945271bd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f945271bc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f94527297e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f94526991b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f944262b9a0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>
          │   │      │    └ <function LifespanOn.receive at 0x7f944262ba30>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f94425dcc70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
                 │    └ <fastapi.applications.FastAPI object at 0x7f94426171c0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f94425dcc70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9442617a90>
          └ <fastapi.applications.FastAPI object at 0x7f94426171c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9442617a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9442617a90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9442617a00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9442617a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f94426179a0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9442617a00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <fastapi.routing.APIRouter object at 0x7f9442617220>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f94426179a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f94425dcd90>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <function Router.lifespan at 0x7f9442caa5f0>
          └ <fastapi.routing.APIRouter object at 0x7f9442617220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f94426171c0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f9442617280>
               └ <fastapi.routing.APIRouter object at 0x7f9442617220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f9442caa4d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f9442617220>
          └ <starlette.routing._DefaultLifespan object at 0x7f9442617280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f944263c280>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f944269d360>
          └ <bot_app.TelegramBot object at 0x7f9442617730>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 64, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f944269d3f0>
          └ <bot_app.TelegramBot object at 0x7f9442617730>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 82, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9442851420>
          │                 └ <bot_app.TelegramBot object at 0x7f9442617730>
          └ <function on_startup_notify at 0x7f9442376d40>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f9443ba0b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f9442850b80>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9442851420>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f9443b42f80>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f9443b732e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f9442850b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f9442850b80>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f9442850b80>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f9443b72b90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f9442850b80>
                 │   └ <function make_request at 0x7f9443b70160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f945031ce50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f9450c8e2f0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f9443b03e20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f9443b037f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T14:28:28.498227+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T14:28:56.778825+0900 ERROR sequence item 0: expected str instance, int found
2022-06-27T14:28:59.775258+0900 ERROR Cant parse all user's tickets
2022-06-27T14:31:35.205943+0900 ERROR sequence item 0: expected str instance, int found
2022-06-27T14:31:35.206290+0900 ERROR Cant parse all user's tickets
2022-06-27T14:31:37.672187+0900 ERROR sequence item 0: expected str instance, int found
2022-06-27T14:31:37.672450+0900 ERROR Cant parse all user's tickets
2022-06-27T15:42:56.868303+0900 WARNING Shutting down!..
2022-06-27T15:42:57.480818+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T15:42:57.480980+0900 WARNING Bye!
2022-06-27T15:42:57.481079+0900 ERROR Couldn't start bot 
'NoneType' object has no attribute 'qus_ans_calls'
2022-06-27T15:43:19.803956+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f39b993d750>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f39b993c820>
    └ <uvicorn.server.Server object at 0x7f39b9a402b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f39b993c8b0>
           │       │   └ <uvicorn.server.Server object at 0x7f39b9a402b0>
           │       └ <function run at 0x7f39bcfcbd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f39b98f3060>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f39bc69e680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f39bc69e5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f39bc6a0160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f39bc853ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f39b999d000>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>
          │   │      │    └ <function LifespanOn.receive at 0x7f39b999d090>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f39...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f39b994cd00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f39...
                 │    └ <fastapi.applications.FastAPI object at 0x7f39b997f220>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f39b994cd00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f39...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f39...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f39b997faf0>
          └ <fastapi.applications.FastAPI object at 0x7f39b997f220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f39...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f39b997fa90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f39b997faf0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f39...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f39b997fa60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f39b997fa90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f39...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f39b997fa00>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f39b997fa60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f39...
          │    └ <fastapi.routing.APIRouter object at 0x7f39b997f280>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f39b997fa00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f39b994ce80>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f39...
          │    └ <function Router.lifespan at 0x7f39ba08ac20>
          └ <fastapi.routing.APIRouter object at 0x7f39b997f280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f39b997f220>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f39b997f2e0>
               └ <fastapi.routing.APIRouter object at 0x7f39b997f280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f39ba08ab00>
          │    └ <fastapi.routing.APIRouter object at 0x7f39b997f280>
          └ <starlette.routing._DefaultLifespan object at 0x7f39b997f2e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f39b999d870>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f39b99fbe20>
          └ <bot_app.TelegramBot object at 0x7f39b997f790>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f39b99fbeb0>
          └ <bot_app.TelegramBot object at 0x7f39b997f790>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 88, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f39b99dd270>
          │                 └ <bot_app.TelegramBot object at 0x7f39b997f790>
          └ <function on_startup_notify at 0x7f39b986f6d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f39bac5b9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f39b99dcfd0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f39b99dd270>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f39bac17a90>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f39bac5a170>
                   └ <aiogram.bot.bot.Bot object at 0x7f39b99dcfd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f39b99dcfd0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f39b99dcfd0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f39bac59a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f39b99dcfd0>
                 │   └ <function make_request at 0x7f39babf30a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f39bbbf93f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f39bbfedfd0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f39babf2dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f39babf27a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:43:20.418382+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:44:07.274214+0900 WARNING Shutting down!..
2022-06-27T15:44:08.037187+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T15:44:08.037425+0900 WARNING Bye!
2022-06-27T15:44:09.980661+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f92c38c97e0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f92c38c88b0>
    └ <uvicorn.server.Server object at 0x7f92c39cc2b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f92c38c8940>
           │       │   └ <uvicorn.server.Server object at 0x7f92c39cc2b0>
           │       └ <function run at 0x7f92c6f6fd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f92c387b060>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f92c663e680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f92c663e5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f92c6640160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f92c67f3ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f92c3925090>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>
          │   │      │    └ <function LifespanOn.receive at 0x7f92c3925120>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f92...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f92c38d8d00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f92...
                 │    └ <fastapi.applications.FastAPI object at 0x7f92c3907220>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f92c38d8d00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f92...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f92...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f92c3907af0>
          └ <fastapi.applications.FastAPI object at 0x7f92c3907220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f92...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f92c3907a90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f92c3907af0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f92...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f92c3907a60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f92c3907a90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f92...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f92c3907a00>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f92c3907a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f92...
          │    └ <fastapi.routing.APIRouter object at 0x7f92c3907280>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f92c3907a00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f92c38d8e80>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f92...
          │    └ <function Router.lifespan at 0x7f92c403ec20>
          └ <fastapi.routing.APIRouter object at 0x7f92c3907280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f92c3907220>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f92c39072e0>
               └ <fastapi.routing.APIRouter object at 0x7f92c3907280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f92c403eb00>
          │    └ <fastapi.routing.APIRouter object at 0x7f92c3907280>
          └ <starlette.routing._DefaultLifespan object at 0x7f92c39072e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f92c3925900>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f92c3983eb0>
          └ <bot_app.TelegramBot object at 0x7f92c3907790>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f92c3983f40>
          └ <bot_app.TelegramBot object at 0x7f92c3907790>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 88, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f92c3965270>
          │                 └ <bot_app.TelegramBot object at 0x7f92c3907790>
          └ <function on_startup_notify at 0x7f92c37f7760>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f92c4c579a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f92c3964fd0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f92c3965270>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f92c4c13a90>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f92c4c56170>
                   └ <aiogram.bot.bot.Bot object at 0x7f92c3964fd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f92c3964fd0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f92c3964fd0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f92c4c55a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f92c3964fd0>
                 │   └ <function make_request at 0x7f92c4bef0a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f92c5bf93f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f92c5f59d00>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f92c4beedd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f92c4bee7a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:44:10.595696+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:44:14.589828+0900 ERROR '_asyncio.Future' object has no attribute 'acknowledged'
2022-06-27T15:44:14.590292+0900 ERROR Cant parse all user's tickets
2022-06-27T15:44:15.001745+0900 ERROR '_asyncio.Future' object has no attribute 'acknowledged'
2022-06-27T15:44:15.002314+0900 ERROR Cant parse all user's tickets
2022-06-27T15:44:17.348808+0900 ERROR '_asyncio.Future' object has no attribute 'acknowledged'
2022-06-27T15:44:17.349309+0900 ERROR Cant parse all user's tickets
2022-06-27T15:44:21.641292+0900 ERROR '_asyncio.Future' object has no attribute 'acknowledged'
2022-06-27T15:44:21.641679+0900 ERROR Cant parse all user's tickets
2022-06-27T15:44:29.950996+0900 ERROR '_asyncio.Future' object has no attribute 'acknowledged'
2022-06-27T15:44:29.951446+0900 ERROR Cant parse all user's tickets
2022-06-27T15:44:32.183072+0900 WARNING Shutting down!..
2022-06-27T15:44:32.408272+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T15:44:32.408436+0900 WARNING Bye!
2022-06-27T15:44:34.351952+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f58be8cd630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f58be8cc700>
    └ <uvicorn.server.Server object at 0x7f58be9d41f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f58be8cc790>
           │       │   └ <uvicorn.server.Server object at 0x7f58be9d41f0>
           │       └ <function run at 0x7f58c1f43d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f58be87b060>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f58c161a680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f58c161a5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f58c161c160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f58c17cbac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f58be924ee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>
          │   │      │    └ <function LifespanOn.receive at 0x7f58be924f70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f58be8d8c40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
                 │    └ <fastapi.applications.FastAPI object at 0x7f58be907160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f58be8d8c40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f58be907a30>
          └ <fastapi.applications.FastAPI object at 0x7f58be907160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f58be9079d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f58be907a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f58be9079a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f58be9079d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f58be907940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f58be9079a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <fastapi.routing.APIRouter object at 0x7f58be9071c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f58be907940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58be8d8dc0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <function Router.lifespan at 0x7f58bf00ac20>
          └ <fastapi.routing.APIRouter object at 0x7f58be9071c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f58be907160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f58be907220>
               └ <fastapi.routing.APIRouter object at 0x7f58be9071c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f58bf00ab00>
          │    └ <fastapi.routing.APIRouter object at 0x7f58be9071c0>
          └ <starlette.routing._DefaultLifespan object at 0x7f58be907220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f58be925750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f58be987d00>
          └ <bot_app.TelegramBot object at 0x7f58be9076d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f58be987d90>
          └ <bot_app.TelegramBot object at 0x7f58be9076d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 88, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f58be96d1b0>
          │                 └ <bot_app.TelegramBot object at 0x7f58be9076d0>
          └ <function on_startup_notify at 0x7f58be7f75b0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f58c01ab9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f58be96cf10>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f58be96d1b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f58c0167fd0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f58c01aa170>
                   └ <aiogram.bot.bot.Bot object at 0x7f58be96cf10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f58be96cf10>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f58be96cf10>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f58c01a9a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f58be96cf10>
                 │   └ <function make_request at 0x7f58c01430a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f58c0c813f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f58c0f69ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f58c0142dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f58c01427a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:44:34.966389+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:45:03.567534+0900 WARNING Shutting down!..
2022-06-27T15:45:03.743243+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T15:45:03.743420+0900 WARNING Bye!
2022-06-27T15:45:06.403770+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7efc3f789510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 46029, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7efc3f788550>
              └ <__main__.PyDB object at 0x7efc3f6b14b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7efc3f7885e0>
           └ <__main__.PyDB object at 0x7efc3f6b14b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7efc3faa0f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7efc2f5b35b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7efc2f5b2680>
    └ <uvicorn.server.Server object at 0x7efc2f6b7e50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7efc2f5b2710>
           │       │   └ <uvicorn.server.Server object at 0x7efc2f6b7e50>
           │       └ <function run at 0x7efc3f6bd5a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7efc2f5dc6d0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7efc3f72bd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7efc3f72bc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7efc3f7397e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7efc3f6a91b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7efc2f64ba30>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>
          │   │      │    └ <function LifespanOn.receive at 0x7efc2f64bac0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7efc2f5f8b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
                 │    └ <fastapi.applications.FastAPI object at 0x7efc2f63b0d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7efc2f5f8b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7efc2f63b9a0>
          └ <fastapi.applications.FastAPI object at 0x7efc2f63b0d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7efc2f63b940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7efc2f63b9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7efc2f63b910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7efc2f63b940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7efc2f63b8b0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7efc2f63b910>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <fastapi.routing.APIRouter object at 0x7efc2f63b130>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7efc2f63b8b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efc2f5f8ca0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <function Router.lifespan at 0x7efc2fcda5f0>
          └ <fastapi.routing.APIRouter object at 0x7efc2f63b130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7efc2f63b0d0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7efc2f63b190>
               └ <fastapi.routing.APIRouter object at 0x7efc2f63b130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7efc2fcda4d0>
          │    └ <fastapi.routing.APIRouter object at 0x7efc2f63b130>
          └ <starlette.routing._DefaultLifespan object at 0x7efc2f63b190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7efc2f65c310>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7efc2f6c13f0>
          └ <bot_app.TelegramBot object at 0x7efc2f63b640>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7efc2f6c1480>
          └ <bot_app.TelegramBot object at 0x7efc2f63b640>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 88, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7efc2f875300>
          │                 └ <bot_app.TelegramBot object at 0x7efc2f63b640>
          └ <function on_startup_notify at 0x7efc2f39ab90>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7efc3c468b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7efc2f874a60>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7efc2f875300>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7efc3c40bf40>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7efc3c43b2e0>
                   └ <aiogram.bot.bot.Bot object at 0x7efc2f874a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7efc2f874a60>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7efc2f874a60>
                 │   │                  │    └ <function BaseBot.get_session at 0x7efc3c43ab90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7efc2f874a60>
                 │   └ <function make_request at 0x7efc3c438160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7efc3d31ce50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7efc3dc9e2f0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7efc3c5cbe20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7efc3c5cb7f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:45:07.121322+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:45:54.781556+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f133ee9d510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 46029, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f133ee9c550>
              └ <__main__.PyDB object at 0x7f133f0514b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f133ee9c5e0>
           └ <__main__.PyDB object at 0x7f133f0514b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f133f474f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f132ef4b5b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f132ef4a680>
    └ <uvicorn.server.Server object at 0x7f132f04ffd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f132ef4a710>
           │       │   └ <uvicorn.server.Server object at 0x7f132f04ffd0>
           │       └ <function run at 0x7f133f0755a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f132ef746d0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f133f0d3d00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f133f0d3c70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f133f0e17e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f133f03d1b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f132efe3a30>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>
          │   │      │    └ <function LifespanOn.receive at 0x7f132efe3ac0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f132ef90d00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
                 │    └ <fastapi.applications.FastAPI object at 0x7f132efd3250>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f132ef90d00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f132efd3b20>
          └ <fastapi.applications.FastAPI object at 0x7f132efd3250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f132efd3ac0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f132efd3b20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f132efd3a90>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f132efd3ac0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f132efd3a30>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f132efd3a90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          │    └ <fastapi.routing.APIRouter object at 0x7f132efd32b0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f132efd3a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132ef90e20>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          │    └ <function Router.lifespan at 0x7f132f6625f0>
          └ <fastapi.routing.APIRouter object at 0x7f132efd32b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f132efd3250>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f132efd3310>
               └ <fastapi.routing.APIRouter object at 0x7f132efd32b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f132f6624d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f132efd32b0>
          └ <starlette.routing._DefaultLifespan object at 0x7f132efd3310>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f132eff4310>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f132f0553f0>
          └ <bot_app.TelegramBot object at 0x7f132efd37c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f132f055480>
          └ <bot_app.TelegramBot object at 0x7f132efd37c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 88, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f132f00d480>
          │                 └ <bot_app.TelegramBot object at 0x7f132efd37c0>
          └ <function on_startup_notify at 0x7f132ed2ab90>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f133c0a4b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f132f00cbe0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f132f00d480>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f133c047400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f133c06f2e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f132f00cbe0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f132f00cbe0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f132f00cbe0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f133c06eb90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f132f00cbe0>
                 │   └ <function make_request at 0x7f133c06c160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f133cd24e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f133d62a570>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f133c007e20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f133c0077f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:45:55.187876+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:46:10.153028+0900 WARNING Shutting down!..
2022-06-27T15:46:10.406340+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T15:46:10.406607+0900 WARNING Bye!
2022-06-27T15:46:13.169491+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f74e4e31510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 36947, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f74e4e30550>
              └ <__main__.PyDB object at 0x7f74e4fb54b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f74e4e305e0>
           └ <__main__.PyDB object at 0x7f74e4fb54b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f74e53b0f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f74dceaf5b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f74dceae680>
    └ <uvicorn.server.Server object at 0x7f74dcfb3f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f74dceae710>
           │       │   └ <uvicorn.server.Server object at 0x7f74dcfb3f10>
           │       └ <function run at 0x7f74e4fe55a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f74dced86d0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f74e5047d00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f74e5047c70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f74e50557e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f74e4fad1b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f74dcf47a30>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>
          │   │      │    └ <function LifespanOn.receive at 0x7f74dcf47ac0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f74dcef8c40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
                 │    └ <fastapi.applications.FastAPI object at 0x7f74dcf37190>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f74dcef8c40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f74dcf37a60>
          └ <fastapi.applications.FastAPI object at 0x7f74dcf37190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f74dcf37a00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f74dcf37a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f74dcf379d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f74dcf37a00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f74dcf37970>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f74dcf379d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          │    └ <fastapi.routing.APIRouter object at 0x7f74dcf371f0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f74dcf37970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f74dcef8d60>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          │    └ <function Router.lifespan at 0x7f74dd5c65f0>
          └ <fastapi.routing.APIRouter object at 0x7f74dcf371f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f74dcf37190>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f74dcf37250>
               └ <fastapi.routing.APIRouter object at 0x7f74dcf371f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f74dd5c64d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f74dcf371f0>
          └ <starlette.routing._DefaultLifespan object at 0x7f74dcf37250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f74dcd5c310>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f74dcfbd3f0>
          └ <bot_app.TelegramBot object at 0x7f74dcf37700>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f74dcfbd480>
          └ <bot_app.TelegramBot object at 0x7f74dcf37700>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 88, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f74dcf753c0>
          │                 └ <bot_app.TelegramBot object at 0x7f74dcf37700>
          └ <function on_startup_notify at 0x7f74dcc92b90>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f74de7bcb80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f74dcf74b20>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f74dcf753c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f74de75fdc0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f74de78f2e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f74dcf74b20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f74dcf74b20>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f74dcf74b20>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f74de78eb90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f74dcf74b20>
                 │   └ <function make_request at 0x7f74de78c160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f74e41b4e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f74e42b25c0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f74de71fe20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f74de71f7f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:46:13.785760+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:52:21.814308+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fb21bd615a0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fb21bd60670>
    └ <uvicorn.server.Server object at 0x7fb21be64250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fb21bd60700>
           │       │   └ <uvicorn.server.Server object at 0x7fb21be64250>
           │       └ <function run at 0x7fb21f40bd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fb21bd0f0d0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fb21eada680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fb21eada5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fb21eadc160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fb21ec8fac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fb21bdb8e50>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>
          │   │      │    └ <function LifespanOn.receive at 0x7fb21bdb8ee0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb21bd6cca0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb21bdab1c0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb21bd6cca0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb21bdaba90>
          └ <fastapi.applications.FastAPI object at 0x7fb21bdab1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb21bdaba30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb21bdaba90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb21bdaba00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb21bdaba30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb21bdab9a0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb21bdaba00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          │    └ <fastapi.routing.APIRouter object at 0x7fb21bdab220>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb21bdab9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb21bd6ce20>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          │    └ <function Router.lifespan at 0x7fb21c4c2c20>
          └ <fastapi.routing.APIRouter object at 0x7fb21bdab220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fb21bdab1c0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fb21bdab280>
               └ <fastapi.routing.APIRouter object at 0x7fb21bdab220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fb21c4c2b00>
          │    └ <fastapi.routing.APIRouter object at 0x7fb21bdab220>
          └ <starlette.routing._DefaultLifespan object at 0x7fb21bdab280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fb21bdb96c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fb21be1bc70>
          └ <bot_app.TelegramBot object at 0x7fb21bdab730>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fb21be1bd00>
          └ <bot_app.TelegramBot object at 0x7fb21bdab730>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb21bdfd210>
          │                 └ <bot_app.TelegramBot object at 0x7fb21bdab730>
          └ <function on_startup_notify at 0x7fb21bc8f520>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fb21d1579a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7fb21bdfcf70>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb21bdfd210>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fb21d113a90>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fb21d156170>
                   └ <aiogram.bot.bot.Bot object at 0x7fb21bdfcf70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fb21bdfcf70>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fb21bdfcf70>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fb21d155a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fb21bdfcf70>
                 │   └ <function make_request at 0x7fb21d0ef0a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fb21e33d3f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fb21e459da0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fb21d0eedd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fb21d0ee7a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:52:22.222115+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:54:21.400272+0900 WARNING Shutting down!..
2022-06-27T15:54:22.236187+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T15:54:22.236353+0900 WARNING Bye!
2022-06-27T15:54:24.082178+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f2abafe1870>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f2abafe0940>
    └ <uvicorn.server.Server object at 0x7f2abb0e81f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f2abafe09d0>
           │       │   └ <uvicorn.server.Server object at 0x7f2abb0e81f0>
           │       └ <function run at 0x7f2abe677d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f2abaf931b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f2abdd4e680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f2abdd4e5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f2abdd50160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f2abdeffac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f2abb041120>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>
          │   │      │    └ <function LifespanOn.receive at 0x7f2abb0411b0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2a...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2abaff4c40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2a...
                 │    └ <fastapi.applications.FastAPI object at 0x7f2abb02f160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2abaff4c40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2a...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2a...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2abb02fa30>
          └ <fastapi.applications.FastAPI object at 0x7f2abb02f160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2a...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f2abb02f9d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2abb02fa30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2a...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2abb02f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f2abb02f9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2a...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2abb02f940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2abb02f9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2a...
          │    └ <fastapi.routing.APIRouter object at 0x7f2abb02f1c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2abb02f940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2abaff4dc0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2a...
          │    └ <function Router.lifespan at 0x7f2abb762c20>
          └ <fastapi.routing.APIRouter object at 0x7f2abb02f1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f2abb02f160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f2abb02f220>
               └ <fastapi.routing.APIRouter object at 0x7f2abb02f1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f2abb762b00>
          │    └ <fastapi.routing.APIRouter object at 0x7f2abb02f1c0>
          └ <starlette.routing._DefaultLifespan object at 0x7f2abb02f220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f2abb041990>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f2abb09ff40>
          └ <bot_app.TelegramBot object at 0x7f2abb02f6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f2abb0c4040>
          └ <bot_app.TelegramBot object at 0x7f2abb02f6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f2abb0851b0>
          │                 └ <bot_app.TelegramBot object at 0x7f2abb02f6d0>
          └ <function on_startup_notify at 0x7f2abaf0f7f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f2abc36b9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f2abb084f10>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f2abb0851b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f2abc327ac0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f2abc36a170>
                   └ <aiogram.bot.bot.Bot object at 0x7f2abb084f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f2abb084f10>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f2abb084f10>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f2abc369a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f2abb084f10>
                 │   └ <function make_request at 0x7f2abc3030a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f2abd10d3f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f2abd666020>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f2abc302dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f2abc3027a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:54:24.581317+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:55:22.668740+0900 WARNING Shutting down!..
2022-06-27T15:55:23.458328+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T15:55:23.458497+0900 WARNING Bye!
2022-06-27T15:55:25.419289+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fa638711870>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fa638710940>
    └ <uvicorn.server.Server object at 0x7fa638810250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fa6387109d0>
           │       │   └ <uvicorn.server.Server object at 0x7fa638810250>
           │       └ <function run at 0x7fa63bdbbd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fa6386c3140>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fa63b492680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fa63b4925f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fa63b494160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fa63b643ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fa63876d120>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>
          │   │      │    └ <function LifespanOn.receive at 0x7fa63876d1b0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa6...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa638720ca0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa6...
                 │    └ <fastapi.applications.FastAPI object at 0x7fa6387531c0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa638720ca0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa6...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa6...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa638753a90>
          └ <fastapi.applications.FastAPI object at 0x7fa6387531c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa6...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa638753a30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa638753a90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa6...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa638753a00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa638753a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa6...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa6387539a0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa638753a00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa6...
          │    └ <fastapi.routing.APIRouter object at 0x7fa638753220>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa6387539a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa638720e20>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa6...
          │    └ <function Router.lifespan at 0x7fa638e92c20>
          └ <fastapi.routing.APIRouter object at 0x7fa638753220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fa6387531c0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fa638753280>
               └ <fastapi.routing.APIRouter object at 0x7fa638753220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fa638e92b00>
          │    └ <fastapi.routing.APIRouter object at 0x7fa638753220>
          └ <starlette.routing._DefaultLifespan object at 0x7fa638753280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fa63876d990>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fa6387cbf40>
          └ <bot_app.TelegramBot object at 0x7fa638753730>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fa6387ec040>
          └ <bot_app.TelegramBot object at 0x7fa638753730>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fa6387ad210>
          │                 └ <bot_app.TelegramBot object at 0x7fa638753730>
          └ <function on_startup_notify at 0x7fa63863b7f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fa639fa39a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7fa6387acf70>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fa6387ad210>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fa639f5fa90>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fa639fa2170>
                   └ <aiogram.bot.bot.Bot object at 0x7fa6387acf70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fa6387acf70>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fa6387acf70>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fa639fa1a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fa6387acf70>
                 │   └ <function make_request at 0x7fa639f3b0a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fa63aae13f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fa63adfde40>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fa639f3add0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fa639f3a7a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:55:26.032130+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:56:10.088324+0900 WARNING Shutting down!..
2022-06-27T15:56:10.576917+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T15:56:10.577130+0900 WARNING Bye!
2022-06-27T15:56:12.114051+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f3ba01ed630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f3ba01ec700>
    └ <uvicorn.server.Server object at 0x7f3ba02ec1f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f3ba01ec790>
           │       │   └ <uvicorn.server.Server object at 0x7f3ba02ec1f0>
           │       └ <function run at 0x7f3ba3883d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f3ba019b140>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f3ba2f5a680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f3ba2f5a5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f3ba2f5c160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f3ba310bac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f3ba0244ee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>
          │   │      │    └ <function LifespanOn.receive at 0x7f3ba0244f70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3b...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f3ba01f4c40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3b...
                 │    └ <fastapi.applications.FastAPI object at 0x7f3ba0237160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f3ba01f4c40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3b...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3b...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f3ba0237a30>
          └ <fastapi.applications.FastAPI object at 0x7f3ba0237160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3b...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f3ba02379d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f3ba0237a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3b...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f3ba02379a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f3ba02379d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3b...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f3ba0237940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f3ba02379a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3b...
          │    └ <fastapi.routing.APIRouter object at 0x7f3ba02371c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f3ba0237940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3ba01f4dc0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3b...
          │    └ <function Router.lifespan at 0x7f3ba0962c20>
          └ <fastapi.routing.APIRouter object at 0x7f3ba02371c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f3ba0237160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f3ba0237220>
               └ <fastapi.routing.APIRouter object at 0x7f3ba02371c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f3ba0962b00>
          │    └ <fastapi.routing.APIRouter object at 0x7f3ba02371c0>
          └ <starlette.routing._DefaultLifespan object at 0x7f3ba0237220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f3ba0245750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f3ba02a3d00>
          └ <bot_app.TelegramBot object at 0x7f3ba02376d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f3ba02a3d90>
          └ <bot_app.TelegramBot object at 0x7f3ba02376d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f3ba02891b0>
          │                 └ <bot_app.TelegramBot object at 0x7f3ba02376d0>
          └ <function on_startup_notify at 0x7f3ba011b5b0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f3ba15679a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f3ba0288f10>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f3ba02891b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f3ba1523ac0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f3ba1566170>
                   └ <aiogram.bot.bot.Bot object at 0x7f3ba0288f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f3ba0288f10>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f3ba0288f10>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f3ba1565a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f3ba0288f10>
                 │   └ <function make_request at 0x7f3ba14ff0a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f3ba23053f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f3ba28f5ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f3ba14fedd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f3ba14fe7a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:56:12.726704+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:56:18.143010+0900 WARNING Shutting down!..
2022-06-27T15:56:18.304276+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T15:56:18.304458+0900 WARNING Bye!
2022-06-27T15:56:20.754290+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f2363539510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 42595, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f2363538550>
              └ <__main__.PyDB object at 0x7f23636d14b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f23635385e0>
           └ <__main__.PyDB object at 0x7f23636d14b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f2363ab4f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f23535f3640>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f23535f2710>
    └ <uvicorn.server.Server object at 0x7f23536efe80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f23535f27a0>
           │       │   └ <uvicorn.server.Server object at 0x7f23536efe80>
           │       └ <function run at 0x7f23636f55a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f23536187b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f236374fd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f236374fc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f236375d7e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f23636b91b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f2353683ac0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>
          │   │      │    └ <function LifespanOn.receive at 0x7f2353683b50>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f23...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2353634bb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f23...
                 │    └ <fastapi.applications.FastAPI object at 0x7f235366f100>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2353634bb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f23...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f23...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f235366f9d0>
          └ <fastapi.applications.FastAPI object at 0x7f235366f100>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f23...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f235366f970>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f235366f9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f23...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f235366f940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f235366f970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f23...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f235366f8e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f235366f940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f23...
          │    └ <fastapi.routing.APIRouter object at 0x7f235366f160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f235366f8e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2353634cd0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f23...
          │    └ <function Router.lifespan at 0x7f2353d125f0>
          └ <fastapi.routing.APIRouter object at 0x7f235366f160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f235366f100>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f235366f1c0>
               └ <fastapi.routing.APIRouter object at 0x7f235366f160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f2353d124d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f235366f160>
          └ <starlette.routing._DefaultLifespan object at 0x7f235366f1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f23536983a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f23536f5480>
          └ <bot_app.TelegramBot object at 0x7f235366f670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f23536f5510>
          └ <bot_app.TelegramBot object at 0x7f235366f670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f23536ad330>
          │                 └ <bot_app.TelegramBot object at 0x7f235366f670>
          └ <function on_startup_notify at 0x7f23533cec20>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f236047cb80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f23536aca90>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f23536ad330>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f236041f340>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f236044f2e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f23536aca90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f23536aca90>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f23536aca90>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f236044eb90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f23536aca90>
                 │   └ <function make_request at 0x7f236044c160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f2361330e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f23617064d0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f23603dfe20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f23603df7f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:56:21.738445+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:56:57.433708+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f0503a41510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 32947, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f0503a40550>
              └ <__main__.PyDB object at 0x7f0503bc54b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f0503a405e0>
           └ <__main__.PyDB object at 0x7f0503bc54b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f0503fc0f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f04f3a43400>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f04f3a424d0>
    └ <uvicorn.server.Server object at 0x7f04f3b4be80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f04f3a42560>
           │       │   └ <uvicorn.server.Server object at 0x7f04f3b4be80>
           │       └ <function run at 0x7f0503bf55a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f04f3a6c7b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f0503c57d00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f0503c57c70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f0503c657e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f0503bbd1b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f04f3adb880>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>
          │   │      │    └ <function LifespanOn.receive at 0x7f04f3adb910>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f04f3a8cbb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
                 │    └ <fastapi.applications.FastAPI object at 0x7f04f3acb100>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f04f3a8cbb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f04f3acb9d0>
          └ <fastapi.applications.FastAPI object at 0x7f04f3acb100>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f04f3acb970>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f04f3acb9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f04f3acb940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f04f3acb970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f04f3acb8e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f04f3acb940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <fastapi.routing.APIRouter object at 0x7f04f3acb160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f04f3acb8e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04f3a8ccd0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <function Router.lifespan at 0x7f05002225f0>
          └ <fastapi.routing.APIRouter object at 0x7f04f3acb160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f04f3acb100>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f04f3acb1c0>
               └ <fastapi.routing.APIRouter object at 0x7f04f3acb160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f05002224d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f04f3acb160>
          └ <starlette.routing._DefaultLifespan object at 0x7f04f3acb1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f04f3af0160>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f04f3b55240>
          └ <bot_app.TelegramBot object at 0x7f04f3acb670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f04f3b552d0>
          └ <bot_app.TelegramBot object at 0x7f04f3acb670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f04f3b0d330>
          │                 └ <bot_app.TelegramBot object at 0x7f04f3acb670>
          └ <function on_startup_notify at 0x7f04f381e9e0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f0500988b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f04f3b0ca90>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f04f3b0d330>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f050092b340>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f05009532e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f04f3b0ca90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f04f3b0ca90>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f04f3b0ca90>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f0500952b90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f04f3b0ca90>
                 │   └ <function make_request at 0x7f0500950160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f0501b3ce50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f0501ec22f0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f05008ebe20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f05008eb7f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:56:57.886243+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:57:21.133057+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f66e43b1510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 36261, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f66e43b0550>
              └ <__main__.PyDB object at 0x7f66e45454b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f66e43b05e0>
           └ <__main__.PyDB object at 0x7f66e45454b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f66e492cf70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f66e046f400>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f66e046e4d0>
    └ <uvicorn.server.Server object at 0x7f66e0573e80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f66e046e560>
           │       │   └ <uvicorn.server.Server object at 0x7f66e0573e80>
           │       └ <function run at 0x7f66e45695a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f66e04987b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f66e45c7d00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f66e45c7c70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f66e45d57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f66e45311b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f66e0507880>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>
          │   │      │    └ <function LifespanOn.receive at 0x7f66e0507910>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f66...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f66e04b8bb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f66...
                 │    └ <fastapi.applications.FastAPI object at 0x7f66e04f7100>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f66e04b8bb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f66...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f66...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f66e04f79d0>
          └ <fastapi.applications.FastAPI object at 0x7f66e04f7100>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f66...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f66e04f7970>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f66e04f79d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f66...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f66e04f7940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f66e04f7970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f66...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f66e04f78e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f66e04f7940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f66...
          │    └ <fastapi.routing.APIRouter object at 0x7f66e04f7160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f66e04f78e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f66e04b8cd0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f66...
          │    └ <function Router.lifespan at 0x7f66e0b865f0>
          └ <fastapi.routing.APIRouter object at 0x7f66e04f7160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f66e04f7100>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f66e04f71c0>
               └ <fastapi.routing.APIRouter object at 0x7f66e04f7160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f66e0b864d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f66e04f7160>
          └ <starlette.routing._DefaultLifespan object at 0x7f66e04f71c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f66e0320160>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f66e057d240>
          └ <bot_app.TelegramBot object at 0x7f66e04f7670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f66e057d2d0>
          └ <bot_app.TelegramBot object at 0x7f66e04f7670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f66e0535330>
          │                 └ <bot_app.TelegramBot object at 0x7f66e04f7670>
          └ <function on_startup_notify at 0x7f66e02529e0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f66e1380b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f66e0534a90>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f66e0535330>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f66e131fe20>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f66e134f2e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f66e0534a90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f66e0534a90>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f66e0534a90>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f66e134eb90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f66e0534a90>
                 │   └ <function make_request at 0x7f66e134c160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f66e2524e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f66e282e340>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f66e12e3e20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f66e12e37f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:57:21.541787+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T15:58:47.378582+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fd05e1e1630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fd05e1e0700>
    └ <uvicorn.server.Server object at 0x7fd05e2e01c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fd05e1e0790>
           │       │   └ <uvicorn.server.Server object at 0x7fd05e2e01c0>
           │       └ <function run at 0x7fd06186fd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fd05e18f140>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fd060f46680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fd060f465f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fd060f48160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fd0610f7ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fd05e238ee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>
          │   │      │    └ <function LifespanOn.receive at 0x7fd05e238f70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd0...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd05e1ecc10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd0...
                 │    └ <fastapi.applications.FastAPI object at 0x7fd05e22b130>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd05e1ecc10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd0...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd0...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd05e22ba00>
          └ <fastapi.applications.FastAPI object at 0x7fd05e22b130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd0...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd05e22b9a0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd05e22ba00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd0...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd05e22b970>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd05e22b9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd0...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd05e22b910>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd05e22b970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd0...
          │    └ <fastapi.routing.APIRouter object at 0x7fd05e22b190>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd05e22b910>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd05e1ecd90>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd0...
          │    └ <function Router.lifespan at 0x7fd05e952c20>
          └ <fastapi.routing.APIRouter object at 0x7fd05e22b190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fd05e22b130>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fd05e22b1f0>
               └ <fastapi.routing.APIRouter object at 0x7fd05e22b190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fd05e952b00>
          │    └ <fastapi.routing.APIRouter object at 0x7fd05e22b190>
          └ <starlette.routing._DefaultLifespan object at 0x7fd05e22b1f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fd05e239750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fd05e297d00>
          └ <bot_app.TelegramBot object at 0x7fd05e22b6a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fd05e297d90>
          └ <bot_app.TelegramBot object at 0x7fd05e22b6a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd05e27d180>
          │                 └ <bot_app.TelegramBot object at 0x7fd05e22b6a0>
          └ <function on_startup_notify at 0x7fd05e10f5b0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fd05f56b9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7fd05e27cee0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd05e27d180>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fd05f527e50>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fd05f56a170>
                   └ <aiogram.bot.bot.Bot object at 0x7fd05e27cee0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fd05e27cee0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fd05e27cee0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fd05f569a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fd05e27cee0>
                 │   └ <function make_request at 0x7fd05f5030a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fd06030d3f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fd060866020>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fd05f502dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fd05f5027a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T15:58:47.762146+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T16:00:31.101221+0900 WARNING Shutting down!..
2022-06-27T16:00:31.904111+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T16:00:31.904274+0900 WARNING Bye!
2022-06-27T16:00:34.464312+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f351d749510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 42165, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f351d748550>
              └ <__main__.PyDB object at 0x7f351d8dd4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f351d7485e0>
           └ <__main__.PyDB object at 0x7f351d8dd4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f351dcc4f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f3515803640>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f3515802710>
    └ <uvicorn.server.Server object at 0x7f3515903df0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f35158027a0>
           │       │   └ <uvicorn.server.Server object at 0x7f3515903df0>
           │       └ <function run at 0x7f351d9015a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f351582c7b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f351d95fd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f351d95fc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f351d96d7e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f351d8f91b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f3515897ac0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>
          │   │      │    └ <function LifespanOn.receive at 0x7f3515897b50>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f35...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f3515848b20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f35...
                 │    └ <fastapi.applications.FastAPI object at 0x7f3515887070>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f3515848b20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f35...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f35...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f3515887940>
          └ <fastapi.applications.FastAPI object at 0x7f3515887070>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f35...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f35158878e0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f3515887940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f35...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f35158878b0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f35158878e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f35...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f3515887850>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f35158878b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f35...
          │    └ <fastapi.routing.APIRouter object at 0x7f35158870d0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f3515887850>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3515848c40>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f35...
          │    └ <function Router.lifespan at 0x7f3515f165f0>
          └ <fastapi.routing.APIRouter object at 0x7f35158870d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f3515887070>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f3515887130>
               └ <fastapi.routing.APIRouter object at 0x7f35158870d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f3515f164d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f35158870d0>
          └ <starlette.routing._DefaultLifespan object at 0x7f3515887130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f35158a83a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f3515909480>
          └ <bot_app.TelegramBot object at 0x7f35158875e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f3515909510>
          └ <bot_app.TelegramBot object at 0x7f35158875e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f35158c52a0>
          │                 └ <bot_app.TelegramBot object at 0x7f35158875e0>
          └ <function on_startup_notify at 0x7f35155e2c20>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f3516bb0b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f35158c4a00>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f35158c52a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f3516b52d40>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f3516b832e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f35158c4a00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f35158c4a00>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f35158c4a00>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f3516b82b90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f35158c4a00>
                 │   └ <function make_request at 0x7f3516b80160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f351c030e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f351c1064d0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f3516b13e20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f3516b137f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T16:00:35.419889+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T16:01:07.243370+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f93afcf5630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f93afcf4700>
    └ <uvicorn.server.Server object at 0x7f93afdf4220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f93afcf4790>
           │       │   └ <uvicorn.server.Server object at 0x7f93afdf4220>
           │       └ <function run at 0x7f93b338bd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f93afca3140>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f93b2a62680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f93b2a625f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f93b2a64160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f93b2c13ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f93afd4cee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>
          │   │      │    └ <function LifespanOn.receive at 0x7f93afd4cf70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f93...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f93afcfcc70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f93...
                 │    └ <fastapi.applications.FastAPI object at 0x7f93afd3b190>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f93afcfcc70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f93...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f93...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f93afd3ba60>
          └ <fastapi.applications.FastAPI object at 0x7f93afd3b190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f93...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f93afd3ba00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f93afd3ba60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f93...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f93afd3b9d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f93afd3ba00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f93...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f93afd3b970>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f93afd3b9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f93...
          │    └ <fastapi.routing.APIRouter object at 0x7f93afd3b1f0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f93afd3b970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f93afcfcdf0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f93...
          │    └ <function Router.lifespan at 0x7f93b0466c20>
          └ <fastapi.routing.APIRouter object at 0x7f93afd3b1f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f93afd3b190>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f93afd3b250>
               └ <fastapi.routing.APIRouter object at 0x7f93afd3b1f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f93b0466b00>
          │    └ <fastapi.routing.APIRouter object at 0x7f93afd3b1f0>
          └ <starlette.routing._DefaultLifespan object at 0x7f93afd3b250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f93afd4d750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f93afdabd00>
          └ <bot_app.TelegramBot object at 0x7f93afd3b700>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f93afdabd90>
          └ <bot_app.TelegramBot object at 0x7f93afd3b700>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f93afd951e0>
          │                 └ <bot_app.TelegramBot object at 0x7f93afd3b700>
          └ <function on_startup_notify at 0x7f93afc235b0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f93b15a39a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f93afd94f40>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f93afd951e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f93b155fa90>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f93b15a2170>
                   └ <aiogram.bot.bot.Bot object at 0x7f93afd94f40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f93afd94f40>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f93afd94f40>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f93b15a1a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f93afd94f40>
                 │   └ <function make_request at 0x7f93b153b0a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f93b20c13f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f93b23f9fd0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f93b153add0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f93b153a7a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T16:01:07.642024+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T16:03:07.555965+0900 WARNING Shutting down!..
2022-06-27T16:03:08.270497+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T16:03:08.270672+0900 WARNING Bye!
2022-06-27T16:03:29.262857+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f156a5515a0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f156a550670>
    └ <uvicorn.server.Server object at 0x7f156a6501f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f156a550700>
           │       │   └ <uvicorn.server.Server object at 0x7f156a6501f0>
           │       └ <function run at 0x7f156dbd3d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f156a4ff0d0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f156d2a6680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f156d2a65f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f156d2a8160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f156d45bac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f156a5a8e50>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>
          │   │      │    └ <function LifespanOn.receive at 0x7f156a5a8ee0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f15...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f156a55cc40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f15...
                 │    └ <fastapi.applications.FastAPI object at 0x7f156a59b160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f156a55cc40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f15...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f15...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f156a59ba30>
          └ <fastapi.applications.FastAPI object at 0x7f156a59b160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f15...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f156a59b9d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f156a59ba30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f15...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f156a59b9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f156a59b9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f15...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f156a59b940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f156a59b9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f15...
          │    └ <fastapi.routing.APIRouter object at 0x7f156a59b1c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f156a59b940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f156a55cdc0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f15...
          │    └ <function Router.lifespan at 0x7f156ac9ac20>
          └ <fastapi.routing.APIRouter object at 0x7f156a59b1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f156a59b160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f156a59b220>
               └ <fastapi.routing.APIRouter object at 0x7f156a59b1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f156ac9ab00>
          │    └ <fastapi.routing.APIRouter object at 0x7f156a59b1c0>
          └ <starlette.routing._DefaultLifespan object at 0x7f156a59b220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f156a5a96c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f156a60bc70>
          └ <bot_app.TelegramBot object at 0x7f156a59b6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f156a60bd00>
          └ <bot_app.TelegramBot object at 0x7f156a59b6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f156a5ed1b0>
          │                 └ <bot_app.TelegramBot object at 0x7f156a59b6d0>
          └ <function on_startup_notify at 0x7f156a47f520>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f156b95f9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f156a5ecf10>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f156a5ed1b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f156b91bac0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f156b95e170>
                   └ <aiogram.bot.bot.Bot object at 0x7f156a5ecf10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f156a5ecf10>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f156a5ecf10>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f156b95da20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f156a5ecf10>
                 │   └ <function make_request at 0x7f156b8f70a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f156cb113f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f156cc4a0c0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f156b8f6dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f156b8f67a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T16:03:29.876752+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T16:03:45.832748+0900 WARNING Shutting down!..
2022-06-27T16:03:46.466291+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T16:03:46.466469+0900 WARNING Bye!
2022-06-27T16:03:48.925282+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7effdf635630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7effdf634700>
    └ <uvicorn.server.Server object at 0x7effdf73c280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7effdf634790>
           │       │   └ <uvicorn.server.Server object at 0x7effdf73c280>
           │       └ <function run at 0x7effe2cefd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7effdf5e7140>
           │    └ <function BaseEventLoop.run_until_complete at 0x7effe23c2680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7effe23c25f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7effe23c4160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7effe2577ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7effdf690ee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>
          │   │      │    └ <function LifespanOn.receive at 0x7effdf690f70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7effdf644cd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
                 │    └ <fastapi.applications.FastAPI object at 0x7effdf6771f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7effdf644cd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7effdf677ac0>
          └ <fastapi.applications.FastAPI object at 0x7effdf6771f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7effdf677a60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7effdf677ac0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7effdf677a30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7effdf677a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7effdf6779d0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7effdf677a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          │    └ <fastapi.routing.APIRouter object at 0x7effdf677250>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7effdf6779d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7effdf644e50>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          │    └ <function Router.lifespan at 0x7effdfdc6c20>
          └ <fastapi.routing.APIRouter object at 0x7effdf677250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7effdf6771f0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7effdf6772b0>
               └ <fastapi.routing.APIRouter object at 0x7effdf677250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7effdfdc6b00>
          │    └ <fastapi.routing.APIRouter object at 0x7effdf677250>
          └ <starlette.routing._DefaultLifespan object at 0x7effdf6772b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7effdf691750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7effdf6f3d00>
          └ <bot_app.TelegramBot object at 0x7effdf677760>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7effdf6f3d90>
          └ <bot_app.TelegramBot object at 0x7effdf677760>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7effdf8d5240>
          │                 └ <bot_app.TelegramBot object at 0x7effdf677760>
          └ <function on_startup_notify at 0x7effdf5635b0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7effe0a5f9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7effdf8d4fa0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7effdf8d5240>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7effe0a1b9a0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7effe0a5e170>
                   └ <aiogram.bot.bot.Bot object at 0x7effdf8d4fa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7effdf8d4fa0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7effdf8d4fa0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7effe0a5da20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7effdf8d4fa0>
                 │   └ <function make_request at 0x7effe09f70a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7effe19fd3f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7effe1d5df80>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7effe09f6dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7effe09f67a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T16:03:49.538302+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T16:04:12.818764+0900 WARNING Shutting down!..
2022-06-27T16:04:13.604538+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T16:04:13.604705+0900 WARNING Bye!
2022-06-27T16:09:16.709109+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f75f67fd870>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f75f67fc940>
    └ <uvicorn.server.Server object at 0x7f75f6900220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f75f67fc9d0>
           │       │   └ <uvicorn.server.Server object at 0x7f75f6900220>
           │       └ <function run at 0x7f75f9ea7d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f75f67ab220>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f75f957a680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f75f957a5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f75f957c160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f75f972fac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f75f6859120>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>
          │   │      │    └ <function LifespanOn.receive at 0x7f75f68591b0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f75f680cc70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
                 │    └ <fastapi.applications.FastAPI object at 0x7f75f683f190>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f75f680cc70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f75f683fa60>
          └ <fastapi.applications.FastAPI object at 0x7f75f683f190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f75f683fa00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f75f683fa60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f75f683f9d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f75f683fa00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f75f683f970>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f75f683f9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          │    └ <fastapi.routing.APIRouter object at 0x7f75f683f1f0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f75f683f970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f75f680cdf0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          │    └ <function Router.lifespan at 0x7f75f6f7ac20>
          └ <fastapi.routing.APIRouter object at 0x7f75f683f1f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f75f683f190>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f75f683f250>
               └ <fastapi.routing.APIRouter object at 0x7f75f683f1f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f75f6f7ab00>
          │    └ <fastapi.routing.APIRouter object at 0x7f75f683f1f0>
          └ <starlette.routing._DefaultLifespan object at 0x7f75f683f250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f75f6859990>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f75f68b7eb0>
          └ <bot_app.TelegramBot object at 0x7f75f683f700>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f75f68b7f40>
          └ <bot_app.TelegramBot object at 0x7f75f683f700>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f75f6a991b0>
          │                 └ <bot_app.TelegramBot object at 0x7f75f683f700>
          └ <function on_startup_notify at 0x7f75f672b7f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f75f7b5b9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f75f6a98f10>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f75f6a991b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f75f7b17c10>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f75f7b5a170>
                   └ <aiogram.bot.bot.Bot object at 0x7f75f6a98f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f75f6a98f10>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f75f6a98f10>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f75f7b59a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f75f6a98f10>
                 │   └ <function make_request at 0x7f75f7af30a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f75f8dcd3f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f75f8eeddf0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f75f7af2dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f75f7af27a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T16:09:17.426096+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T16:10:09.310229+0900 WARNING Shutting down!..
2022-06-27T16:10:09.957406+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T16:10:09.957573+0900 WARNING Bye!
2022-06-27T16:10:11.698537+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f7949009870>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f7949008940>
    └ <uvicorn.server.Server object at 0x7f79491102b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f79490089d0>
           │       │   └ <uvicorn.server.Server object at 0x7f79491102b0>
           │       └ <function run at 0x7f794c6abd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f7948fbb1b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f794bd7e680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f794bd7e5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f794bd80160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f794bf33ac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f7949069120>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>
          │   │      │    └ <function LifespanOn.receive at 0x7f79490691b0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7949018d00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
                 │    └ <fastapi.applications.FastAPI object at 0x7f794904f220>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7949018d00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f794904faf0>
          └ <fastapi.applications.FastAPI object at 0x7f794904f220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f794904fa90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f794904faf0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f794904fa60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f794904fa90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f794904fa00>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f794904fa60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <fastapi.routing.APIRouter object at 0x7f794904f280>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f794904fa00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7949018e80>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f79...
          │    └ <function Router.lifespan at 0x7f794978ec20>
          └ <fastapi.routing.APIRouter object at 0x7f794904f280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f794904f220>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f794904f2e0>
               └ <fastapi.routing.APIRouter object at 0x7f794904f280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f794978eb00>
          │    └ <fastapi.routing.APIRouter object at 0x7f794904f280>
          └ <starlette.routing._DefaultLifespan object at 0x7f794904f2e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f7949069990>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f79490cbeb0>
          └ <bot_app.TelegramBot object at 0x7f794904f790>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f79490cbf40>
          └ <bot_app.TelegramBot object at 0x7f794904f790>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f79490ad240>
          │                 └ <bot_app.TelegramBot object at 0x7f794904f790>
          └ <function on_startup_notify at 0x7f7948f377f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f794a35b9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f79490acfa0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f79490ad240>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f794a317a90>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f794a35a170>
                   └ <aiogram.bot.bot.Bot object at 0x7f79490acfa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f79490acfa0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f79490acfa0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f794a359a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f79490acfa0>
                 │   └ <function make_request at 0x7f794a2f30a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f794b5d13f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f794b6e9f80>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f794a2f2dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f794a2f27a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T16:10:12.288616+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T16:10:30.253286+0900 WARNING Shutting down!..
2022-06-27T16:10:31.052172+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T16:10:31.052343+0900 WARNING Bye!
2022-06-27T16:10:32.895204+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f559c2f1870>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f559c2f0940>
    └ <uvicorn.server.Server object at 0x7f559c3f4280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f559c2f09d0>
           │       │   └ <uvicorn.server.Server object at 0x7f559c3f4280>
           │       └ <function run at 0x7f559f9a3d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f559c2a31b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f559f076680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f559f0765f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f559f078160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f559f22bac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f559c351120>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>
          │   │      │    └ <function LifespanOn.receive at 0x7f559c3511b0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f559c300cd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
                 │    └ <fastapi.applications.FastAPI object at 0x7f559c3371f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f559c300cd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f559c337ac0>
          └ <fastapi.applications.FastAPI object at 0x7f559c3371f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f559c337a60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f559c337ac0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f559c337a30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f559c337a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f559c3379d0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f559c337a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          │    └ <fastapi.routing.APIRouter object at 0x7f559c337250>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f559c3379d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f559c300e50>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          │    └ <function Router.lifespan at 0x7f559ca6ac20>
          └ <fastapi.routing.APIRouter object at 0x7f559c337250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f559c3371f0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f559c3372b0>
               └ <fastapi.routing.APIRouter object at 0x7f559c337250>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f559ca6ab00>
          │    └ <fastapi.routing.APIRouter object at 0x7f559c337250>
          └ <starlette.routing._DefaultLifespan object at 0x7f559c3372b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f559c351990>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f559c3afeb0>
          └ <bot_app.TelegramBot object at 0x7f559c337760>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f559c3aff40>
          └ <bot_app.TelegramBot object at 0x7f559c337760>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f559c399210>
          │                 └ <bot_app.TelegramBot object at 0x7f559c337760>
          └ <function on_startup_notify at 0x7f559c2237f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f559d65b9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f559c398f70>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f559c399210>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f559d617a90>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f559d65a170>
                   └ <aiogram.bot.bot.Bot object at 0x7f559c398f70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f559c398f70>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f559c398f70>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f559d659a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f559c398f70>
                 │   └ <function make_request at 0x7f559d5f30a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f559e5fd3f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f559e9edf80>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f559d5f2dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f559d5f27a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T16:10:33.510017+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T16:10:46.398681+0900 WARNING Shutting down!..
2022-06-27T16:10:46.617035+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T16:10:46.617199+0900 WARNING Bye!
2022-06-27T16:10:48.562720+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 180, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f7b5554d870>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f7b5554c940>
    └ <uvicorn.server.Server object at 0x7f7b556501f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f7b5554c9d0>
           │       │   └ <uvicorn.server.Server object at 0x7f7b556501f0>
           │       └ <function run at 0x7f7b58bc3d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f7b554fb1b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f7b5829a680>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f7b5829a5f0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f7b5829c160>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f7b5844bac0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f7b555a9120>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>
          │   │      │    └ <function LifespanOn.receive at 0x7f7b555a91b0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f7b...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7b5555cc40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f7b...
                 │    └ <fastapi.applications.FastAPI object at 0x7f7b5558f160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7b5555cc40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f7b...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f7b...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7b5558fa30>
          └ <fastapi.applications.FastAPI object at 0x7f7b5558f160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f7b...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7b5558f9d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f7b5558fa30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f7b...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f7b5558f9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f7b5558f9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f7b...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f7b5558f940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f7b5558f9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f7b...
          │    └ <fastapi.routing.APIRouter object at 0x7f7b5558f1c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f7b5558f940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7b5555cdc0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f7b...
          │    └ <function Router.lifespan at 0x7f7b55c9ac20>
          └ <fastapi.routing.APIRouter object at 0x7f7b5558f1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f7b5558f160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f7b5558f220>
               └ <fastapi.routing.APIRouter object at 0x7f7b5558f1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f7b55c9ab00>
          │    └ <fastapi.routing.APIRouter object at 0x7f7b5558f1c0>
          └ <starlette.routing._DefaultLifespan object at 0x7f7b5558f220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f7b555a9990>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f7b55607eb0>
          └ <bot_app.TelegramBot object at 0x7f7b5558f6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f7b55607f40>
          └ <bot_app.TelegramBot object at 0x7f7b5558f6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f7b555f1180>
          │                 └ <bot_app.TelegramBot object at 0x7f7b5558f6d0>
          └ <function on_startup_notify at 0x7f7b5547b7f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f7b56d9b9a0>
          │  └ <aiogram.bot.bot.Bot object at 0x7f7b555f0ee0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f7b555f1180>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f7b56d57e80>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f7b56d9a170>
                   └ <aiogram.bot.bot.Bot object at 0x7f7b555f0ee0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f7b555f0ee0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f7b555f0ee0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f7b56d99a20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f7b555f0ee0>
                 │   └ <function make_request at 0x7f7b56d330a0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f7b579053f0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f7b57bfa020>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f7b56d32dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f7b56d327a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T16:10:49.177364+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T17:20:06.801920+0900 WARNING Shutting down!..
2022-06-27T17:20:07.580594+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T17:20:07.580805+0900 WARNING Bye!
2022-06-27T17:57:53.921585+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f9dae96d510>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f9dae96c5e0>
    └ <uvicorn.server.Server object at 0x7f9daea41570>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f9dae96c670>
           │       │   └ <uvicorn.server.Server object at 0x7f9daea41570>
           │       └ <function run at 0x7f9db1ffbd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f9dae917220>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f9db16ca5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f9db16ca560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f9db16cc0d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f9db187fa30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f9dae9c4dc0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>
          │   │      │    └ <function LifespanOn.receive at 0x7f9dae9c4e50>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9d...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9dae9d6830>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9d...
                 │    └ <fastapi.applications.FastAPI object at 0x7f9dae9d6530>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9dae9d6830>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9d...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9d...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9dae9d6d70>
          └ <fastapi.applications.FastAPI object at 0x7f9dae9d6530>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9d...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9dae9d6d10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9dae9d6d70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9d...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9dae9d6ce0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9dae9d6d10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9d...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f9dae9d6c80>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9dae9d6ce0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9d...
          │    └ <fastapi.routing.APIRouter object at 0x7f9dae9d6590>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f9dae9d6c80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9dae9d6800>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9d...
          │    └ <function Router.lifespan at 0x7f9daf0beb90>
          └ <fastapi.routing.APIRouter object at 0x7f9dae9d6590>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f9dae9d6530>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f9dae9d65f0>
               └ <fastapi.routing.APIRouter object at 0x7f9dae9d6590>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f9daf0bea70>
          │    └ <fastapi.routing.APIRouter object at 0x7f9dae9d6590>
          └ <starlette.routing._DefaultLifespan object at 0x7f9dae9d65f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f9dae9c5480>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f9daea23be0>
          └ <bot_app.TelegramBot object at 0x7f9dae9d6a10>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f9daea23c70>
          └ <bot_app.TelegramBot object at 0x7f9dae9d6a10>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9daea14d30>
          │                 └ <bot_app.TelegramBot object at 0x7f9dae9d6a10>
          └ <function on_startup_notify at 0x7f9dae89f370>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f9dafd5b910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f9daea14a90>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9daea14d30>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f9dafd17490>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f9dafd5a0e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f9daea14a90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f9daea14a90>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f9daea14a90>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f9dafd59990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f9daea14a90>
                 │   └ <function make_request at 0x7f9dafcff010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f9db0f1d360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f9db10560c0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f9dafcfed40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f9dafcfe710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T17:57:54.533527+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T17:58:16.304111+0900 WARNING Shutting down!..
2022-06-27T17:58:16.959813+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T17:58:16.959998+0900 WARNING Bye!
2022-06-27T17:58:18.511503+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f30f7151630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f30f7150700>
    └ <uvicorn.server.Server object at 0x7f30f7227f70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f30f7150790>
           │       │   └ <uvicorn.server.Server object at 0x7f30f7227f70>
           │       └ <function run at 0x7f30fa7c7d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f30f70ff140>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f30f9e9e5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f30f9e9e560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f30f9ea00d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f30fa04fa30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f30f71a8ee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>
          │   │      │    └ <function LifespanOn.receive at 0x7f30f71a8f70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f30...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f30f715ca00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f30...
                 │    └ <fastapi.applications.FastAPI object at 0x7f30f719af80>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f30f715ca00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f30...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f30...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f30f719b850>
          └ <fastapi.applications.FastAPI object at 0x7f30f719af80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f30...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f30f719b7f0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f30f719b850>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f30...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f30f719b7c0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f30f719b7f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f30...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f30f719b760>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f30f719b7c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f30...
          │    └ <fastapi.routing.APIRouter object at 0x7f30f719afe0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f30f719b760>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f30f715cb80>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f30...
          │    └ <function Router.lifespan at 0x7f30f7896b90>
          └ <fastapi.routing.APIRouter object at 0x7f30f719afe0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f30f719af80>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f30f719b040>
               └ <fastapi.routing.APIRouter object at 0x7f30f719afe0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f30f7896a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f30f719afe0>
          └ <starlette.routing._DefaultLifespan object at 0x7f30f719b040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f30f71a9750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f30f7207d00>
          └ <bot_app.TelegramBot object at 0x7f30f719b4f0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f30f7207d90>
          └ <bot_app.TelegramBot object at 0x7f30f719b4f0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f30f71f4d60>
          │                 └ <bot_app.TelegramBot object at 0x7f30f719b4f0>
          └ <function on_startup_notify at 0x7f30f70835b0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f30f899b910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f30f71f4ac0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f30f71f4d60>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f30f8957460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f30f899a0e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f30f71f4ac0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f30f71f4ac0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f30f71f4ac0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f30f8999990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f30f71f4ac0>
                 │   └ <function make_request at 0x7f30f893f010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f30f9505360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f30f97fdd50>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f30f893ed40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f30f893e710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T17:58:19.050803+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T17:58:56.368990+0900 WARNING Shutting down!..
2022-06-27T17:58:57.203514+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T17:58:57.203724+0900 WARNING Bye!
2022-06-27T17:59:25.597682+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7fea801f9510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 39159, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7fea801f8550>
              └ <__main__.PyDB object at 0x7fea8037d4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7fea801f85e0>
           └ <__main__.PyDB object at 0x7fea8037d4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7fea80778f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fea7c2a32e0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fea7c2a23b0>
    └ <uvicorn.server.Server object at 0x7fea7c3a3fa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fea7c2a2440>
           │       │   └ <uvicorn.server.Server object at 0x7fea7c3a3fa0>
           │       └ <function run at 0x7fea803ad5a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fea7c2c8820>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fea8040fd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fea8040fc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fea8041d7e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fea803751b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fea7c337760>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>
          │   │      │    └ <function LifespanOn.receive at 0x7fea7c3377f0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fea...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fea7c2dcd90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fea...
                 │    └ <fastapi.applications.FastAPI object at 0x7fea7c327340>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fea7c2dcd90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fea...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fea...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fea7c327c10>
          └ <fastapi.applications.FastAPI object at 0x7fea7c327340>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fea...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fea7c327bb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fea7c327c10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fea...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fea7c327b80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fea7c327bb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fea...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fea7c327b20>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fea7c327b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fea...
          │    └ <fastapi.routing.APIRouter object at 0x7fea7c3273a0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fea7c327b20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fea7c2dceb0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fea...
          │    └ <function Router.lifespan at 0x7fea7c9da560>
          └ <fastapi.routing.APIRouter object at 0x7fea7c3273a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fea7c327340>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fea7c327400>
               └ <fastapi.routing.APIRouter object at 0x7fea7c3273a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fea7c9da440>
          │    └ <fastapi.routing.APIRouter object at 0x7fea7c3273a0>
          └ <starlette.routing._DefaultLifespan object at 0x7fea7c327400>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fea7c348040>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fea7c395120>
          └ <bot_app.TelegramBot object at 0x7fea7c3278b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fea7c3951b0>
          └ <bot_app.TelegramBot object at 0x7fea7c3278b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fea7c365300>
          │                 └ <bot_app.TelegramBot object at 0x7fea7c3278b0>
          └ <function on_startup_notify at 0x7fea7c0768c0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fea7d188af0>
          │  └ <aiogram.bot.bot.Bot object at 0x7fea7c364a60>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fea7c365300>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fea7d12b430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fea7d15b250>
                   └ <aiogram.bot.bot.Bot object at 0x7fea7c364a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fea7c364a60>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fea7c364a60>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fea7d15ab00>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fea7c364a60>
                 │   └ <function make_request at 0x7fea7d1580d0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fea7e33cdc0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fea7e67a5c0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fea7d0efd90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fea7d0ef760>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T17:59:26.104651+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T17:59:34.739206+0900 WARNING Shutting down!..
2022-06-27T17:59:34.990901+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T17:59:34.991257+0900 WARNING Bye!
2022-06-27T17:59:47.154592+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7efcb82f1510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 43627, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7efcb82f0550>
              └ <__main__.PyDB object at 0x7efcb84854b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7efcb82f05e0>
           └ <__main__.PyDB object at 0x7efcb84854b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7efcb886cf70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7efcb437f2e0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7efcb437e3b0>
    └ <uvicorn.server.Server object at 0x7efcb4483f70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7efcb437e440>
           │       │   └ <uvicorn.server.Server object at 0x7efcb4483f70>
           │       └ <function run at 0x7efcb84a95a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7efcb43a8820>
           │    └ <function BaseEventLoop.run_until_complete at 0x7efcb8507d00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7efcb8507c70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7efcb85157e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7efcb84711b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7efcb4417760>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>
          │   │      │    └ <function LifespanOn.receive at 0x7efcb44177f0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7efcb43bcd60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
                 │    └ <fastapi.applications.FastAPI object at 0x7efcb4403310>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7efcb43bcd60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7efcb4403be0>
          └ <fastapi.applications.FastAPI object at 0x7efcb4403310>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7efcb4403b80>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7efcb4403be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7efcb4403b50>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7efcb4403b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7efcb4403af0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7efcb4403b50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <fastapi.routing.APIRouter object at 0x7efcb4403370>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7efcb4403af0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7efcb43bce80>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7efc...
          │    └ <function Router.lifespan at 0x7efcb4ab2560>
          └ <fastapi.routing.APIRouter object at 0x7efcb4403370>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7efcb4403310>
               │    └ <starlette.routing._DefaultLifespan object at 0x7efcb44033d0>
               └ <fastapi.routing.APIRouter object at 0x7efcb4403370>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7efcb4ab2440>
          │    └ <fastapi.routing.APIRouter object at 0x7efcb4403370>
          └ <starlette.routing._DefaultLifespan object at 0x7efcb44033d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7efcb4428040>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7efcb4479120>
          └ <bot_app.TelegramBot object at 0x7efcb4403880>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7efcb44791b0>
          └ <bot_app.TelegramBot object at 0x7efcb4403880>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7efcb46452d0>
          │                 └ <bot_app.TelegramBot object at 0x7efcb4403880>
          └ <function on_startup_notify at 0x7efcb41568c0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7efcb527caf0>
          │  └ <aiogram.bot.bot.Bot object at 0x7efcb4644a30>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7efcb46452d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7efcb521f3d0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7efcb524f250>
                   └ <aiogram.bot.bot.Bot object at 0x7efcb4644a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7efcb4644a30>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7efcb4644a30>
                 │   │                  │    └ <function BaseBot.get_session at 0x7efcb524eb00>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7efcb4644a30>
                 │   └ <function make_request at 0x7efcb524c0d0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7efcb6130dc0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7efcb6506250>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7efcb51dfd90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7efcb51df760>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T17:59:47.865733+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T18:10:22.033614+0900 WARNING Shutting down!..
2022-06-27T18:10:23.340391+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T18:10:23.340770+0900 WARNING Bye!
2022-06-27T18:10:25.331217+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f69759dd630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f69759dc700>
    └ <uvicorn.server.Server object at 0x7f6975a9ff10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f69759dc790>
           │       │   └ <uvicorn.server.Server object at 0x7f6975a9ff10>
           │       └ <function run at 0x7f697907bd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f69759871b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f697874a5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f697874a560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f697874c0d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f69788ffa30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f6975a34ee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>
          │   │      │    └ <function LifespanOn.receive at 0x7f6975a34f70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f69759e89a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
                 │    └ <fastapi.applications.FastAPI object at 0x7f6975a1af20>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f69759e89a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f6975a1b7f0>
          └ <fastapi.applications.FastAPI object at 0x7f6975a1af20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f6975a1b790>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f6975a1b7f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f6975a1b760>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f6975a1b790>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f6975a1b700>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f6975a1b760>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <fastapi.routing.APIRouter object at 0x7f6975a1af80>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f6975a1b700>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69759e8b20>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <function Router.lifespan at 0x7f6976152b90>
          └ <fastapi.routing.APIRouter object at 0x7f6975a1af80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f6975a1af20>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f6975a1afe0>
               └ <fastapi.routing.APIRouter object at 0x7f6975a1af80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f6976152a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f6975a1af80>
          └ <starlette.routing._DefaultLifespan object at 0x7f6975a1afe0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f6975a35750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f6975a97d00>
          └ <bot_app.TelegramBot object at 0x7f6975a1b490>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f6975a97d90>
          └ <bot_app.TelegramBot object at 0x7f6975a1b490>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f6975a84d00>
          │                 └ <bot_app.TelegramBot object at 0x7f6975a1b490>
          └ <function on_startup_notify at 0x7f697590b5b0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f6976d57910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f6975a84a60>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f6975a84d00>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f6976d13400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f6976d560e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f6975a84a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f6975a84a60>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f6975a84a60>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f6976d55990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f6975a84a60>
                 │   └ <function make_request at 0x7f6976cfb010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f6977fad360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f69780e5ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f6976cfad40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f6976cfa710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T18:10:25.867178+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T18:10:42.024167+0900 WARNING Shutting down!..
2022-06-27T18:10:42.542052+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T18:10:42.542241+0900 WARNING Bye!
2022-06-27T18:10:45.410608+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f8c7ad39510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 45867, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f8c7ad38550>
              └ <__main__.PyDB object at 0x7f8c7aecd4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f8c7ad385e0>
           └ <__main__.PyDB object at 0x7f8c7aecd4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f8c7b2b4f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f8c6ad8b370>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f8c6ad8a440>
    └ <uvicorn.server.Server object at 0x7f8c6ae83fa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f8c6ad8a4d0>
           │       │   └ <uvicorn.server.Server object at 0x7f8c6ae83fa0>
           │       └ <function run at 0x7f8c7aef15a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f8c6adb0890>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f8c7af4fd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f8c7af4fc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f8c7af5d7e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f8c7aeb91b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f8c6ae1f7f0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>
          │   │      │    └ <function LifespanOn.receive at 0x7f8c6ae1f880>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8c...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f8c6adccd90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f8c6ae0f340>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f8c6adccd90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8c...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f8c6ae0ff40>
          └ <fastapi.applications.FastAPI object at 0x7f8c6ae0f340>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f8c6ae0fee0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f8c6ae0ff40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8c...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f8c6ae0feb0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f8c6ae0fee0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8c...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f8c6ae0fe50>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f8c6ae0feb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8c...
          │    └ <fastapi.routing.APIRouter object at 0x7f8c6ae0f4c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f8c6ae0fe50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f8c6adcceb0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f8c...
          │    └ <function Router.lifespan at 0x7f8c6b4965f0>
          └ <fastapi.routing.APIRouter object at 0x7f8c6ae0f4c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f8c6ae0f340>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f8c6ae0f490>
               └ <fastapi.routing.APIRouter object at 0x7f8c6ae0f4c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f8c6b4964d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f8c6ae0f4c0>
          └ <starlette.routing._DefaultLifespan object at 0x7f8c6ae0f490>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f8c6ac34160>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f8c6ae8d1b0>
          └ <bot_app.TelegramBot object at 0x7f8c6ae0f370>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f8c6ae8d240>
          └ <bot_app.TelegramBot object at 0x7f8c6ae0f370>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f8c6ae45300>
          │                 └ <bot_app.TelegramBot object at 0x7f8c6ae0f370>
          └ <function on_startup_notify at 0x7f8c6ab62950>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f8c6bbb0b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f8c6ae44a60>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f8c6ae45300>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f8c6bb57400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f8c6bb7f2e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f8c6ae44a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f8c6ae44a60>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f8c6ae44a60>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f8c6bb7eb90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f8c6ae44a60>
                 │   └ <function make_request at 0x7f8c6bb7c160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f8c78b34e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f8c78f06480>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f8c6bb17e20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f8c6bb177f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T18:10:46.129616+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T18:10:52.758115+0900 WARNING Shutting down!..
2022-06-27T18:10:52.902627+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T18:10:52.902922+0900 WARNING Bye!
2022-06-27T18:10:56.828118+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7fb9ad485510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 34129, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7fb9ad484550>
              └ <__main__.PyDB object at 0x7fb9ad6194b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7fb9ad4845e0>
           └ <__main__.PyDB object at 0x7fb9ad6194b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7fb9ada00f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fb9a54eb370>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fb9a54ea440>
    └ <uvicorn.server.Server object at 0x7fb9a55e7fa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fb9a54ea4d0>
           │       │   └ <uvicorn.server.Server object at 0x7fb9a55e7fa0>
           │       └ <function run at 0x7fb9ad63d5a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fb9a5514900>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fb9ad69bd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fb9ad69bc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fb9ad6a97e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fb9ad6051b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fb9a55837f0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>
          │   │      │    └ <function LifespanOn.receive at 0x7fb9a5583880>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb9a5530cd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb9a5573280>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb9a5530cd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb9a5573e80>
          └ <fastapi.applications.FastAPI object at 0x7fb9a5573280>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb9a5573e20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb9a5573e80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb9a5573df0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb9a5573e20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb9a5573d90>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb9a5573df0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <fastapi.routing.APIRouter object at 0x7fb9a5573400>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb9a5573d90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9a5530df0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <function Router.lifespan at 0x7fb9a5bfa5f0>
          └ <fastapi.routing.APIRouter object at 0x7fb9a5573400>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fb9a5573280>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fb9a55733d0>
               └ <fastapi.routing.APIRouter object at 0x7fb9a5573400>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fb9a5bfa4d0>
          │    └ <fastapi.routing.APIRouter object at 0x7fb9a5573400>
          └ <starlette.routing._DefaultLifespan object at 0x7fb9a55733d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fb9a5398160>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fb9a55f11b0>
          └ <bot_app.TelegramBot object at 0x7fb9a55732b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fb9a55f1240>
          └ <bot_app.TelegramBot object at 0x7fb9a55732b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb9a55a9240>
          │                 └ <bot_app.TelegramBot object at 0x7fb9a55732b0>
          └ <function on_startup_notify at 0x7fb9a52ca950>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fb9a67b8b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7fb9a55a89a0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb9a55a9240>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fb9a675b370>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fb9a67832e0>
                   └ <aiogram.bot.bot.Bot object at 0x7fb9a55a89a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fb9a55a89a0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fb9a55a89a0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fb9a6782b90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fb9a55a89a0>
                 │   └ <function make_request at 0x7fb9a6780160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fb9a7738e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fb9ac1064d0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fb9a671fe20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fb9a671f7f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T18:10:57.696460+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T18:30:27.279428+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f1ff009d630>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f1ff009c700>
    └ <uvicorn.server.Server object at 0x7f1ff0173f40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f1ff009c790>
           │       │   └ <uvicorn.server.Server object at 0x7f1ff0173f40>
           │       └ <function run at 0x7f1ff374fd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1ff00471b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f1ff2e1e5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f1ff2e1e560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f1ff2e200d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f1ff2fd3a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f1ff00f4ee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>
          │   │      │    └ <function LifespanOn.receive at 0x7f1ff00f4f70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ff00ac9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1ff00daf50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1ff00ac9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ff00db820>
          └ <fastapi.applications.FastAPI object at 0x7f1ff00daf50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f1ff00db7c0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1ff00db820>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ff00db790>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f1ff00db7c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ff00db730>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1ff00db790>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          │    └ <fastapi.routing.APIRouter object at 0x7f1ff00dafb0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1ff00db730>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1ff00acb50>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          │    └ <function Router.lifespan at 0x7f1ff0812b90>
          └ <fastapi.routing.APIRouter object at 0x7f1ff00dafb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f1ff00daf50>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f1ff00db010>
               └ <fastapi.routing.APIRouter object at 0x7f1ff00dafb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f1ff0812a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f1ff00dafb0>
          └ <starlette.routing._DefaultLifespan object at 0x7f1ff00db010>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f1ff00f5750>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f1ff0157c70>
          └ <bot_app.TelegramBot object at 0x7f1ff00db4c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f1ff0157d00>
          └ <bot_app.TelegramBot object at 0x7f1ff00db4c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f1ff0144d30>
          │                 └ <bot_app.TelegramBot object at 0x7f1ff00db4c0>
          └ <function on_startup_notify at 0x7f1feffcf5b0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f1ff1457910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f1ff0144a90>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f1ff0144d30>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f1ff1413460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f1ff14560e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f1ff0144a90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f1ff0144a90>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f1ff0144a90>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f1ff1455990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f1ff0144a90>
                 │   └ <function make_request at 0x7f1ff13fb010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f1ff23f9360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f1ff2755e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f1ff13fad40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f1ff13fa710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T18:30:27.699543+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T18:30:44.951330+0900 WARNING Shutting down!..
2022-06-27T18:30:45.548565+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T18:30:45.548745+0900 WARNING Bye!
2022-06-27T18:30:49.645292+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f62ccba1510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 34519, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f62ccba0550>
              └ <__main__.PyDB object at 0x7f62ccd354b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f62ccba05e0>
           └ <__main__.PyDB object at 0x7f62ccd354b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f62cd11cf70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f62c4c5f370>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f62c4c5e440>
    └ <uvicorn.server.Server object at 0x7f62c4d53f40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f62c4c5e4d0>
           │       │   └ <uvicorn.server.Server object at 0x7f62c4d53f40>
           │       └ <function run at 0x7f62ccd595a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f62c4c84890>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f62ccdb7d00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f62ccdb7c70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f62ccdc57e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f62ccd211b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f62c4cef7f0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>
          │   │      │    └ <function LifespanOn.receive at 0x7f62c4cef880>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f62...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f62c4c9cd30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f62...
                 │    └ <fastapi.applications.FastAPI object at 0x7f62c4cdf2e0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f62c4c9cd30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f62...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f62...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f62c4cdfee0>
          └ <fastapi.applications.FastAPI object at 0x7f62c4cdf2e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f62...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f62c4cdfe80>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f62c4cdfee0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f62...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f62c4cdfe50>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f62c4cdfe80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f62...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f62c4cdfdf0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f62c4cdfe50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f62...
          │    └ <fastapi.routing.APIRouter object at 0x7f62c4cdf460>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f62c4cdfdf0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f62c4c9ce50>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f62...
          │    └ <function Router.lifespan at 0x7f62c536a5f0>
          └ <fastapi.routing.APIRouter object at 0x7f62c4cdf460>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f62c4cdf2e0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f62c4cdf430>
               └ <fastapi.routing.APIRouter object at 0x7f62c4cdf460>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f62c536a4d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f62c4cdf460>
          └ <starlette.routing._DefaultLifespan object at 0x7f62c4cdf430>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f62c4b04160>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f62c4d45120>
          └ <bot_app.TelegramBot object at 0x7f62c4cdf310>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f62c4d451b0>
          └ <bot_app.TelegramBot object at 0x7f62c4cdf310>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f62c4d152a0>
          │                 └ <bot_app.TelegramBot object at 0x7f62c4cdf310>
          └ <function on_startup_notify at 0x7f62c4a32950>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f62c5fb4b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f62c4d14a00>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f62c4d152a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f62c5f573d0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f62c5f872e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f62c4d14a00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f62c4d14a00>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f62c4d14a00>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f62c5f86b90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f62c4d14a00>
                 │   └ <function make_request at 0x7f62c5f84160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f62c6f34e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f62cc01e1b0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f62c5f1be20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f62c5f1b7f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T18:30:50.286599+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:16:18.303531+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f69b7a356c0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f69b7a34790>
    └ <uvicorn.server.Server object at 0x7f69b7b340a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f69b7a34820>
           │       │   └ <uvicorn.server.Server object at 0x7f69b7b340a0>
           │       └ <function run at 0x7f69bb0bfd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f69b79df220>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f69ba7965f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f69ba796560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f69ba7980d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f69ba947a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f69b7a88f70>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>
          │   │      │    └ <function LifespanOn.receive at 0x7f69b7a89000>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f69b7a40b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
                 │    └ <fastapi.applications.FastAPI object at 0x7f69b7a7f100>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f69b7a40b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f69b7a7f9d0>
          └ <fastapi.applications.FastAPI object at 0x7f69b7a7f100>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f69b7a7f970>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f69b7a7f9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f69b7a7f940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f69b7a7f970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f69b7a7f8e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f69b7a7f940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <fastapi.routing.APIRouter object at 0x7f69b7a7f160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f69b7a7f8e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f69b7a40d00>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <function Router.lifespan at 0x7f69b8186b90>
          └ <fastapi.routing.APIRouter object at 0x7f69b7a7f160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f69b7a7f100>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f69b7a7f1c0>
               └ <fastapi.routing.APIRouter object at 0x7f69b7a7f160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f69b8186a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f69b7a7f160>
          └ <starlette.routing._DefaultLifespan object at 0x7f69b7a7f1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f69b7a897e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f69b7aebd00>
          └ <bot_app.TelegramBot object at 0x7f69b7a7f670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f69b7aebd90>
          └ <bot_app.TelegramBot object at 0x7f69b7a7f670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f69b7ad4ee0>
          │                 └ <bot_app.TelegramBot object at 0x7f69b7a7f670>
          └ <function on_startup_notify at 0x7f69b7967640>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f69b8d67910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f69b7ad4c40>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f69b7ad4ee0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f69b8d23490>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f69b8d660e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f69b7ad4c40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f69b7ad4c40>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f69b7ad4c40>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f69b8d65990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f69b7ad4c40>
                 │   └ <function make_request at 0x7f69b8d07010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f69b9b05360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f69ba0f9df0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f69b8d06d40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f69b8d06710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:16:18.734760+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:16:25.316077+0900 ERROR type object 'Schema' has no attribute 'new'
2022-06-27T19:16:25.316237+0900 ERROR Can't create a ticket
2022-06-27T19:16:32.867738+0900 ERROR type object 'Schema' has no attribute 'new'
2022-06-27T19:16:32.867991+0900 ERROR Can't create a ticket
2022-06-27T19:16:48.233605+0900 WARNING Shutting down!..
2022-06-27T19:16:48.840677+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:16:48.840996+0900 WARNING Bye!
2022-06-27T19:16:51.505532+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f6bb0441750>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f6bb0440820>
    └ <uvicorn.server.Server object at 0x7f6bb0540190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f6bb04408b0>
           │       │   └ <uvicorn.server.Server object at 0x7f6bb0540190>
           │       └ <function run at 0x7f6bb3abbd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f6bb03eb220>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f6bb318e5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f6bb318e560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f6bb31900d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f6bb3343a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f6bb0491000>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>
          │   │      │    └ <function LifespanOn.receive at 0x7f6bb0491090>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f6b...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f6bb044cbe0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f6b...
                 │    └ <fastapi.applications.FastAPI object at 0x7f6bb0483160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f6bb044cbe0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f6b...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f6b...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f6bb0483a30>
          └ <fastapi.applications.FastAPI object at 0x7f6bb0483160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f6b...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f6bb04839d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f6bb0483a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f6b...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f6bb04839a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f6bb04839d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f6b...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f6bb0483940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f6bb04839a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f6b...
          │    └ <fastapi.routing.APIRouter object at 0x7f6bb04831c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f6bb0483940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6bb044cd60>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f6b...
          │    └ <function Router.lifespan at 0x7f6bb0b86b90>
          └ <fastapi.routing.APIRouter object at 0x7f6bb04831c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f6bb0483160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f6bb0483220>
               └ <fastapi.routing.APIRouter object at 0x7f6bb04831c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f6bb0b86a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f6bb04831c0>
          └ <starlette.routing._DefaultLifespan object at 0x7f6bb0483220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f6bb0491870>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f6bb04f7d90>
          └ <bot_app.TelegramBot object at 0x7f6bb04836d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f6bb04f7e20>
          └ <bot_app.TelegramBot object at 0x7f6bb04836d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f6bb04e0f40>
          │                 └ <bot_app.TelegramBot object at 0x7f6bb04836d0>
          └ <function on_startup_notify at 0x7f6bb03736d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f6bb1757910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f6bb04e0ca0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f6bb04e0f40>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f6bb17134f0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f6bb17560e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f6bb04e0ca0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f6bb04e0ca0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f6bb04e0ca0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f6bb1755990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f6bb04e0ca0>
                 │   └ <function make_request at 0x7f6bb16fb010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f6bb29f9360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f6bb2ae9f30>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f6bb16fad40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f6bb16fa710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:16:52.221535+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:17:42.174615+0900 WARNING Shutting down!..
2022-06-27T19:17:43.010569+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:17:43.010768+0900 WARNING Bye!
2022-06-27T19:17:44.955914+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fe83a409750>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fe83a408820>
    └ <uvicorn.server.Server object at 0x7fe83a4dbf70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fe83a4088b0>
           │       │   └ <uvicorn.server.Server object at 0x7fe83a4dbf70>
           │       └ <function run at 0x7fe83da9fd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fe83a3af220>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fe83d1765f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fe83d176560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fe83d1780d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fe83d327a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fe83a45d000>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>
          │   │      │    └ <function LifespanOn.receive at 0x7fe83a45d090>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe8...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe83a410ac0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe8...
                 │    └ <fastapi.applications.FastAPI object at 0x7fe83a447040>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe83a410ac0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe8...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe8...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe83a447910>
          └ <fastapi.applications.FastAPI object at 0x7fe83a447040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe8...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fe83a4478b0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe83a447910>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe8...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fe83a447880>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fe83a4478b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe8...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fe83a447820>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fe83a447880>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe8...
          │    └ <fastapi.routing.APIRouter object at 0x7fe83a4470a0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fe83a447820>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe83a410c40>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe8...
          │    └ <function Router.lifespan at 0x7fe83ab72b90>
          └ <fastapi.routing.APIRouter object at 0x7fe83a4470a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fe83a447040>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fe83a447100>
               └ <fastapi.routing.APIRouter object at 0x7fe83a4470a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fe83ab72a70>
          │    └ <fastapi.routing.APIRouter object at 0x7fe83a4470a0>
          └ <starlette.routing._DefaultLifespan object at 0x7fe83a447100>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fe83a45d870>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fe83a4bbd90>
          └ <bot_app.TelegramBot object at 0x7fe83a4475b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fe83a4bbe20>
          └ <bot_app.TelegramBot object at 0x7fe83a4475b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fe83a4a8e20>
          │                 └ <bot_app.TelegramBot object at 0x7fe83a4475b0>
          └ <function on_startup_notify at 0x7fe83a3376d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fe83b767910>
          │  └ <aiogram.bot.bot.Bot object at 0x7fe83a4a8b80>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fe83a4a8e20>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fe83b723430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fe83b7660e0>
                   └ <aiogram.bot.bot.Bot object at 0x7fe83a4a8b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fe83a4a8b80>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fe83a4a8b80>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fe83b765990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fe83a4a8b80>
                 │   └ <function make_request at 0x7fe83b70b010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fe83c505360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fe83caf9d00>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fe83b70ad40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fe83b70a710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:17:45.570332+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:21:39.782781+0900 WARNING Shutting down!..
2022-06-27T19:21:40.583051+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:21:40.583224+0900 WARNING Bye!
2022-06-27T19:21:43.450033+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f9c24ca17e0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f9c24ca08b0>
    └ <uvicorn.server.Server object at 0x7f9c24d73fd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f9c24ca0940>
           │       │   └ <uvicorn.server.Server object at 0x7f9c24d73fd0>
           │       └ <function run at 0x7f9c28327d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f9c24c47220>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f9c279fa5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f9c279fa560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f9c27a000d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f9c27bafa30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f9c24cf1090>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>
          │   │      │    └ <function LifespanOn.receive at 0x7f9c24cf1120>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9c24ca8b50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f9c24cdf0d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9c24ca8b50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9c24cdf9a0>
          └ <fastapi.applications.FastAPI object at 0x7f9c24cdf0d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9c24cdf940>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9c24cdf9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9c24cdf910>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9c24cdf940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f9c24cdf8b0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9c24cdf910>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          │    └ <fastapi.routing.APIRouter object at 0x7f9c24cdf130>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f9c24cdf8b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9c24ca8cd0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          │    └ <function Router.lifespan at 0x7f9c253e6b90>
          └ <fastapi.routing.APIRouter object at 0x7f9c24cdf130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f9c24cdf0d0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f9c24cdf190>
               └ <fastapi.routing.APIRouter object at 0x7f9c24cdf130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f9c253e6a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f9c24cdf130>
          └ <starlette.routing._DefaultLifespan object at 0x7f9c24cdf190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f9c24cf1900>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f9c24d53e20>
          └ <bot_app.TelegramBot object at 0x7f9c24cdf640>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f9c24d53eb0>
          └ <bot_app.TelegramBot object at 0x7f9c24cdf640>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9c24d3ceb0>
          │                 └ <bot_app.TelegramBot object at 0x7f9c24cdf640>
          └ <function on_startup_notify at 0x7f9c24bcf760>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f9c265a3910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f9c24d3cc10>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9c24d3ceb0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f9c2655f3d0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f9c265a20e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f9c24d3cc10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f9c24d3cc10>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f9c24d3cc10>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f9c265a1990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f9c24d3cc10>
                 │   └ <function make_request at 0x7f9c26547010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f9c2704d360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f9c27369f30>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f9c26546d40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f9c26546710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:21:44.062413+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:22:44.449217+0900 WARNING Shutting down!..
2022-06-27T19:22:45.298240+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:22:45.298518+0900 WARNING Bye!
2022-06-27T19:22:48.291911+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fde4acf9870>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fde4acf8940>
    └ <uvicorn.server.Server object at 0x7fde4adf8190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fde4acf89d0>
           │       │   └ <uvicorn.server.Server object at 0x7fde4adf8190>
           │       └ <function run at 0x7fde4e397d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fde4aca3220>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fde4da6e5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fde4da6e560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fde4da700d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fde4dc1fa30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fde4ad4d120>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>
          │   │      │    └ <function LifespanOn.receive at 0x7fde4ad4d1b0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fde...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fde4ad04be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fde...
                 │    └ <fastapi.applications.FastAPI object at 0x7fde4ad37160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fde4ad04be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fde...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fde...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fde4ad37a30>
          └ <fastapi.applications.FastAPI object at 0x7fde4ad37160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fde...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fde4ad379d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fde4ad37a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fde...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fde4ad379a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fde4ad379d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fde...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fde4ad37940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fde4ad379a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fde...
          │    └ <fastapi.routing.APIRouter object at 0x7fde4ad371c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fde4ad37940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fde4ad04d60>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fde...
          │    └ <function Router.lifespan at 0x7fde4b472b90>
          └ <fastapi.routing.APIRouter object at 0x7fde4ad371c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fde4ad37160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fde4ad37220>
               └ <fastapi.routing.APIRouter object at 0x7fde4ad371c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fde4b472a70>
          │    └ <fastapi.routing.APIRouter object at 0x7fde4ad371c0>
          └ <starlette.routing._DefaultLifespan object at 0x7fde4ad37220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fde4ad4d990>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fde4adafeb0>
          └ <bot_app.TelegramBot object at 0x7fde4ad376d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fde4adaff40>
          └ <bot_app.TelegramBot object at 0x7fde4ad376d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fde4ad98f40>
          │                 └ <bot_app.TelegramBot object at 0x7fde4ad376d0>
          └ <function on_startup_notify at 0x7fde4ac277f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fde4c5a3910>
          │  └ <aiogram.bot.bot.Bot object at 0x7fde4ad98ca0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fde4ad98f40>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fde4c55f4c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fde4c5a20e0>
                   └ <aiogram.bot.bot.Bot object at 0x7fde4ad98ca0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fde4ad98ca0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fde4ad98ca0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fde4c5a1990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fde4ad98ca0>
                 │   └ <function make_request at 0x7fde4c547010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fde4d0e1360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fde4d3fddf0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fde4c546d40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fde4c546710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:22:48.754333+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:23:23.265561+0900 WARNING Shutting down!..
2022-06-27T19:23:23.699060+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:23:23.699232+0900 WARNING Bye!
2022-06-27T19:23:25.692641+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f5daf2097e0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f5daf2088b0>
    └ <uvicorn.server.Server object at 0x7f5daf308190>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f5daf208940>
           │       │   └ <uvicorn.server.Server object at 0x7f5daf308190>
           │       └ <function run at 0x7f5db28bbd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f5daf1b3290>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f5db1f925f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f5db1f92560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f5db1f940d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f5db2143a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f5daf259090>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>
          │   │      │    └ <function LifespanOn.receive at 0x7f5daf259120>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5d...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5daf218be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5d...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5daf24b160>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5daf218be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5d...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5d...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5daf24ba30>
          └ <fastapi.applications.FastAPI object at 0x7f5daf24b160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5d...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5daf24b9d0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5daf24ba30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5d...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5daf24b9a0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5daf24b9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5d...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5daf24b940>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5daf24b9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5d...
          │    └ <fastapi.routing.APIRouter object at 0x7f5daf24b1c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5daf24b940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5daf218d60>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5d...
          │    └ <function Router.lifespan at 0x7f5daf986b90>
          └ <fastapi.routing.APIRouter object at 0x7f5daf24b1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f5daf24b160>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f5daf24b220>
               └ <fastapi.routing.APIRouter object at 0x7f5daf24b1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f5daf986a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f5daf24b1c0>
          └ <starlette.routing._DefaultLifespan object at 0x7f5daf24b220>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f5daf259900>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f5daf2bfe20>
          └ <bot_app.TelegramBot object at 0x7f5daf24b6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f5daf2bfeb0>
          └ <bot_app.TelegramBot object at 0x7f5daf24b6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5daf2a8f40>
          │                 └ <bot_app.TelegramBot object at 0x7f5daf24b6d0>
          └ <function on_startup_notify at 0x7f5daf13b760>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f5db0567910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f5daf2a8ca0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5daf2a8f40>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f5db05234c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f5db05660e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f5daf2a8ca0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f5daf2a8ca0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f5daf2a8ca0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f5db0565990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f5daf2a8ca0>
                 │   └ <function make_request at 0x7f5db050b010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f5db1305360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f5db18f9df0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f5db050ad40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f5db050a710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:23:26.204016+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:24:51.062769+0900 WARNING Shutting down!..
2022-06-27T19:24:51.626987+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:24:51.627196+0900 WARNING Bye!
2022-06-27T19:24:53.814086+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f943e7e17e0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f943e7e08b0>
    └ <uvicorn.server.Server object at 0x7f943e8b3fa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f943e7e0940>
           │       │   └ <uvicorn.server.Server object at 0x7f943e8b3fa0>
           │       └ <function run at 0x7f9441e7fd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f943e787220>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f944154e5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f944154e560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f94415500d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f9441703a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f943e831090>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>
          │   │      │    └ <function LifespanOn.receive at 0x7f943e831120>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f943e7e8af0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
                 │    └ <fastapi.applications.FastAPI object at 0x7f943e823070>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f943e7e8af0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f943e823940>
          └ <fastapi.applications.FastAPI object at 0x7f943e823070>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f943e8238e0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f943e823940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f943e8238b0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f943e8238e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f943e823850>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f943e8238b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <fastapi.routing.APIRouter object at 0x7f943e8230d0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f943e823850>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f943e7e8c70>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f94...
          │    └ <function Router.lifespan at 0x7f943ef52b90>
          └ <fastapi.routing.APIRouter object at 0x7f943e8230d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f943e823070>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f943e823130>
               └ <fastapi.routing.APIRouter object at 0x7f943e8230d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f943ef52a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f943e8230d0>
          └ <starlette.routing._DefaultLifespan object at 0x7f943e823130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f943e831900>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f943e893e20>
          └ <bot_app.TelegramBot object at 0x7f943e8235e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f943e893eb0>
          └ <bot_app.TelegramBot object at 0x7f943e8235e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f943e87ce80>
          │                 └ <bot_app.TelegramBot object at 0x7f943e8235e0>
          └ <function on_startup_notify at 0x7f943e70f760>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f943fb57910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f943e87cbe0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f943e87ce80>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f943fb13460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f943fb560e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f943e87cbe0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f943e87cbe0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f943e87cbe0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f943fb55990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f943e87cbe0>
                 │   └ <function make_request at 0x7f943fafb010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f9440da9360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f9440ee5e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f943fafad40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f943fafa710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:24:54.427620+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:25:11.481636+0900 WARNING Shutting down!..
2022-06-27T19:25:11.731816+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:25:11.732025+0900 WARNING Bye!
2022-06-27T19:25:13.921087+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f59810817e0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f59810808b0>
    └ <uvicorn.server.Server object at 0x7f59811800a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f5981080940>
           │       │   └ <uvicorn.server.Server object at 0x7f59811800a0>
           │       └ <function run at 0x7f5984723d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f5981027300>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f5983df25f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f5983df2560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f5983df40d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f5983fa7a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f59810d5090>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>
          │   │      │    └ <function LifespanOn.receive at 0x7f59810d5120>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f59...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f598108cb80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f59...
                 │    └ <fastapi.applications.FastAPI object at 0x7f59810cb100>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f598108cb80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f59...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f59...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f59810cb9d0>
          └ <fastapi.applications.FastAPI object at 0x7f59810cb100>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f59...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f59810cb970>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f59810cb9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f59...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f59810cb940>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f59810cb970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f59...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f59810cb8e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f59810cb940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f59...
          │    └ <fastapi.routing.APIRouter object at 0x7f59810cb160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f59810cb8e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f598108cd00>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f59...
          │    └ <function Router.lifespan at 0x7f59817e6b90>
          └ <fastapi.routing.APIRouter object at 0x7f59810cb160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f59810cb100>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f59810cb1c0>
               └ <fastapi.routing.APIRouter object at 0x7f59810cb160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f59817e6a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f59810cb160>
          └ <starlette.routing._DefaultLifespan object at 0x7f59810cb1c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f59810d5900>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f5981137e20>
          └ <bot_app.TelegramBot object at 0x7f59810cb670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f5981137eb0>
          └ <bot_app.TelegramBot object at 0x7f59810cb670>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5981120f10>
          │                 └ <bot_app.TelegramBot object at 0x7f59810cb670>
          └ <function on_startup_notify at 0x7f5980fb3760>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f5982457910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f5981120c70>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5981120f10>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f5982413490>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f59824560e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f5981120c70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f5981120c70>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f5981120c70>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f5982455990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f5981120c70>
                 │   └ <function make_request at 0x7f59823f7010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f59833f9360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f5983755ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f59823f6d40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f59823f6710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:25:14.496854+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:46:17.202177+0900 WARNING Shutting down!..
2022-06-27T19:46:17.818812+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:46:17.818976+0900 WARNING Bye!
2022-06-27T19:49:14.255536+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f0a40b59d80>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f0a40b58e50>
    └ <uvicorn.server.Server object at 0x7f0a40c39030>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f0a40b58ee0>
           │       │   └ <uvicorn.server.Server object at 0x7f0a40c39030>
           │       └ <function run at 0x7f0a441e3d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f0a40aff370>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f0a438b65f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f0a438b6560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f0a438bc0d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f0a43a6ba30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f0a40bb5630>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>
          │   │      │    └ <function LifespanOn.receive at 0x7f0a40bb56c0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f0a...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f0a40bc68f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f0a...
                 │    └ <fastapi.applications.FastAPI object at 0x7f0a40bc65f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f0a40bc68f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f0a...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f0a...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f0a40bc6e30>
          └ <fastapi.applications.FastAPI object at 0x7f0a40bc65f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f0a...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f0a40bc6dd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f0a40bc6e30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f0a...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f0a40bc6da0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f0a40bc6dd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f0a...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f0a40bc6d40>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f0a40bc6da0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f0a...
          │    └ <fastapi.routing.APIRouter object at 0x7f0a40bc6650>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f0a40bc6d40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0a40bc68c0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f0a...
          │    └ <function Router.lifespan at 0x7f0a412a2b90>
          └ <fastapi.routing.APIRouter object at 0x7f0a40bc6650>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f0a40bc65f0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f0a40bc66b0>
               └ <fastapi.routing.APIRouter object at 0x7f0a40bc6650>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f0a412a2a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f0a40bc6650>
          └ <starlette.routing._DefaultLifespan object at 0x7f0a40bc66b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f0a40bb5cf0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f0a40c443a0>
          └ <bot_app.TelegramBot object at 0x7f0a40bc6ad0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f0a40c44430>
          └ <bot_app.TelegramBot object at 0x7f0a40bc6ad0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f0a40bf56c0>
          │                 └ <bot_app.TelegramBot object at 0x7f0a40bc6ad0>
          └ <function on_startup_notify at 0x7f0a40a87b50>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f0a41f67910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f0a40bf5420>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f0a40bf56c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f0a41f23400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f0a41f660e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f0a40bf5420>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f0a40bf5420>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f0a40bf5420>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f0a41f65990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f0a40bf5420>
                 │   └ <function make_request at 0x7f0a41f0b010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f0a42d05360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f0a4325e070>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f0a41f0ad40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f0a41f0a710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:49:15.334126+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:49:35.804107+0900 WARNING Shutting down!..
2022-06-27T19:49:36.422992+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:49:36.423158+0900 WARNING Bye!
2022-06-27T19:49:37.923210+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fb9845b1fc0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fb9845b1090>
    └ <uvicorn.server.Server object at 0x7fb9846a4df0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fb9845b1120>
           │       │   └ <uvicorn.server.Server object at 0x7fb9846a4df0>
           │       └ <function run at 0x7fb987c4fd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fb9845575a0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fb9873225f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fb987322560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fb9873280d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fb9874d7a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fb98460d870>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>
          │   │      │    └ <function LifespanOn.receive at 0x7fb98460d900>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb9845c18d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb9845fbe50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb9845c18d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb984614760>
          └ <fastapi.applications.FastAPI object at 0x7fb9845fbe50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb984614700>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb984614760>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb9846146d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb984614700>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb984614670>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb9846146d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <fastapi.routing.APIRouter object at 0x7fb9845fbeb0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb984614670>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9845c1a50>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <function Router.lifespan at 0x7fb984d22b90>
          └ <fastapi.routing.APIRouter object at 0x7fb9845fbeb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fb9845fbe50>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fb9845fbf10>
               └ <fastapi.routing.APIRouter object at 0x7fb9845fbeb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fb984d22a70>
          │    └ <fastapi.routing.APIRouter object at 0x7fb9845fbeb0>
          └ <starlette.routing._DefaultLifespan object at 0x7fb9845fbf10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fb98460e0e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fb9846945e0>
          └ <bot_app.TelegramBot object at 0x7fb984614400>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fb984694670>
          └ <bot_app.TelegramBot object at 0x7fb984614400>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb984649750>
          │                 └ <bot_app.TelegramBot object at 0x7fb984614400>
          └ <function on_startup_notify at 0x7fb983b44040>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fb98596b910>
          │  └ <aiogram.bot.bot.Bot object at 0x7fb9846494b0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb984649750>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fb985927460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fb98596a0e0>
                   └ <aiogram.bot.bot.Bot object at 0x7fb9846494b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fb9846494b0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fb9846494b0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fb985969990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fb9846494b0>
                 │   └ <function make_request at 0x7fb98590b010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fb986709360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fb986c61f80>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fb98590ad40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fb98590a710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:49:38.525395+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:50:42.109427+0900 WARNING Shutting down!..
2022-06-27T19:50:42.935748+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:50:42.935959+0900 WARNING Bye!
2022-06-27T19:50:46.006877+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fd6a9141fc0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fd6a9141090>
    └ <uvicorn.server.Server object at 0x7fd6a9234e50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fd6a9141120>
           │       │   └ <uvicorn.server.Server object at 0x7fd6a9234e50>
           │       └ <function run at 0x7fd6ac7efd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fd6a90e3610>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fd6abec25f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fd6abec2560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fd6abec40d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fd6ac077a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fd6a9199870>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>
          │   │      │    └ <function LifespanOn.receive at 0x7fd6a9199900>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd6a9149930>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
                 │    └ <fastapi.applications.FastAPI object at 0x7fd6a9183eb0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd6a9149930>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd6a91a07c0>
          └ <fastapi.applications.FastAPI object at 0x7fd6a9183eb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd6a91a0760>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd6a91a07c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd6a91a0730>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd6a91a0760>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd6a91a06d0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd6a91a0730>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <fastapi.routing.APIRouter object at 0x7fd6a9183f10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd6a91a06d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6a9149ab0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <function Router.lifespan at 0x7fd6a98c2b90>
          └ <fastapi.routing.APIRouter object at 0x7fd6a9183f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fd6a9183eb0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fd6a9183f70>
               └ <fastapi.routing.APIRouter object at 0x7fd6a9183f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fd6a98c2a70>
          │    └ <fastapi.routing.APIRouter object at 0x7fd6a9183f10>
          └ <starlette.routing._DefaultLifespan object at 0x7fd6a9183f70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fd6a919a0e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fd6a92245e0>
          └ <bot_app.TelegramBot object at 0x7fd6a91a0460>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fd6a9224670>
          └ <bot_app.TelegramBot object at 0x7fd6a91a0460>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd6a94217b0>
          │                 └ <bot_app.TelegramBot object at 0x7fd6a91a0460>
          └ <function on_startup_notify at 0x7fd6a90d0040>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fd6aa55f910>
          │  └ <aiogram.bot.bot.Bot object at 0x7fd6a9421510>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd6a94217b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fd6aa51b4c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fd6aa55e0e0>
                   └ <aiogram.bot.bot.Bot object at 0x7fd6a9421510>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fd6a9421510>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fd6a9421510>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fd6aa55d990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fd6a9421510>
                 │   └ <function make_request at 0x7fd6aa4ff010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fd6ab301360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fd6ab85de40>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fd6aa4fed40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fd6aa4fe710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:50:46.825901+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:54:41.769956+0900 WARNING Shutting down!..
2022-06-27T19:54:42.553623+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:54:42.553799+0900 WARNING Bye!
2022-06-27T19:54:44.806032+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f5a9ce4dfc0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f5a9ce4d090>
    └ <uvicorn.server.Server object at 0x7f5a9cf44eb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f5a9ce4d120>
           │       │   └ <uvicorn.server.Server object at 0x7f5a9cf44eb0>
           │       └ <function run at 0x7f5aa04cbd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f5a9cdf35a0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f5a9fba25f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f5a9fba2560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f5a9fba40d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f5a9fd53a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f5a9cea9870>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>
          │   │      │    └ <function LifespanOn.receive at 0x7f5a9cea9900>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5a9ce59990>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5a9ce93f10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5a9ce59990>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5a9ceb0820>
          └ <fastapi.applications.FastAPI object at 0x7f5a9ce93f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5a9ceb07c0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5a9ceb0820>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5a9ceb0790>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5a9ceb07c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5a9ceb0730>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5a9ceb0790>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          │    └ <fastapi.routing.APIRouter object at 0x7f5a9ce93f70>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5a9ceb0730>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a9ce59b10>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          │    └ <function Router.lifespan at 0x7f5a9d592b90>
          └ <fastapi.routing.APIRouter object at 0x7f5a9ce93f70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f5a9ce93f10>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f5a9ce93fd0>
               └ <fastapi.routing.APIRouter object at 0x7f5a9ce93f70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f5a9d592a70>
          │    └ <fastapi.routing.APIRouter object at 0x7f5a9ce93f70>
          └ <starlette.routing._DefaultLifespan object at 0x7f5a9ce93fd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f5a9ceaa0e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f5a9cf345e0>
          └ <bot_app.TelegramBot object at 0x7f5a9ceb04c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f5a9cf34670>
          └ <bot_app.TelegramBot object at 0x7f5a9ceb04c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5a9cee5810>
          │                 └ <bot_app.TelegramBot object at 0x7f5a9ceb04c0>
          └ <function on_startup_notify at 0x7f5a9cbe4040>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f5a9e163910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f5a9cee5570>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5a9cee5810>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f5a9e11f460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f5a9e1620e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f5a9cee5570>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f5a9cee5570>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f5a9cee5570>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f5a9e161990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f5a9cee5570>
                 │   └ <function make_request at 0x7f5a9e103010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f5a9ef05360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f5a9f4f9e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f5a9e102d40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f5a9e102710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:54:45.524571+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:55:02.278802+0900 WARNING Shutting down!..
2022-06-27T19:55:02.521950+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:55:02.522156+0900 WARNING Bye!
2022-06-27T19:55:04.058391+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fd6b10aa050>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fd6b10a9120>
    └ <uvicorn.server.Server object at 0x7fd6b119cf40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fd6b10a91b0>
           │       │   └ <uvicorn.server.Server object at 0x7fd6b119cf40>
           │       └ <function run at 0x7fd6b4757d00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fd6b1247530>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fd6b3e2a5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fd6b3e2a560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fd6b3e2c0d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fd6b3fdfa30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fd6b1101900>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>
          │   │      │    └ <function LifespanOn.receive at 0x7fd6b1101990>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd6b10b1a20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
                 │    └ <fastapi.applications.FastAPI object at 0x7fd6b10ebfa0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd6b10b1a20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd6b11088b0>
          └ <fastapi.applications.FastAPI object at 0x7fd6b10ebfa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd6b1108850>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd6b11088b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd6b1108820>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd6b1108850>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd6b11087c0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd6b1108820>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <fastapi.routing.APIRouter object at 0x7fd6b1108040>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd6b11087c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd6b10b1ba0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd6...
          │    └ <function Router.lifespan at 0x7fd6b181ab90>
          └ <fastapi.routing.APIRouter object at 0x7fd6b1108040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fd6b10ebfa0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fd6b11080a0>
               └ <fastapi.routing.APIRouter object at 0x7fd6b1108040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fd6b181aa70>
          │    └ <fastapi.routing.APIRouter object at 0x7fd6b1108040>
          └ <starlette.routing._DefaultLifespan object at 0x7fd6b11080a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fd6b1102170>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fd6b1188670>
          └ <bot_app.TelegramBot object at 0x7fd6b1108550>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fd6b1188700>
          └ <bot_app.TelegramBot object at 0x7fd6b1108550>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd6b13858a0>
          │                 └ <bot_app.TelegramBot object at 0x7fd6b1108550>
          └ <function on_startup_notify at 0x7fd6b10380d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fd6b245f910>
          │  └ <aiogram.bot.bot.Bot object at 0x7fd6b1385600>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd6b13858a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fd6b241b5b0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fd6b245e0e0>
                   └ <aiogram.bot.bot.Bot object at 0x7fd6b1385600>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fd6b1385600>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fd6b1385600>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fd6b245d990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fd6b1385600>
                 │   └ <function make_request at 0x7fd6b2403010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fd6b33fd360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fd6b375df30>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fd6b2402d40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fd6b2402710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:55:04.671690+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:59:17.236970+0900 WARNING Shutting down!..
2022-06-27T19:59:17.398448+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:59:17.398623+0900 WARNING Bye!
2022-06-27T19:59:18.824550+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f5354b06170>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f5354b05240>
    └ <uvicorn.server.Server object at 0x7f5354bf9300>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f5354b052d0>
           │       │   └ <uvicorn.server.Server object at 0x7f5354bf9300>
           │       └ <function run at 0x7f535818bd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f5354aab5a0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f535785e5f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f535785e560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f53578600d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f5357a13a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f5354b61a20>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>
          │   │      │    └ <function LifespanOn.receive at 0x7f5354b61ab0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f53...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5354b11de0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f53...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5354b683a0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5354b11de0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f53...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f53...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5354b68c70>
          └ <fastapi.applications.FastAPI object at 0x7f5354b683a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f53...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5354b68c10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5354b68c70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f53...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5354b68be0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5354b68c10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f53...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5354b68b80>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5354b68be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f53...
          │    └ <fastapi.routing.APIRouter object at 0x7f5354b68400>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5354b68b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5354b11f60>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f53...
          │    └ <function Router.lifespan at 0x7f535524eb90>
          └ <fastapi.routing.APIRouter object at 0x7f5354b68400>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f5354b683a0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f5354b68460>
               └ <fastapi.routing.APIRouter object at 0x7f5354b68400>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f535524ea70>
          │    └ <fastapi.routing.APIRouter object at 0x7f5354b68400>
          └ <starlette.routing._DefaultLifespan object at 0x7f5354b68460>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f5354b62290>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f5354bf0820>
          └ <bot_app.TelegramBot object at 0x7f5354b68910>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f5354bf08b0>
          └ <bot_app.TelegramBot object at 0x7f5354b68910>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5354ba18a0>
          │                 └ <bot_app.TelegramBot object at 0x7f5354b68910>
          └ <function on_startup_notify at 0x7f5354a940d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f5355e5b910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f5354ba1600>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5354ba18a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f5355e174f0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f5355e5a0e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f5354ba1600>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f5354ba1600>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f5354ba1600>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f5355e59990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f5354ba1600>
                 │   └ <function make_request at 0x7f5355dff010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f5356dfd360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f53571f1e40>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f5355dfed40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f5355dfe710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:59:19.293755+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T19:59:33.364699+0900 WARNING Shutting down!..
2022-06-27T19:59:33.576587+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T19:59:33.576811+0900 WARNING Bye!
2022-06-27T19:59:35.203002+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f377ef12170>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f377ef11240>
    └ <uvicorn.server.Server object at 0x7f377f0012a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f377ef112d0>
           │       │   └ <uvicorn.server.Server object at 0x7f377f0012a0>
           │       └ <function run at 0x7f37825bbd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f377eebb5a0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f3781c925f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f3781c92560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f3781c940d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f3781e43a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f377ef6da20>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>
          │   │      │    └ <function LifespanOn.receive at 0x7f377ef6dab0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f37...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f377ef1dd80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f37...
                 │    └ <fastapi.applications.FastAPI object at 0x7f377ef74340>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f377ef1dd80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f37...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f37...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f377ef74c10>
          └ <fastapi.applications.FastAPI object at 0x7f377ef74340>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f37...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f377ef74bb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f377ef74c10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f37...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f377ef74b80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f377ef74bb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f37...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f377ef74b20>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f377ef74b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f37...
          │    └ <fastapi.routing.APIRouter object at 0x7f377ef743a0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f377ef74b20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f377ef1df00>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f37...
          │    └ <function Router.lifespan at 0x7f377f68eb90>
          └ <fastapi.routing.APIRouter object at 0x7f377ef743a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f377ef74340>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f377ef74400>
               └ <fastapi.routing.APIRouter object at 0x7f377ef743a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f377f68ea70>
          │    └ <fastapi.routing.APIRouter object at 0x7f377ef743a0>
          └ <starlette.routing._DefaultLifespan object at 0x7f377ef74400>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f377ef6e290>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f377eff8820>
          └ <bot_app.TelegramBot object at 0x7f377ef748b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f377eff88b0>
          └ <bot_app.TelegramBot object at 0x7f377ef748b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f377efa9840>
          │                 └ <bot_app.TelegramBot object at 0x7f377ef748b0>
          └ <function on_startup_notify at 0x7f377e4a80d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f37807a3910>
          │  └ <aiogram.bot.bot.Bot object at 0x7f377efa95a0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f377efa9840>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f378075f490>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f37807a20e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f377efa95a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f377efa95a0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f377efa95a0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f37807a1990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f377efa95a0>
                 │   └ <function make_request at 0x7f3780743010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f37812e5360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f37815f1f30>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f3780742d40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f3780742710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T19:59:35.663240+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T20:01:19.891861+0900 WARNING Shutting down!..
2022-06-27T20:01:20.342061+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T20:01:20.342249+0900 WARNING Bye!
2022-06-27T20:01:21.783213+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 175, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fa021b96170>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fa021b95240>
    └ <uvicorn.server.Server object at 0x7fa021c81240>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fa021b952d0>
           │       │   └ <uvicorn.server.Server object at 0x7fa021c81240>
           │       └ <function run at 0x7fa02522fd00>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fa0235a7b50>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fa0249025f0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fa024902560>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fa0249080d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fa024ab7a30>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fa021bf1a20>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>
          │   │      │    └ <function LifespanOn.receive at 0x7fa021bf1ab0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa0...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa021ba1d20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa0...
                 │    └ <fastapi.applications.FastAPI object at 0x7fa021bf82e0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa021ba1d20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa0...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa0...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa021bf8bb0>
          └ <fastapi.applications.FastAPI object at 0x7fa021bf82e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa0...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa021bf8b50>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa021bf8bb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa0...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa021bf8b20>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa021bf8b50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa0...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa021bf8ac0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa021bf8b20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa0...
          │    └ <fastapi.routing.APIRouter object at 0x7fa021bf8340>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa021bf8ac0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa021ba1ea0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa0...
          │    └ <function Router.lifespan at 0x7fa0222deb90>
          └ <fastapi.routing.APIRouter object at 0x7fa021bf8340>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fa021bf82e0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fa021bf83a0>
               └ <fastapi.routing.APIRouter object at 0x7fa021bf8340>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fa0222dea70>
          │    └ <fastapi.routing.APIRouter object at 0x7fa021bf8340>
          └ <starlette.routing._DefaultLifespan object at 0x7fa021bf83a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fa021bf2290>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 47, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fa021c7c820>
          └ <bot_app.TelegramBot object at 0x7fa021bf8850>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fa021c7c8b0>
          └ <bot_app.TelegramBot object at 0x7fa021bf8850>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fa021e497e0>
          │                 └ <bot_app.TelegramBot object at 0x7fa021bf8850>
          └ <function on_startup_notify at 0x7fa021b280d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fa022f67910>
          │  └ <aiogram.bot.bot.Bot object at 0x7fa021e49540>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fa021e497e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fa022f23430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fa022f660e0>
                   └ <aiogram.bot.bot.Bot object at 0x7fa021e49540>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fa021e49540>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fa021e49540>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fa022f65990>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fa021e49540>
                 │   └ <function make_request at 0x7fa022f0b010>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fa023d05360>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fa024265f80>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fa022f0ad40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fa022f0a710>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T20:01:22.326680+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T20:38:41.854248+0900 INFO Unable to post message
2022-06-27T21:10:06.881830+0900 WARNING Shutting down!..
2022-06-27T21:10:07.441541+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T21:10:07.441722+0900 WARNING Bye!
2022-06-27T22:37:48.023446+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f55444d6320>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f55444d53f0>
    └ <uvicorn.server.Server object at 0x7f55445a9c60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f55444d5480>
           │       │   └ <uvicorn.server.Server object at 0x7f55445a9c60>
           │       └ <function run at 0x7f5547b7fc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f55444835a0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f5547252560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f55472524d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f5547254040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f55474039a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f5544535bd0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f5544553700>
          │   │      │    └ <function LifespanOn.receive at 0x7f5544535c60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f5544553700>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5544553730>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5544553700>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5544553700>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5544553430>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5544553730>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5544553700>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5544553700>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5544553700>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5544553700>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5544553c70>
          └ <fastapi.applications.FastAPI object at 0x7f5544553430>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5544553700>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5544553700>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5544553c10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5544553c70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5544553700>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5544553700>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5544553be0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5544553c10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5544553700>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5544553700>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5544553b80>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5544553be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5544553700>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5544553700>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          │    └ <fastapi.routing.APIRouter object at 0x7f5544553490>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5544553b80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5544553700>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5544553700>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f55...
          │    └ <function Router.lifespan at 0x7f5544c52b00>
          └ <fastapi.routing.APIRouter object at 0x7f5544553490>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f5544553430>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f55445534f0>
               └ <fastapi.routing.APIRouter object at 0x7f5544553490>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f5544c529e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f5544553490>
          └ <starlette.routing._DefaultLifespan object at 0x7f55445534f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f5544536290>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f55445c49d0>
          └ <bot_app.TelegramBot object at 0x7f5544553910>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f55445c4a60>
          └ <bot_app.TelegramBot object at 0x7f5544553910>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f55445888e0>
          │                 └ <bot_app.TelegramBot object at 0x7f5544553910>
          └ <function on_startup_notify at 0x7f5543a701f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f5545853880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f5544588640>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f55445888e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f554580f490>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f5545852050>
                   └ <aiogram.bot.bot.Bot object at 0x7f5544588640>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f5544588640>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f5544588640>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f5545851900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f5544588640>
                 │   └ <function make_request at 0x7f55457f6f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f55467f12d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f5546be5f30>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f55457f6cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f55457f6680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T22:37:48.546316+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T22:41:31.361192+0900 WARNING Shutting down!..
2022-06-27T22:41:31.901495+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T22:41:31.901666+0900 WARNING Bye!
2022-06-27T22:41:34.002456+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f281bbde440>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f281bbdd510>
    └ <uvicorn.server.Server object at 0x7f281bcd17e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f281bbdd5a0>
           │       │   └ <uvicorn.server.Server object at 0x7f281bcd17e0>
           │       └ <function run at 0x7f281f26fc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f281bb8b530>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f281e946560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f281e9464d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f281e948040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f281eaf79a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f281bc3dcf0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f281bbe6440>
          │   │      │    └ <function LifespanOn.receive at 0x7f281bc3dd80>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f281bbe6440>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f28...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f281bbe62c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f281bbe6440>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f281bbe6440>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f28...
                 │    └ <fastapi.applications.FastAPI object at 0x7f281bc44880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f281bbe62c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f281bbe6440>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f281bbe6440>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f28...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f281bbe6440>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f281bbe6440>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f28...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f281bc45150>
          └ <fastapi.applications.FastAPI object at 0x7f281bc44880>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f281bbe6440>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f281bbe6440>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f28...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f281bc450f0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f281bc45150>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f281bbe6440>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f281bbe6440>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f28...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f281bc450c0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f281bc450f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f281bbe6440>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f281bbe6440>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f28...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f281bc45060>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f281bc450c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f281bbe6440>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f281bbe6440>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f28...
          │    └ <fastapi.routing.APIRouter object at 0x7f281bc448e0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f281bc45060>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f281bbe6440>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f281bbe6440>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f28...
          │    └ <function Router.lifespan at 0x7f281c352b00>
          └ <fastapi.routing.APIRouter object at 0x7f281bc448e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f281bc44880>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f281bc44940>
               └ <fastapi.routing.APIRouter object at 0x7f281bc448e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f281c3529e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f281bc448e0>
          └ <starlette.routing._DefaultLifespan object at 0x7f281bc44940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f281bc3e4d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f281bcc4af0>
          └ <bot_app.TelegramBot object at 0x7f281bc44df0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f281bcc4b80>
          └ <bot_app.TelegramBot object at 0x7f281bc44df0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f281bc8c880>
          │                 └ <bot_app.TelegramBot object at 0x7f281bc44df0>
          └ <function on_startup_notify at 0x7f281b9783a0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f281cf6b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f281bc8c5e0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f281bc8c880>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f281cf27460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f281cf6a050>
                   └ <aiogram.bot.bot.Bot object at 0x7f281bc8c5e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f281bc8c5e0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f281bc8c5e0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f281cf69900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f281bc8c5e0>
                 │   └ <function make_request at 0x7f281cf0ef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f281dd0d2d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f281e265ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f281cf0ecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f281cf0e680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T22:41:34.565421+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T22:42:40.367625+0900 WARNING Shutting down!..
2022-06-27T22:42:40.834538+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T22:42:40.834766+0900 WARNING Bye!
2022-06-27T22:44:20.107281+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f9a27d463b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f9a27d45480>
    └ <uvicorn.server.Server object at 0x7f9a27e1e4a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f9a27d45510>
           │       │   └ <uvicorn.server.Server object at 0x7f9a27e1e4a0>
           │       └ <function run at 0x7f9a2b3efc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f9a27cf3530>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f9a2aac6560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f9a2aac64d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f9a2aac8040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f9a2ac779a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f9a27da5c60>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27d4e470>
          │   │      │    └ <function LifespanOn.receive at 0x7f9a27da5cf0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27d4e470>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9a...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9a27d4e2f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27d4e470>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27d4e470>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9a...
                 │    └ <fastapi.applications.FastAPI object at 0x7f9a27dac8b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9a27d4e2f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27d4e470>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27d4e470>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9a...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27d4e470>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27d4e470>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9a...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9a27dad180>
          └ <fastapi.applications.FastAPI object at 0x7f9a27dac8b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27d4e470>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27d4e470>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9a...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9a27dad120>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9a27dad180>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27d4e470>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27d4e470>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9a...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9a27dad0f0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9a27dad120>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27d4e470>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27d4e470>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9a...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f9a27dad090>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9a27dad0f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27d4e470>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27d4e470>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9a...
          │    └ <fastapi.routing.APIRouter object at 0x7f9a27dac910>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f9a27dad090>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27d4e470>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27d4e470>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9a...
          │    └ <function Router.lifespan at 0x7f9a284ceb00>
          └ <fastapi.routing.APIRouter object at 0x7f9a27dac910>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f9a27dac8b0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f9a27dac970>
               └ <fastapi.routing.APIRouter object at 0x7f9a27dac910>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f9a284ce9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f9a27dac910>
          └ <starlette.routing._DefaultLifespan object at 0x7f9a27dac970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f9a27da6440>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f9a27e38a60>
          └ <bot_app.TelegramBot object at 0x7f9a27dace20>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f9a27e38af0>
          └ <bot_app.TelegramBot object at 0x7f9a27dace20>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9a27df48e0>
          │                 └ <bot_app.TelegramBot object at 0x7f9a27dace20>
          └ <function on_startup_notify at 0x7f9a27cd8310>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f9a2916b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f9a27df4640>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9a27df48e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f9a291274c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f9a2916a050>
                   └ <aiogram.bot.bot.Bot object at 0x7f9a27df4640>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f9a27df4640>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f9a27df4640>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f9a29169900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f9a27df4640>
                 │   └ <function make_request at 0x7f9a2910ef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f9a29f0d2d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f9a2a465ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f9a2910ecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f9a2910e680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T22:44:20.570886+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T22:46:17.067397+0900 WARNING Shutting down!..
2022-06-27T22:46:17.631403+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T22:46:17.631639+0900 WARNING Bye!
2022-06-27T22:46:20.489369+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f67a5dc9510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 46205, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f67a5dc8550>
              └ <__main__.PyDB object at 0x7f67a5f4d4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f67a5dc85e0>
           └ <__main__.PyDB object at 0x7f67a5f4d4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f67a6348f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f6795e6b910>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f6795e6ba30>
    └ <uvicorn.server.Server object at 0x7f6795f798d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f6795e6bac0>
           │       │   └ <uvicorn.server.Server object at 0x7f6795f798d0>
           │       └ <function run at 0x7f67a5f7d5a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f6795e90cf0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f67a5fdfd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f67a5fdfc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f67a5fed7e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f67a5f451b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f6795ee0e50>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f6795e67d30>
          │   │      │    └ <function LifespanOn.receive at 0x7f6795ee0ee0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f6795e67d30>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f67...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f6795f79c30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6795e67d30>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6795e67d30>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f67...
                 │    └ <fastapi.applications.FastAPI object at 0x7f6795d11330>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f6795f79c30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6795e67d30>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6795e67d30>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f67...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6795e67d30>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6795e67d30>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f67...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f6795d11b70>
          └ <fastapi.applications.FastAPI object at 0x7f6795d11330>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6795e67d30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6795e67d30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f67...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f6795d11b10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f6795d11b70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6795e67d30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6795e67d30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f67...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f6795d11ae0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f6795d11b10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6795e67d30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6795e67d30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f67...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f6795d11a80>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f6795d11ae0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6795e67d30>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6795e67d30>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f67...
          │    └ <fastapi.routing.APIRouter object at 0x7f6795d11390>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f6795d11a80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6795e67d30>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6795e67d30>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f67...
          │    └ <function Router.lifespan at 0x7f67965765f0>
          └ <fastapi.routing.APIRouter object at 0x7f6795d11390>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f6795d11330>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f6795d113f0>
               └ <fastapi.routing.APIRouter object at 0x7f6795d11390>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f67965764d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f6795d11390>
          └ <starlette.routing._DefaultLifespan object at 0x7f6795d113f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f6795ee1a20>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f6795f665f0>
          └ <bot_app.TelegramBot object at 0x7f6795d11810>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f6795f66680>
          └ <bot_app.TelegramBot object at 0x7f6795d11810>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f6795f24d90>
          │                 └ <bot_app.TelegramBot object at 0x7f6795d11810>
          └ <function on_startup_notify at 0x7f6795c80040>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f67977c0b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f6795f244f0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f6795f24d90>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f6797763370>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f679778b2e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f6795f244f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f6795f244f0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f6795f244f0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f679778ab90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f6795f244f0>
                 │   └ <function make_request at 0x7f6797788160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f67a4150e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f67a4246660>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f6797723e20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f67977237f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T22:46:21.011124+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T22:46:47.513566+0900 WARNING Shutting down!..
2022-06-27T22:46:47.665962+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T22:46:47.666355+0900 WARNING Bye!
2022-06-27T22:46:50.907291+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7ff407395510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 34309, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7ff407394550>
              └ <__main__.PyDB object at 0x7ff4075194b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7ff4073945e0>
           └ <__main__.PyDB object at 0x7ff4075194b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7ff407914f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7ff3f7423910>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7ff3f7423a30>
    └ <uvicorn.server.Server object at 0x7ff3f7531ba0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7ff3f7423ac0>
           │       │   └ <uvicorn.server.Server object at 0x7ff3f7531ba0>
           │       └ <function run at 0x7ff4075495a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7ff3f7448c80>
           │    └ <function BaseEventLoop.run_until_complete at 0x7ff4075abd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7ff4075abc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7ff4075b97e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7ff4075111b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7ff3f72c4e50>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7ff3f7531f00>
          │   │      │    └ <function LifespanOn.receive at 0x7ff3f72c4ee0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7ff3f7531f00>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff3...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff3f7531e10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff3f7531f00>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff3f7531f00>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff3...
                 │    └ <fastapi.applications.FastAPI object at 0x7ff3f72c8f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff3f7531e10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff3f7531f00>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff3f7531f00>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff3...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff3f7531f00>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff3f7531f00>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff3...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff3f72c9c30>
          └ <fastapi.applications.FastAPI object at 0x7ff3f72c8f70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff3f7531f00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff3f7531f00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff3...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff3f72c9bd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff3f72c9c30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff3f7531f00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff3f7531f00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff3...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff3f72c9ba0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff3f72c9bd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff3f7531f00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff3f7531f00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff3...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7ff3f72c9b40>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff3f72c9ba0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff3f7531f00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff3f7531f00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff3...
          │    └ <fastapi.routing.APIRouter object at 0x7ff3f72c8f10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7ff3f72c9b40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff3f7531f00>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff3f7531f00>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff3...
          │    └ <function Router.lifespan at 0x7ff3f7b2e5f0>
          └ <fastapi.routing.APIRouter object at 0x7ff3f72c8f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7ff3f72c8f70>
               │    └ <starlette.routing._DefaultLifespan object at 0x7ff3f72c8be0>
               └ <fastapi.routing.APIRouter object at 0x7ff3f72c8f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7ff3f7b2e4d0>
          │    └ <fastapi.routing.APIRouter object at 0x7ff3f72c8f10>
          └ <starlette.routing._DefaultLifespan object at 0x7ff3f72c8be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7ff3f72c5a20>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7ff3f751e5f0>
          └ <bot_app.TelegramBot object at 0x7ff3f72c98d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7ff3f751e680>
          └ <bot_app.TelegramBot object at 0x7ff3f72c98d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7ff3f74dce50>
          │                 └ <bot_app.TelegramBot object at 0x7ff3f72c98d0>
          └ <function on_startup_notify at 0x7ff3f7234040>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7ff404280b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7ff3f74dc5b0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7ff3f74dce50>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7ff404223400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7ff4042572e0>
                   └ <aiogram.bot.bot.Bot object at 0x7ff3f74dc5b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7ff3f74dc5b0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7ff3f74dc5b0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7ff404256b90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7ff3f74dc5b0>
                 │   └ <function make_request at 0x7ff404254160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7ff405138e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7ff40550a700>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7ff4041e7e20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7ff4041e77f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T22:46:51.577966+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T22:47:33.273415+0900 WARNING Shutting down!..
2022-06-27T22:47:33.437276+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T22:47:33.437565+0900 WARNING Bye!
2022-06-27T22:47:53.125135+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f6388d11510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 37623, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f6388d10550>
              └ <__main__.PyDB object at 0x7f6388e954b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f6388d105e0>
           └ <__main__.PyDB object at 0x7f6388e954b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f6389290f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f6380d63910>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f6380d63a30>
    └ <uvicorn.server.Server object at 0x7f6380e71c00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f6380d63ac0>
           │       │   └ <uvicorn.server.Server object at 0x7f6380e71c00>
           │       └ <function run at 0x7f6388ec55a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f6380d88cf0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f6388f27d00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f6388f27c70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f6388f357e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f6388e8d1b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f6380c04e50>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f6380e71f60>
          │   │      │    └ <function LifespanOn.receive at 0x7f6380c04ee0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f6380e71f60>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f63...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f6380e71e70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6380e71f60>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6380e71f60>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f63...
                 │    └ <fastapi.applications.FastAPI object at 0x7f6380c08fd0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f6380e71e70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6380e71f60>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6380e71f60>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f63...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6380e71f60>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6380e71f60>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f63...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f6380c09c90>
          └ <fastapi.applications.FastAPI object at 0x7f6380c08fd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6380e71f60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6380e71f60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f63...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f6380c09c30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f6380c09c90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6380e71f60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6380e71f60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f63...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f6380c09c00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f6380c09c30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6380e71f60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6380e71f60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f63...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f6380c09ba0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f6380c09c00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6380e71f60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6380e71f60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f63...
          │    └ <fastapi.routing.APIRouter object at 0x7f6380c08f70>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f6380c09ba0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f6380e71f60>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f6380e71f60>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f63...
          │    └ <function Router.lifespan at 0x7f638146e5f0>
          └ <fastapi.routing.APIRouter object at 0x7f6380c08f70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f6380c08fd0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f6380c08c40>
               └ <fastapi.routing.APIRouter object at 0x7f6380c08f70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f638146e4d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f6380c08f70>
          └ <starlette.routing._DefaultLifespan object at 0x7f6380c08c40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f6380c05a20>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f6380e5e5f0>
          └ <bot_app.TelegramBot object at 0x7f6380c09930>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f6380e5e680>
          └ <bot_app.TelegramBot object at 0x7f6380c09930>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f6380e1ceb0>
          │                 └ <bot_app.TelegramBot object at 0x7f6380c09930>
          └ <function on_startup_notify at 0x7f6380b74040>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f63823b8b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f6380e1c610>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f6380e1ceb0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f638235b460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f63823832e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f6380e1c610>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f6380e1c610>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f6380e1c610>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f6382382b90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f6380e1c610>
                 │   └ <function make_request at 0x7f6382380160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f6388098e50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f63881925c0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f638231fe20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f638231f7f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T22:47:53.713741+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T22:50:52.158176+0900 WARNING Shutting down!..
2022-06-27T22:50:52.720851+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T22:50:52.721118+0900 WARNING Bye!
2022-06-27T22:50:57.075607+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f5a7e965510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 38053, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f5a7e964550>
              └ <__main__.PyDB object at 0x7f5a7eae94b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f5a7e9645e0>
           └ <__main__.PyDB object at 0x7f5a7eae94b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f5a7eee4f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f5a6e9c3880>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f5a6e9c39a0>
    └ <uvicorn.server.Server object at 0x7f5a6ead1ba0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f5a6e9c3a30>
           │       │   └ <uvicorn.server.Server object at 0x7f5a6ead1ba0>
           │       └ <function run at 0x7f5a7eb195a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f5a6e9ecd60>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f5a7eb7bd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f5a7eb7bc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f5a7eb897e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f5a7eae11b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f5a6e864dc0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f5a6ead1f00>
          │   │      │    └ <function LifespanOn.receive at 0x7f5a6e864e50>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f5a6ead1f00>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5a6ead1e10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a6ead1f00>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a6ead1f00>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5a6e868f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5a6ead1e10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a6ead1f00>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a6ead1f00>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a6ead1f00>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a6ead1f00>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5a6e869c30>
          └ <fastapi.applications.FastAPI object at 0x7f5a6e868f70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a6ead1f00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a6ead1f00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5a6e869bd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5a6e869c30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a6ead1f00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a6ead1f00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5a6e869ba0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5a6e869bd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a6ead1f00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a6ead1f00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5a6e869b40>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5a6e869ba0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a6ead1f00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a6ead1f00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          │    └ <fastapi.routing.APIRouter object at 0x7f5a6e868f10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5a6e869b40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a6ead1f00>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5a6ead1f00>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5a...
          │    └ <function Router.lifespan at 0x7f5a6f0ca5f0>
          └ <fastapi.routing.APIRouter object at 0x7f5a6e868f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f5a6e868f70>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f5a6e868be0>
               └ <fastapi.routing.APIRouter object at 0x7f5a6e868f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f5a6f0ca4d0>
          │    └ <fastapi.routing.APIRouter object at 0x7f5a6e868f10>
          └ <starlette.routing._DefaultLifespan object at 0x7f5a6e868be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f5a6e865990>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f5a6eabe680>
          └ <bot_app.TelegramBot object at 0x7f5a6e8698d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f5a6eabe710>
          └ <bot_app.TelegramBot object at 0x7f5a6e8698d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5a6ea7ce20>
          │                 └ <bot_app.TelegramBot object at 0x7f5a6e8698d0>
          └ <function on_startup_notify at 0x7f5a6e797e20>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f5a6ffc0b80>
          │  └ <aiogram.bot.bot.Bot object at 0x7f5a6ea7c580>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5a6ea7ce20>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f5a6ff633d0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f5a6ff8b2e0>
                   └ <aiogram.bot.bot.Bot object at 0x7f5a6ea7c580>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f5a6ea7c580>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f5a6ea7c580>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f5a6ff8ab90>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f5a6ea7c580>
                 │   └ <function make_request at 0x7f5a6ff88160>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f5a7c73ce50>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f5a7cb0e700>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f5a6ff27e20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f5a6ff277f0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T22:50:57.580347+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T22:51:28.939268+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7fb5403a5510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 40165, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7fb5403a4550>
              └ <__main__.PyDB object at 0x7fb5402cd4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7fb5403a45e0>
           └ <__main__.PyDB object at 0x7fb5402cd4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7fb5406bcf70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fb53c1eb910>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fb53c1eba30>
    └ <uvicorn.server.Server object at 0x7fb53c2f9b10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fb53c1ebac0>
           │       │   └ <uvicorn.server.Server object at 0x7fb53c2f9b10>
           │       └ <function run at 0x7fb5402d95a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fb53c214dd0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fb540347d00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fb540347c70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fb5403557e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fb5402c51b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fb53c288e50>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb53c1e3f70>
          │   │      │    └ <function LifespanOn.receive at 0x7fb53c288ee0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb53c1e3f70>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb5...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb53c2f9e70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb53c1e3f70>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb53c1e3f70>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb5...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb53c28cee0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb53c2f9e70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb53c1e3f70>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb53c1e3f70>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb5...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb53c1e3f70>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb53c1e3f70>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb5...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb53c28dba0>
          └ <fastapi.applications.FastAPI object at 0x7fb53c28cee0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb53c1e3f70>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb53c1e3f70>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb5...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb53c28db40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb53c28dba0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb53c1e3f70>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb53c1e3f70>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb5...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb53c28db10>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb53c28db40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb53c1e3f70>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb53c1e3f70>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb5...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb53c28dab0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb53c28db10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb53c1e3f70>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb53c1e3f70>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb5...
          │    └ <fastapi.routing.APIRouter object at 0x7fb53c28ce80>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb53c28dab0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb53c1e3f70>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb53c1e3f70>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb5...
          │    └ <function Router.lifespan at 0x7fb53c902680>
          └ <fastapi.routing.APIRouter object at 0x7fb53c28ce80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fb53c28cee0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fb53c28cb50>
               └ <fastapi.routing.APIRouter object at 0x7fb53c28ce80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fb53c902560>
          │    └ <fastapi.routing.APIRouter object at 0x7fb53c28ce80>
          └ <starlette.routing._DefaultLifespan object at 0x7fb53c28cb50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fb53c289a20>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fb53c2e6710>
          └ <bot_app.TelegramBot object at 0x7fb53c28d840>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fb53c2e67a0>
          └ <bot_app.TelegramBot object at 0x7fb53c28d840>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb53c2a4d90>
          │                 └ <bot_app.TelegramBot object at 0x7fb53c28d840>
          └ <function on_startup_notify at 0x7fb52ff580d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fb53d068c10>
          │  └ <aiogram.bot.bot.Bot object at 0x7fb53c2a44f0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb53c2a4d90>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fb53d00b370>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fb53d033370>
                   └ <aiogram.bot.bot.Bot object at 0x7fb53c2a44f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fb53c2a44f0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fb53c2a44f0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fb53d032c20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fb53c2a44f0>
                 │   └ <function make_request at 0x7fb53d0301f0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fb53df20ee0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fb53e8ba390>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fb53cfcfeb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fb53cfcf880>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T22:51:29.320796+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T22:51:56.661620+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f95db141510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 43891, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f95db140550>
              └ <__main__.PyDB object at 0x7f95db2d54b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f95db1405e0>
           └ <__main__.PyDB object at 0x7f95db2d54b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f95db6bcf70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f95cb1fb910>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f95cb1fba30>
    └ <uvicorn.server.Server object at 0x7f95cb309c60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f95cb1fbac0>
           │       │   └ <uvicorn.server.Server object at 0x7f95cb309c60>
           │       └ <function run at 0x7f95db2f95a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f95cb224d60>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f95db357d00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f95db357c70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f95db3657e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f95db2c11b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f95cb0a4e50>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f95cb309fc0>
          │   │      │    └ <function LifespanOn.receive at 0x7f95cb0a4ee0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f95cb309fc0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f95...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f95cb309ed0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f95cb309fc0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f95cb309fc0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f95...
                 │    └ <fastapi.applications.FastAPI object at 0x7f95cb299030>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f95cb309ed0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f95cb309fc0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f95cb309fc0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f95...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f95cb309fc0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f95cb309fc0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f95...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f95cb299cf0>
          └ <fastapi.applications.FastAPI object at 0x7f95cb299030>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f95cb309fc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f95cb309fc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f95...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f95cb299c90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f95cb299cf0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f95cb309fc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f95cb309fc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f95...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f95cb299c60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f95cb299c90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f95cb309fc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f95cb309fc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f95...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f95cb299c00>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f95cb299c60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f95cb309fc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f95cb309fc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f95...
          │    └ <fastapi.routing.APIRouter object at 0x7f95cb298fd0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f95cb299c00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f95cb309fc0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f95cb309fc0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f95...
          │    └ <function Router.lifespan at 0x7f95cb916680>
          └ <fastapi.routing.APIRouter object at 0x7f95cb298fd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f95cb299030>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f95cb298ca0>
               └ <fastapi.routing.APIRouter object at 0x7f95cb298fd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f95cb916560>
          │    └ <fastapi.routing.APIRouter object at 0x7f95cb298fd0>
          └ <starlette.routing._DefaultLifespan object at 0x7f95cb298ca0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f95cb0a5a20>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f95cb2f6710>
          └ <bot_app.TelegramBot object at 0x7f95cb299990>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f95cb2f67a0>
          └ <bot_app.TelegramBot object at 0x7f95cb299990>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f95cb2b4ee0>
          │                 └ <bot_app.TelegramBot object at 0x7f95cb299990>
          └ <function on_startup_notify at 0x7f95cb00c0d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f95cbfb0c10>
          │  └ <aiogram.bot.bot.Bot object at 0x7f95cb2b4640>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f95cb2b4ee0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f95cbf53490>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f95cbf7b370>
                   └ <aiogram.bot.bot.Bot object at 0x7f95cb2b4640>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f95cb2b4640>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f95cb2b4640>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f95cbf7ac20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f95cb2b4640>
                 │   └ <function make_request at 0x7f95cbf781f0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f95d8f34ee0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f95d93065c0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f95cbf17eb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f95cbf17880>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T22:51:57.025842+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T22:53:53.748222+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fb0a3536440>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fb0a3535510>
    └ <uvicorn.server.Server object at 0x7fb0a362d840>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fb0a35355a0>
           │       │   └ <uvicorn.server.Server object at 0x7fb0a362d840>
           │       └ <function run at 0x7fb0a6bf3c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fb0a34e34c0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fb0a62c6560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fb0a62c64d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fb0a62c8040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fb0a64779a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fb0a3595cf0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb0a353e4a0>
          │   │      │    └ <function LifespanOn.receive at 0x7fb0a3595d80>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb0a353e4a0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb0...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb0a353e320>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb0a353e4a0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb0a353e4a0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb0...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb0a359c8e0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb0a353e320>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb0a353e4a0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb0a353e4a0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb0...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb0a353e4a0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb0a353e4a0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb0...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb0a359d1b0>
          └ <fastapi.applications.FastAPI object at 0x7fb0a359c8e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb0a353e4a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb0a353e4a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb0...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb0a359d150>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb0a359d1b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb0a353e4a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb0a353e4a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb0...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb0a359d120>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb0a359d150>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb0a353e4a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb0a353e4a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb0...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb0a359d0c0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb0a359d120>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb0a353e4a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb0a353e4a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb0...
          │    └ <fastapi.routing.APIRouter object at 0x7fb0a359c940>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb0a359d0c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb0a353e4a0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb0a353e4a0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb0...
          │    └ <function Router.lifespan at 0x7fb0a3cc2b00>
          └ <fastapi.routing.APIRouter object at 0x7fb0a359c940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fb0a359c8e0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fb0a359c9a0>
               └ <fastapi.routing.APIRouter object at 0x7fb0a359c940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fb0a3cc29e0>
          │    └ <fastapi.routing.APIRouter object at 0x7fb0a359c940>
          └ <starlette.routing._DefaultLifespan object at 0x7fb0a359c9a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fb0a35964d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fb0a35fcaf0>
          └ <bot_app.TelegramBot object at 0x7fb0a359ce50>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fb0a35fcb80>
          └ <bot_app.TelegramBot object at 0x7fb0a359ce50>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb0a35e88b0>
          │                 └ <bot_app.TelegramBot object at 0x7fb0a359ce50>
          └ <function on_startup_notify at 0x7fb0a34c83a0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fb0a495b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7fb0a35e8610>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb0a35e88b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fb0a4917490>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fb0a495a050>
                   └ <aiogram.bot.bot.Bot object at 0x7fb0a35e8610>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fb0a35e8610>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fb0a35e8610>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fb0a4959900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fb0a35e8610>
                 │   └ <function make_request at 0x7fb0a48fef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fb0a5b1d2d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fb0a5c55d00>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fb0a48fecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fb0a48fe680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T22:53:54.129127+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T22:54:16.791863+0900 WARNING Shutting down!..
2022-06-27T22:54:17.504838+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T22:54:17.505063+0900 WARNING Bye!
2022-06-27T22:54:19.136059+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f07ec0ce440>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f07ec0cd510>
    └ <uvicorn.server.Server object at 0x7f07ec1a1db0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f07ec0cd5a0>
           │       │   └ <uvicorn.server.Server object at 0x7f07ec1a1db0>
           │       └ <function run at 0x7f07ef753c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f07ec07b4c0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f07eee26560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f07eee264d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f07eee2c040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f07eefdb9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f07ec12dcf0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f07ec0d6440>
          │   │      │    └ <function LifespanOn.receive at 0x7f07ec12dd80>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f07ec0d6440>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f07...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f07ec0d62c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f07ec0d6440>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f07ec0d6440>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f07...
                 │    └ <fastapi.applications.FastAPI object at 0x7f07ec134880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f07ec0d62c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f07ec0d6440>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f07ec0d6440>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f07...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f07ec0d6440>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f07ec0d6440>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f07...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f07ec135150>
          └ <fastapi.applications.FastAPI object at 0x7f07ec134880>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f07ec0d6440>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f07ec0d6440>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f07...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f07ec1350f0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f07ec135150>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f07ec0d6440>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f07ec0d6440>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f07...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f07ec1350c0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f07ec1350f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f07ec0d6440>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f07ec0d6440>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f07...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f07ec135060>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f07ec1350c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f07ec0d6440>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f07ec0d6440>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f07...
          │    └ <fastapi.routing.APIRouter object at 0x7f07ec1348e0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f07ec135060>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f07ec0d6440>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f07ec0d6440>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f07...
          │    └ <function Router.lifespan at 0x7f07ec81eb00>
          └ <fastapi.routing.APIRouter object at 0x7f07ec1348e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f07ec134880>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f07ec134940>
               └ <fastapi.routing.APIRouter object at 0x7f07ec1348e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f07ec81e9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f07ec1348e0>
          └ <starlette.routing._DefaultLifespan object at 0x7f07ec134940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f07ec12e4d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f07ec1b8af0>
          └ <bot_app.TelegramBot object at 0x7f07ec134df0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f07ec1b8b80>
          └ <bot_app.TelegramBot object at 0x7f07ec134df0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f07ec178850>
          │                 └ <bot_app.TelegramBot object at 0x7f07ec134df0>
          └ <function on_startup_notify at 0x7f07ec0643a0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f07ed45f880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f07ec1785b0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f07ec178850>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f07ed41b460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f07ed45e050>
                   └ <aiogram.bot.bot.Bot object at 0x7f07ec1785b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f07ec1785b0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f07ec1785b0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f07ed45d900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f07ec1785b0>
                 │   └ <function make_request at 0x7f07ed402f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f07edf012d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f07ee75dee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f07ed402cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f07ed402680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T22:54:19.623606+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T22:55:45.368934+0900 WARNING Shutting down!..
2022-06-27T22:55:45.810043+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T22:55:45.810214+0900 WARNING Bye!
2022-06-27T22:55:47.560876+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f132d3d63b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f132d3d5480>
    └ <uvicorn.server.Server object at 0x7f132d4b0790>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f132d3d5510>
           │       │   └ <uvicorn.server.Server object at 0x7f132d4b0790>
           │       └ <function run at 0x7f1330a6bc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f132d3835a0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f1330142560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f13301424d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f1330144040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f13302f39a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f132d435c60>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f132d3de4a0>
          │   │      │    └ <function LifespanOn.receive at 0x7f132d435cf0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f132d3de4a0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f132d3de320>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132d3de4a0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132d3de4a0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
                 │    └ <fastapi.applications.FastAPI object at 0x7f132d4388e0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f132d3de320>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132d3de4a0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132d3de4a0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132d3de4a0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132d3de4a0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f132d4391b0>
          └ <fastapi.applications.FastAPI object at 0x7f132d4388e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132d3de4a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132d3de4a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f132d439150>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f132d4391b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132d3de4a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132d3de4a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f132d439120>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f132d439150>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132d3de4a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132d3de4a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f132d4390c0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f132d439120>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132d3de4a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132d3de4a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          │    └ <fastapi.routing.APIRouter object at 0x7f132d438940>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f132d4390c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f132d3de4a0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f132d3de4a0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f13...
          │    └ <function Router.lifespan at 0x7f132db52b00>
          └ <fastapi.routing.APIRouter object at 0x7f132d438940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f132d4388e0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f132d4389a0>
               └ <fastapi.routing.APIRouter object at 0x7f132d438940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f132db529e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f132d438940>
          └ <starlette.routing._DefaultLifespan object at 0x7f132d4389a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f132d436440>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f132d4c4940>
          └ <bot_app.TelegramBot object at 0x7f132d438e50>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f132d4c49d0>
          └ <bot_app.TelegramBot object at 0x7f132d438e50>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f132d4808b0>
          │                 └ <bot_app.TelegramBot object at 0x7f132d438e50>
          └ <function on_startup_notify at 0x7f132d170310>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f132e76b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f132d480610>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f132d4808b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f132e7274c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f132e76a050>
                   └ <aiogram.bot.bot.Bot object at 0x7f132d480610>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f132d480610>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f132d480610>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f132e769900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f132d480610>
                 │   └ <function make_request at 0x7f132e70ef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f132f5092d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f132fa65e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f132e70ecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f132e70e680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T22:55:48.087657+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T22:56:22.993050+0900 WARNING Shutting down!..
2022-06-27T22:56:23.138160+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T22:56:23.138332+0900 WARNING Bye!
2022-06-27T22:56:24.896296+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f119af6e440>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f119af6d510>
    └ <uvicorn.server.Server object at 0x7f119b041db0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f119af6d5a0>
           │       │   └ <uvicorn.server.Server object at 0x7f119b041db0>
           │       └ <function run at 0x7f119e60bc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f119af1b4c0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f119dce2560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f119dce24d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f119dce4040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f119de939a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f119afcdcf0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f119af76440>
          │   │      │    └ <function LifespanOn.receive at 0x7f119afcdd80>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f119af76440>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f11...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f119af762c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f119af76440>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f119af76440>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f11...
                 │    └ <fastapi.applications.FastAPI object at 0x7f119afd4880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f119af762c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f119af76440>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f119af76440>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f11...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f119af76440>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f119af76440>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f11...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f119afd5150>
          └ <fastapi.applications.FastAPI object at 0x7f119afd4880>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f119af76440>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f119af76440>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f11...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f119afd50f0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f119afd5150>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f119af76440>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f119af76440>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f11...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f119afd50c0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f119afd50f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f119af76440>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f119af76440>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f11...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f119afd5060>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f119afd50c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f119af76440>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f119af76440>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f11...
          │    └ <fastapi.routing.APIRouter object at 0x7f119afd48e0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f119afd5060>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f119af76440>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f119af76440>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f11...
          │    └ <function Router.lifespan at 0x7f119b6d2b00>
          └ <fastapi.routing.APIRouter object at 0x7f119afd48e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f119afd4880>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f119afd4940>
               └ <fastapi.routing.APIRouter object at 0x7f119afd48e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f119b6d29e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f119afd48e0>
          └ <starlette.routing._DefaultLifespan object at 0x7f119afd4940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f119afce4d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f119b0589d0>
          └ <bot_app.TelegramBot object at 0x7f119afd4df0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f119b058a60>
          └ <bot_app.TelegramBot object at 0x7f119afd4df0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f119b01c850>
          │                 └ <bot_app.TelegramBot object at 0x7f119afd4df0>
          └ <function on_startup_notify at 0x7f119ad083a0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f119c367880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f119b01c5b0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f119b01c850>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f119c323430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f119c366050>
                   └ <aiogram.bot.bot.Bot object at 0x7f119b01c5b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f119b01c5b0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f119b01c5b0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f119c365900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f119b01c5b0>
                 │   └ <function make_request at 0x7f119c30af80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f119d1092d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f119d669e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f119c30acb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f119c30a680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T22:56:25.386132+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T22:57:45.627893+0900 WARNING Shutting down!..
2022-06-27T22:57:45.775187+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T22:57:45.775394+0900 WARNING Bye!
2022-06-27T22:57:47.714878+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fc00baba440>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fc00bab9510>
    └ <uvicorn.server.Server object at 0x7fc00bbad780>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fc00bab95a0>
           │       │   └ <uvicorn.server.Server object at 0x7fc00bbad780>
           │       └ <function run at 0x7fc00f153c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fc00ba67530>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fc00e82a560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fc00e82a4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fc00e82c040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fc00e9db9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fc00bb19cf0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fc00bac23e0>
          │   │      │    └ <function LifespanOn.receive at 0x7fc00bb19d80>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fc00bac23e0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc0...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc00bac2260>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc00bac23e0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc00bac23e0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc0...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc00bb1c820>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc00bac2260>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc00bac23e0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc00bac23e0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc0...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc00bac23e0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc00bac23e0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc0...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc00bb1d0f0>
          └ <fastapi.applications.FastAPI object at 0x7fc00bb1c820>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc00bac23e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc00bac23e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc0...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc00bb1d090>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc00bb1d0f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc00bac23e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc00bac23e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc0...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc00bb1d060>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc00bb1d090>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc00bac23e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc00bac23e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc0...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fc00bb1d000>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc00bb1d060>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc00bac23e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc00bac23e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc0...
          │    └ <fastapi.routing.APIRouter object at 0x7fc00bb1c880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fc00bb1d000>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc00bac23e0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc00bac23e0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc0...
          │    └ <function Router.lifespan at 0x7fc00c236b00>
          └ <fastapi.routing.APIRouter object at 0x7fc00bb1c880>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fc00bb1c820>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fc00bb1c8e0>
               └ <fastapi.routing.APIRouter object at 0x7fc00bb1c880>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fc00c2369e0>
          │    └ <fastapi.routing.APIRouter object at 0x7fc00bb1c880>
          └ <starlette.routing._DefaultLifespan object at 0x7fc00bb1c8e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fc00bb1a4d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fc00bba09d0>
          └ <bot_app.TelegramBot object at 0x7fc00bb1cd90>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fc00bba0a60>
          └ <bot_app.TelegramBot object at 0x7fc00bb1cd90>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fc00bb68820>
          │                 └ <bot_app.TelegramBot object at 0x7fc00bb1cd90>
          └ <function on_startup_notify at 0x7fc00b8543a0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fc00d3ab880>
          │  └ <aiogram.bot.bot.Bot object at 0x7fc00bb68580>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fc00bb68820>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fc00d367460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fc00d3aa050>
                   └ <aiogram.bot.bot.Bot object at 0x7fc00bb68580>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fc00bb68580>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fc00bb68580>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fc00d3a9900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fc00bb68580>
                 │   └ <function make_request at 0x7fc00d34ef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fc00de812d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fc00df71e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fc00d34ecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fc00d34e680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T22:57:48.173744+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T22:58:27.292276+0900 WARNING Shutting down!..
2022-06-27T22:58:27.444187+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T22:58:27.444405+0900 WARNING Bye!
2022-06-27T22:58:30.015586+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f0403941510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 44573, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f0403940550>
              └ <__main__.PyDB object at 0x7f04038694b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f04039405e0>
           └ <__main__.PyDB object at 0x7f04038694b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f0403c58f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f03f37279a0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f03f3727ac0>
    └ <uvicorn.server.Server object at 0x7f03f3839ba0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f03f3727b50>
           │       │   └ <uvicorn.server.Server object at 0x7f03f3839ba0>
           │       └ <function run at 0x7f04038755a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f03f374ccf0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f04038e3d00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f04038e3c70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f04038f17e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f04038611b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f03f37c4ee0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f03f3839f00>
          │   │      │    └ <function LifespanOn.receive at 0x7f03f37c4f70>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f03f3839f00>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f03...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f03f3839e10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f03f3839f00>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f03f3839f00>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f03...
                 │    └ <fastapi.applications.FastAPI object at 0x7f03f37c8f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f03f3839e10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f03f3839f00>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f03f3839f00>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f03...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f03f3839f00>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f03f3839f00>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f03...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f03f37c9c30>
          └ <fastapi.applications.FastAPI object at 0x7f03f37c8f70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f03f3839f00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f03f3839f00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f03...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f03f37c9bd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f03f37c9c30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f03f3839f00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f03f3839f00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f03...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f03f37c9ba0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f03f37c9bd0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f03f3839f00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f03f3839f00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f03...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f03f37c9b40>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f03f37c9ba0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f03f3839f00>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f03f3839f00>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f03...
          │    └ <fastapi.routing.APIRouter object at 0x7f03f37c8f10>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f03f37c9b40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f03f3839f00>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f03f3839f00>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f03...
          │    └ <function Router.lifespan at 0x7f03f3e4e680>
          └ <fastapi.routing.APIRouter object at 0x7f03f37c8f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f03f37c8f70>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f03f37c8be0>
               └ <fastapi.routing.APIRouter object at 0x7f03f37c8f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f03f3e4e560>
          │    └ <fastapi.routing.APIRouter object at 0x7f03f37c8f10>
          └ <starlette.routing._DefaultLifespan object at 0x7f03f37c8be0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f03f37c5ab0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f03f3826680>
          └ <bot_app.TelegramBot object at 0x7f03f37c98d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f03f3826710>
          └ <bot_app.TelegramBot object at 0x7f03f37c98d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f03f39e4e50>
          │                 └ <bot_app.TelegramBot object at 0x7f03f37c98d0>
          └ <function on_startup_notify at 0x7f03f352c0d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f0400668c10>
          │  └ <aiogram.bot.bot.Bot object at 0x7f03f39e45b0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f03f39e4e50>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f040060f400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f0400637370>
                   └ <aiogram.bot.bot.Bot object at 0x7f03f39e45b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f03f39e45b0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f03f39e45b0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f0400636c20>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f03f39e45b0>
                 │   └ <function make_request at 0x7f04006341f0>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f0401520ee0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f0401e56660>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f04005cfeb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f04005cf880>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T22:58:30.534250+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T23:00:12.531383+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f272e04a440>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f272e049510>
    └ <uvicorn.server.Server object at 0x7f272e13d720>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f272e0495a0>
           │       │   └ <uvicorn.server.Server object at 0x7f272e13d720>
           │       └ <function run at 0x7f27316c7c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f272dff7530>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f2730d9e560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f2730d9e4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f2730da0040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f2730f4f9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f272e0a9cf0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f272e052380>
          │   │      │    └ <function LifespanOn.receive at 0x7f272e0a9d80>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f272e052380>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f27...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f272e052200>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f272e052380>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f272e052380>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f27...
                 │    └ <fastapi.applications.FastAPI object at 0x7f272e0ac7c0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f272e052200>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f272e052380>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f272e052380>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f27...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f272e052380>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f272e052380>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f27...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f272e0ad090>
          └ <fastapi.applications.FastAPI object at 0x7f272e0ac7c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f272e052380>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f272e052380>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f27...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f272e0ad030>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f272e0ad090>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f272e052380>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f272e052380>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f27...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f272e0ad000>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f272e0ad030>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f272e052380>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f272e052380>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f27...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f272e0acfa0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f272e0ad000>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f272e052380>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f272e052380>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f27...
          │    └ <fastapi.routing.APIRouter object at 0x7f272e0ac820>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f272e0acfa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f272e052380>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f272e052380>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f27...
          │    └ <function Router.lifespan at 0x7f272e796b00>
          └ <fastapi.routing.APIRouter object at 0x7f272e0ac820>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f272e0ac7c0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f272e0ac880>
               └ <fastapi.routing.APIRouter object at 0x7f272e0ac820>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f272e7969e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f272e0ac820>
          └ <starlette.routing._DefaultLifespan object at 0x7f272e0ac880>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f272e0aa4d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f272e1309d0>
          └ <bot_app.TelegramBot object at 0x7f272e0acd30>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f272e130a60>
          └ <bot_app.TelegramBot object at 0x7f272e0acd30>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f272e0f87c0>
          │                 └ <bot_app.TelegramBot object at 0x7f272e0acd30>
          └ <function on_startup_notify at 0x7f272dde43a0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f272f363880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f272e0f8520>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f272e0f87c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f272f31f3a0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f272f362050>
                   └ <aiogram.bot.bot.Bot object at 0x7f272e0f8520>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f272e0f8520>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f272e0f8520>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f272f361900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f272e0f8520>
                 │   └ <function make_request at 0x7f272f306f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f27301052d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f27306f1ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f272f306cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f272f306680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T23:00:12.877200+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T23:00:23.407842+0900 WARNING Shutting down!..
2022-06-27T23:00:23.554245+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T23:00:23.554599+0900 WARNING Bye!
2022-06-27T23:00:27.060507+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f901e686440>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f901e685510>
    └ <uvicorn.server.Server object at 0x7f901e779870>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f901e6855a0>
           │       │   └ <uvicorn.server.Server object at 0x7f901e779870>
           │       └ <function run at 0x7f9021d33c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f901e633530>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f9021406560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f90214064d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f9021408040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f90215b79a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f901e6e5cf0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f901e68e4d0>
          │   │      │    └ <function LifespanOn.receive at 0x7f901e6e5d80>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f901e68e4d0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f90...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f901e68e350>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f901e68e4d0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f901e68e4d0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f90...
                 │    └ <fastapi.applications.FastAPI object at 0x7f901e6e8910>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f901e68e350>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f901e68e4d0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f901e68e4d0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f90...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f901e68e4d0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f901e68e4d0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f90...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f901e6e91e0>
          └ <fastapi.applications.FastAPI object at 0x7f901e6e8910>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f901e68e4d0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f901e68e4d0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f90...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f901e6e9180>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f901e6e91e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f901e68e4d0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f901e68e4d0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f90...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f901e6e9150>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f901e6e9180>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f901e68e4d0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f901e68e4d0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f90...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f901e6e90f0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f901e6e9150>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f901e68e4d0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f901e68e4d0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f90...
          │    └ <fastapi.routing.APIRouter object at 0x7f901e6e8970>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f901e6e90f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f901e68e4d0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f901e68e4d0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f90...
          │    └ <function Router.lifespan at 0x7f901edeab00>
          └ <fastapi.routing.APIRouter object at 0x7f901e6e8970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f901e6e8910>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f901e6e89d0>
               └ <fastapi.routing.APIRouter object at 0x7f901e6e8970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f901edea9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f901e6e8970>
          └ <starlette.routing._DefaultLifespan object at 0x7f901e6e89d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f901e6e64d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f901e7489d0>
          └ <bot_app.TelegramBot object at 0x7f901e6e8e80>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f901e748a60>
          └ <bot_app.TelegramBot object at 0x7f901e6e8e80>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f901e7348b0>
          │                 └ <bot_app.TelegramBot object at 0x7f901e6e8e80>
          └ <function on_startup_notify at 0x7f901e4203a0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f901fa57880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f901e734610>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f901e7348b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f901fa134c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f901fa56050>
                   └ <aiogram.bot.bot.Bot object at 0x7f901e734610>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f901e734610>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f901e734610>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f901fa55900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f901e734610>
                 │   └ <function make_request at 0x7f901f9faf80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f90209f92d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f9020d55ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f901f9facb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f901f9fa680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T23:00:27.627886+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T23:02:07.427797+0900 WARNING Shutting down!..
2022-06-27T23:02:07.570238+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T23:02:07.570467+0900 WARNING Bye!
2022-06-27T23:02:09.638288+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7faeff0d6320>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7faeff0d53f0>
    └ <uvicorn.server.Server object at 0x7faeff1aa410>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7faeff0d5480>
           │       │   └ <uvicorn.server.Server object at 0x7faeff1aa410>
           │       └ <function run at 0x7faf0278fc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7faeff083530>
           │    └ <function BaseEventLoop.run_until_complete at 0x7faf01e62560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7faf01e624d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7faf01e64040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7faf020139a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7faeff135bd0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7faeff0de3e0>
          │   │      │    └ <function LifespanOn.receive at 0x7faeff135c60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7faeff0de3e0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fae...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7faeff0de260>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7faeff0de3e0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7faeff0de3e0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fae...
                 │    └ <fastapi.applications.FastAPI object at 0x7faeff13c820>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7faeff0de260>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7faeff0de3e0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7faeff0de3e0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fae...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7faeff0de3e0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7faeff0de3e0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fae...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7faeff13d0f0>
          └ <fastapi.applications.FastAPI object at 0x7faeff13c820>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7faeff0de3e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7faeff0de3e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fae...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7faeff13d090>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7faeff13d0f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7faeff0de3e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7faeff0de3e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fae...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7faeff13d060>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7faeff13d090>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7faeff0de3e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7faeff0de3e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fae...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7faeff13d000>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7faeff13d060>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7faeff0de3e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7faeff0de3e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fae...
          │    └ <fastapi.routing.APIRouter object at 0x7faeff13c880>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7faeff13d000>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7faeff0de3e0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7faeff0de3e0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fae...
          │    └ <function Router.lifespan at 0x7faeff84ab00>
          └ <fastapi.routing.APIRouter object at 0x7faeff13c880>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7faeff13c820>
               │    └ <starlette.routing._DefaultLifespan object at 0x7faeff13c8e0>
               └ <fastapi.routing.APIRouter object at 0x7faeff13c880>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7faeff84a9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7faeff13c880>
          └ <starlette.routing._DefaultLifespan object at 0x7faeff13c8e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7faeff1363b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7faeff1c48b0>
          └ <bot_app.TelegramBot object at 0x7faeff13cd90>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7faeff1c4940>
          └ <bot_app.TelegramBot object at 0x7faeff13cd90>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7faeff184850>
          │                 └ <bot_app.TelegramBot object at 0x7faeff13cd90>
          └ <function on_startup_notify at 0x7faeff06c280>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7faf00453880>
          │  └ <aiogram.bot.bot.Bot object at 0x7faeff1845b0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7faeff184850>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7faf0040f430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7faf00452050>
                   └ <aiogram.bot.bot.Bot object at 0x7faeff1845b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7faeff1845b0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7faeff1845b0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7faf00451900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7faeff1845b0>
                 │   └ <function make_request at 0x7faf003f6f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7faf013f52d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7faf017e5f30>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7faf003f6cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7faf003f6680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T23:02:10.093134+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T23:02:41.786160+0900 WARNING Shutting down!..
2022-06-27T23:02:41.934097+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T23:02:41.934292+0900 WARNING Bye!
2022-06-27T23:02:44.185418+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7ff779fbe440>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7ff779fbd510>
    └ <uvicorn.server.Server object at 0x7ff77a096470>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7ff779fbd5a0>
           │       │   └ <uvicorn.server.Server object at 0x7ff77a096470>
           │       └ <function run at 0x7ff77d643c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7ff779f6b530>
           │    └ <function BaseEventLoop.run_until_complete at 0x7ff77cd1a560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7ff77cd1a4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7ff77cd1c040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7ff77cecb9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7ff77a01dcf0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7ff779fc6440>
          │   │      │    └ <function LifespanOn.receive at 0x7ff77a01dd80>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7ff779fc6440>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff7...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff779fc62c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff779fc6440>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff779fc6440>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff7...
                 │    └ <fastapi.applications.FastAPI object at 0x7ff77a024880>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff779fc62c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff779fc6440>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff779fc6440>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff7...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff779fc6440>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff779fc6440>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff7...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff77a025150>
          └ <fastapi.applications.FastAPI object at 0x7ff77a024880>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff779fc6440>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff779fc6440>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff7...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff77a0250f0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff77a025150>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff779fc6440>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff779fc6440>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff7...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff77a0250c0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff77a0250f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff779fc6440>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff779fc6440>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff7...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7ff77a025060>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff77a0250c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff779fc6440>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff779fc6440>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff7...
          │    └ <fastapi.routing.APIRouter object at 0x7ff77a0248e0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7ff77a025060>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff779fc6440>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff779fc6440>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff7...
          │    └ <function Router.lifespan at 0x7ff77a6feb00>
          └ <fastapi.routing.APIRouter object at 0x7ff77a0248e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7ff77a024880>
               │    └ <starlette.routing._DefaultLifespan object at 0x7ff77a024940>
               └ <fastapi.routing.APIRouter object at 0x7ff77a0248e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7ff77a6fe9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7ff77a0248e0>
          └ <starlette.routing._DefaultLifespan object at 0x7ff77a024940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7ff77a01e4d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7ff77a0b09d0>
          └ <bot_app.TelegramBot object at 0x7ff77a024df0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7ff77a0b0a60>
          └ <bot_app.TelegramBot object at 0x7ff77a024df0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7ff77a06c8b0>
          │                 └ <bot_app.TelegramBot object at 0x7ff77a024df0>
          └ <function on_startup_notify at 0x7ff779d503a0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7ff77b36b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7ff77a06c610>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7ff77a06c8b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7ff77b327490>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7ff77b36a050>
                   └ <aiogram.bot.bot.Bot object at 0x7ff77a06c610>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7ff77a06c610>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7ff77a06c610>
                 │   │                  │    └ <function BaseBot.get_session at 0x7ff77b369900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7ff77a06c610>
                 │   └ <function make_request at 0x7ff77b30ef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7ff77c1092d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7ff77c669e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7ff77b30ecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7ff77b30e680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T23:02:44.668320+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T23:03:46.441227+0900 WARNING Shutting down!..
2022-06-27T23:03:46.999449+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T23:03:46.999617+0900 WARNING Bye!
2022-06-27T23:51:25.761882+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f32620d6680>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f32620d5750>
    └ <uvicorn.server.Server object at 0x7f32621c5930>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f32620d57e0>
           │       │   └ <uvicorn.server.Server object at 0x7f32621c5930>
           │       └ <function run at 0x7f326578bc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f3262083450>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f3264e5e560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f3264e5e4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f3264e60040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f326500f9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f3262139f30>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f32620de590>
          │   │      │    └ <function LifespanOn.receive at 0x7f3262139fc0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f32620de590>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f32...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f32620de410>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f32620de590>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f32620de590>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f32...
                 │    └ <fastapi.applications.FastAPI object at 0x7f326213c9d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f32620de410>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f32620de590>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f32620de590>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f32...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f32620de590>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f32620de590>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f32...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f326213d2a0>
          └ <fastapi.applications.FastAPI object at 0x7f326213c9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f32620de590>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f32620de590>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f32...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f326213d240>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f326213d2a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f32620de590>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f32620de590>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f32...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f326213d210>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f326213d240>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f32620de590>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f32620de590>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f32...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f326213d1b0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f326213d210>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f32620de590>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f32620de590>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f32...
          │    └ <fastapi.routing.APIRouter object at 0x7f326213ca30>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f326213d1b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f32620de590>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f32620de590>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f32...
          │    └ <function Router.lifespan at 0x7f326284ab00>
          └ <fastapi.routing.APIRouter object at 0x7f326213ca30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f326213c9d0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f326213ca90>
               └ <fastapi.routing.APIRouter object at 0x7f326213ca30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f326284a9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f326213ca30>
          └ <starlette.routing._DefaultLifespan object at 0x7f326213ca90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f326213a710>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f32621bcc10>
          └ <bot_app.TelegramBot object at 0x7f326213cf40>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f32621bcca0>
          └ <bot_app.TelegramBot object at 0x7f326213cf40>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f3262184940>
          │                 └ <bot_app.TelegramBot object at 0x7f326213cf40>
          └ <function on_startup_notify at 0x7f326205c5e0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f3263453880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f32621846a0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f3262184940>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f326340f400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f3263452050>
                   └ <aiogram.bot.bot.Bot object at 0x7f32621846a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f32621846a0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f32621846a0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f3263451900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f32621846a0>
                 │   └ <function make_request at 0x7f32633f6f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f32643f52d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f32647e5f80>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f32633f6cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f32633f6680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T23:51:26.283080+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T23:52:10.310946+0900 WARNING Shutting down!..
2022-06-27T23:52:10.461849+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T23:52:10.462171+0900 WARNING Bye!
2022-06-27T23:52:13.898899+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f68b9b0a560>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f68b9b09630>
    └ <uvicorn.server.Server object at 0x7f68b9bde5f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f68b9b096c0>
           │       │   └ <uvicorn.server.Server object at 0x7f68b9bde5f0>
           │       └ <function run at 0x7f68bd19fc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f68b9ab7530>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f68bc876560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f68bc8764d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f68bc878040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f68bca279a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f68b9b69e10>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f68b9b125c0>
          │   │      │    └ <function LifespanOn.receive at 0x7f68b9b69ea0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f68b9b125c0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f68...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f68b9b12440>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f68b9b125c0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f68b9b125c0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f68...
                 │    └ <fastapi.applications.FastAPI object at 0x7f68b9b70a00>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f68b9b12440>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f68b9b125c0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f68b9b125c0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f68...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f68b9b125c0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f68b9b125c0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f68...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f68b9b712d0>
          └ <fastapi.applications.FastAPI object at 0x7f68b9b70a00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f68b9b125c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f68b9b125c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f68...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f68b9b71270>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f68b9b712d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f68b9b125c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f68b9b125c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f68...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f68b9b71240>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f68b9b71270>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f68b9b125c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f68b9b125c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f68...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f68b9b711e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f68b9b71240>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f68b9b125c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f68b9b125c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f68...
          │    └ <fastapi.routing.APIRouter object at 0x7f68b9b70a60>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f68b9b711e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f68b9b125c0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f68b9b125c0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f68...
          │    └ <function Router.lifespan at 0x7f68ba27ab00>
          └ <fastapi.routing.APIRouter object at 0x7f68b9b70a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f68b9b70a00>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f68b9b70ac0>
               └ <fastapi.routing.APIRouter object at 0x7f68b9b70a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f68ba27a9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f68b9b70a60>
          └ <starlette.routing._DefaultLifespan object at 0x7f68b9b70ac0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f68b9b6a5f0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f68b9bf8af0>
          └ <bot_app.TelegramBot object at 0x7f68b9b70f70>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f68b9bf8b80>
          └ <bot_app.TelegramBot object at 0x7f68b9b70f70>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f68b9bb4970>
          │                 └ <bot_app.TelegramBot object at 0x7f68b9b70f70>
          └ <function on_startup_notify at 0x7f68b98944c0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f68bb3a3880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f68b9bb46d0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f68b9bb4970>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f68bb35f460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f68bb3a2050>
                   └ <aiogram.bot.bot.Bot object at 0x7f68b9bb46d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f68b9bb46d0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f68b9bb46d0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f68bb3a1900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f68b9bb46d0>
                 │   └ <function make_request at 0x7f68bb346f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f68bbee12d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f68bc1fde90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f68bb346cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f68bb346680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T23:52:14.395039+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T23:52:49.500007+0900 WARNING Shutting down!..
2022-06-27T23:52:50.060591+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T23:52:50.060868+0900 WARNING Bye!
2022-06-27T23:52:51.918834+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fb7c676e560>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fb7c676d630>
    └ <uvicorn.server.Server object at 0x7fb7c6842590>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fb7c676d6c0>
           │       │   └ <uvicorn.server.Server object at 0x7fb7c6842590>
           │       └ <function run at 0x7fb7c9e0fc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fb7c671b610>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fb7c94e6560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fb7c94e64d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fb7c94e8040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fb7c96979a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fb7c67cde10>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb7c6776560>
          │   │      │    └ <function LifespanOn.receive at 0x7fb7c67cdea0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb7c6776560>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb7...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb7c67763e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb7c6776560>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb7c6776560>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb7...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb7c67d49a0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb7c67763e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb7c6776560>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb7c6776560>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb7...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb7c6776560>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb7c6776560>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb7...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb7c67d5270>
          └ <fastapi.applications.FastAPI object at 0x7fb7c67d49a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb7c6776560>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb7c6776560>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb7...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb7c67d5210>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb7c67d5270>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb7c6776560>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb7c6776560>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb7...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb7c67d51e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb7c67d5210>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb7c6776560>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb7c6776560>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb7...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb7c67d5180>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb7c67d51e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb7c6776560>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb7c6776560>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb7...
          │    └ <fastapi.routing.APIRouter object at 0x7fb7c67d4a00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb7c67d5180>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb7c6776560>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb7c6776560>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb7...
          │    └ <function Router.lifespan at 0x7fb7c6ed2b00>
          └ <fastapi.routing.APIRouter object at 0x7fb7c67d4a00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fb7c67d49a0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fb7c67d4a60>
               └ <fastapi.routing.APIRouter object at 0x7fb7c67d4a00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fb7c6ed29e0>
          │    └ <fastapi.routing.APIRouter object at 0x7fb7c67d4a00>
          └ <starlette.routing._DefaultLifespan object at 0x7fb7c67d4a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fb7c67ce5f0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fb7c685caf0>
          └ <bot_app.TelegramBot object at 0x7fb7c67d4f10>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fb7c685cb80>
          └ <bot_app.TelegramBot object at 0x7fb7c67d4f10>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb7c6818910>
          │                 └ <bot_app.TelegramBot object at 0x7fb7c67d4f10>
          └ <function on_startup_notify at 0x7fb7c64f84c0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fb7c7b67880>
          │  └ <aiogram.bot.bot.Bot object at 0x7fb7c6818670>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb7c6818910>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fb7c7b23430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fb7c7b66050>
                   └ <aiogram.bot.bot.Bot object at 0x7fb7c6818670>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fb7c6818670>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fb7c6818670>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fb7c7b65900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fb7c6818670>
                 │   └ <function make_request at 0x7fb7c7b0af80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fb7c89092d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fb7c8e61ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fb7c7b0acb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fb7c7b0a680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T23:52:52.415262+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T23:54:15.641259+0900 WARNING Shutting down!..
2022-06-27T23:54:16.207888+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T23:54:16.208208+0900 WARNING Bye!
2022-06-27T23:54:18.440935+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f47ec04e680>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f47ec04d750>
    └ <uvicorn.server.Server object at 0x7f47ec13d960>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f47ec04d7e0>
           │       │   └ <uvicorn.server.Server object at 0x7f47ec13d960>
           │       └ <function run at 0x7f47ef6d3c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f47ebffb530>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f47eeda6560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f47eeda64d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f47eedac040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f47eef5b9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f47ec0adf30>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f47ec0565c0>
          │   │      │    └ <function LifespanOn.receive at 0x7f47ec0adfc0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f47ec0565c0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f47...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f47ec056440>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f47ec0565c0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f47ec0565c0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f47...
                 │    └ <fastapi.applications.FastAPI object at 0x7f47ec0b4a00>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f47ec056440>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f47ec0565c0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f47ec0565c0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f47...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f47ec0565c0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f47ec0565c0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f47...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f47ec0b52d0>
          └ <fastapi.applications.FastAPI object at 0x7f47ec0b4a00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f47ec0565c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f47ec0565c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f47...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f47ec0b5270>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f47ec0b52d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f47ec0565c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f47ec0565c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f47...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f47ec0b5240>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f47ec0b5270>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f47ec0565c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f47ec0565c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f47...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f47ec0b51e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f47ec0b5240>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f47ec0565c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f47ec0565c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f47...
          │    └ <fastapi.routing.APIRouter object at 0x7f47ec0b4a60>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f47ec0b51e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f47ec0565c0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f47ec0565c0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f47...
          │    └ <function Router.lifespan at 0x7f47ec79ab00>
          └ <fastapi.routing.APIRouter object at 0x7f47ec0b4a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f47ec0b4a00>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f47ec0b4ac0>
               └ <fastapi.routing.APIRouter object at 0x7f47ec0b4a60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f47ec79a9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f47ec0b4a60>
          └ <starlette.routing._DefaultLifespan object at 0x7f47ec0b4ac0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f47ec0ae710>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f47ec138c10>
          └ <bot_app.TelegramBot object at 0x7f47ec0b4f70>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f47ec138ca0>
          └ <bot_app.TelegramBot object at 0x7f47ec0b4f70>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f47ec100970>
          │                 └ <bot_app.TelegramBot object at 0x7f47ec0b4f70>
          └ <function on_startup_notify at 0x7f47ebfd05e0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f47ed45f880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f47ec1006d0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f47ec100970>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f47ed41b430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f47ed45e050>
                   └ <aiogram.bot.bot.Bot object at 0x7f47ec1006d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f47ec1006d0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f47ec1006d0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f47ed45d900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f47ec1006d0>
                 │   └ <function make_request at 0x7f47ed402f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f47edf012d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f47ee751e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f47ed402cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f47ed402680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T23:54:19.071159+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T23:54:58.985157+0900 WARNING Shutting down!..
2022-06-27T23:54:59.418633+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T23:54:59.418804+0900 WARNING Bye!
2022-06-27T23:55:01.341544+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f04287ce560>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f04287cd630>
    └ <uvicorn.server.Server object at 0x7f04288a2560>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f04287cd6c0>
           │       │   └ <uvicorn.server.Server object at 0x7f04288a2560>
           │       └ <function run at 0x7f042be6fc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f042877b530>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f042b542560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f042b5424d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f042b544040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f042b6f39a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f042882de10>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f04287d6530>
          │   │      │    └ <function LifespanOn.receive at 0x7f042882dea0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f04287d6530>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f04287d63b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04287d6530>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04287d6530>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
                 │    └ <fastapi.applications.FastAPI object at 0x7f0428830970>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f04287d63b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04287d6530>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04287d6530>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04287d6530>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04287d6530>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f0428831240>
          └ <fastapi.applications.FastAPI object at 0x7f0428830970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04287d6530>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04287d6530>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f04288311e0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f0428831240>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04287d6530>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04287d6530>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f04288311b0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f04288311e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04287d6530>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04287d6530>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f0428831150>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f04288311b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04287d6530>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04287d6530>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <fastapi.routing.APIRouter object at 0x7f04288309d0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f0428831150>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04287d6530>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04287d6530>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <function Router.lifespan at 0x7f0428f42b00>
          └ <fastapi.routing.APIRouter object at 0x7f04288309d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f0428830970>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f0428830a30>
               └ <fastapi.routing.APIRouter object at 0x7f04288309d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f0428f429e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f04288309d0>
          └ <starlette.routing._DefaultLifespan object at 0x7f0428830a30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f042882e5f0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f04288bcaf0>
          └ <bot_app.TelegramBot object at 0x7f0428830ee0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f04288bcb80>
          └ <bot_app.TelegramBot object at 0x7f0428830ee0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f042887c8e0>
          │                 └ <bot_app.TelegramBot object at 0x7f0428830ee0>
          └ <function on_startup_notify at 0x7f04287544c0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f0429b5b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f042887c640>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f042887c8e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f0429b17430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f0429b5a050>
                   └ <aiogram.bot.bot.Bot object at 0x7f042887c640>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f042887c640>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f042887c640>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f0429b59900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f042887c640>
                 │   └ <function make_request at 0x7f0429afef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f042ad692d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f042ae55fd0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f0429afecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f0429afe680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T23:55:01.811470+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T23:56:14.626194+0900 WARNING Shutting down!..
2022-06-27T23:56:15.193272+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T23:56:15.193440+0900 WARNING Bye!
2022-06-27T23:56:17.664088+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fafe5b3a560>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fafe5b39630>
    └ <uvicorn.server.Server object at 0x7fafe5c124d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fafe5b396c0>
           │       │   └ <uvicorn.server.Server object at 0x7fafe5c124d0>
           │       └ <function run at 0x7fafe91ebc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fafe5ae7680>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fafe88be560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fafe88be4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fafe88c4040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fafe8a739a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fafe5b99e10>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fafe5b424a0>
          │   │      │    └ <function LifespanOn.receive at 0x7fafe5b99ea0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fafe5b424a0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7faf...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fafe5b42320>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fafe5b424a0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fafe5b424a0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7faf...
                 │    └ <fastapi.applications.FastAPI object at 0x7fafe5ba08e0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fafe5b42320>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fafe5b424a0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fafe5b424a0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7faf...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fafe5b424a0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fafe5b424a0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7faf...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fafe5ba11b0>
          └ <fastapi.applications.FastAPI object at 0x7fafe5ba08e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fafe5b424a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fafe5b424a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7faf...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fafe5ba1150>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fafe5ba11b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fafe5b424a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fafe5b424a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7faf...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fafe5ba1120>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fafe5ba1150>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fafe5b424a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fafe5b424a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7faf...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fafe5ba10c0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fafe5ba1120>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fafe5b424a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fafe5b424a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7faf...
          │    └ <fastapi.routing.APIRouter object at 0x7fafe5ba0940>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fafe5ba10c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fafe5b424a0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fafe5b424a0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7faf...
          │    └ <function Router.lifespan at 0x7fafe62c6b00>
          └ <fastapi.routing.APIRouter object at 0x7fafe5ba0940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fafe5ba08e0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fafe5ba09a0>
               └ <fastapi.routing.APIRouter object at 0x7fafe5ba0940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fafe62c69e0>
          │    └ <fastapi.routing.APIRouter object at 0x7fafe5ba0940>
          └ <starlette.routing._DefaultLifespan object at 0x7fafe5ba09a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fafe5b9a5f0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fafe5c2caf0>
          └ <bot_app.TelegramBot object at 0x7fafe5ba0e50>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fafe5c2cb80>
          └ <bot_app.TelegramBot object at 0x7fafe5ba0e50>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fafe5bec850>
          │                 └ <bot_app.TelegramBot object at 0x7fafe5ba0e50>
          └ <function on_startup_notify at 0x7fafe5abc4c0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fafe6f5f880>
          │  └ <aiogram.bot.bot.Bot object at 0x7fafe5bec5b0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fafe5bec850>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fafe6f1b3d0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fafe6f5e050>
                   └ <aiogram.bot.bot.Bot object at 0x7fafe5bec5b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fafe5bec5b0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fafe5bec5b0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fafe6f5d900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fafe5bec5b0>
                 │   └ <function make_request at 0x7fafe6f02f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fafe7d012d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fafe8259e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fafe6f02cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fafe6f02680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T23:56:18.173555+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T23:57:16.524340+0900 WARNING Shutting down!..
2022-06-27T23:57:17.072041+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T23:57:17.072317+0900 WARNING Bye!
2022-06-27T23:57:18.837495+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7eff652b65f0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7eff652b56c0>
    └ <uvicorn.server.Server object at 0x7eff653a5930>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7eff652b5750>
           │       │   └ <uvicorn.server.Server object at 0x7eff653a5930>
           │       └ <function run at 0x7eff6894bc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7eff65263610>
           │    └ <function BaseEventLoop.run_until_complete at 0x7eff68022560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7eff680224d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7eff68024040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7eff681d39a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7eff65315ea0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7eff652be590>
          │   │      │    └ <function LifespanOn.receive at 0x7eff65315f30>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7eff652be590>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7eff652be410>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7eff652be590>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7eff652be590>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
                 │    └ <fastapi.applications.FastAPI object at 0x7eff6531c9d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7eff652be410>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7eff652be590>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7eff652be590>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7eff652be590>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7eff652be590>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7eff6531d2a0>
          └ <fastapi.applications.FastAPI object at 0x7eff6531c9d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7eff652be590>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7eff652be590>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7eff6531d240>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7eff6531d2a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7eff652be590>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7eff652be590>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7eff6531d210>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7eff6531d240>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7eff652be590>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7eff652be590>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7eff6531d1b0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7eff6531d210>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7eff652be590>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7eff652be590>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          │    └ <fastapi.routing.APIRouter object at 0x7eff6531ca30>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7eff6531d1b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7eff652be590>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7eff652be590>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7eff...
          │    └ <function Router.lifespan at 0x7eff65a36b00>
          └ <fastapi.routing.APIRouter object at 0x7eff6531ca30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7eff6531c9d0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7eff6531ca90>
               └ <fastapi.routing.APIRouter object at 0x7eff6531ca30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7eff65a369e0>
          │    └ <fastapi.routing.APIRouter object at 0x7eff6531ca30>
          └ <starlette.routing._DefaultLifespan object at 0x7eff6531ca90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7eff65316680>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7eff65378b80>
          └ <bot_app.TelegramBot object at 0x7eff6531cf40>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7eff65378c10>
          └ <bot_app.TelegramBot object at 0x7eff6531cf40>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7eff65364940>
          │                 └ <bot_app.TelegramBot object at 0x7eff6531cf40>
          └ <function on_startup_notify at 0x7eff65040550>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7eff66bab880>
          │  └ <aiogram.bot.bot.Bot object at 0x7eff653646a0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7eff65364940>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7eff66b67460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7eff66baa050>
                   └ <aiogram.bot.bot.Bot object at 0x7eff653646a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7eff653646a0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7eff653646a0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7eff66ba9900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7eff653646a0>
                 │   └ <function make_request at 0x7eff66b4ef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7eff676812d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7eff67771e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7eff66b4ecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7eff66b4e680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T23:57:19.313240+0900 INFO IzfirBot: Dispatcher loaded
2022-06-27T23:57:52.807676+0900 WARNING Shutting down!..
2022-06-27T23:57:53.256161+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-27T23:57:53.256359+0900 WARNING Bye!
2022-06-27T23:57:55.148111+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f2d689e6560>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f2d689e5630>
    └ <uvicorn.server.Server object at 0x7f2d68aba530>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f2d689e56c0>
           │       │   └ <uvicorn.server.Server object at 0x7f2d68aba530>
           │       └ <function run at 0x7f2d6c073c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f2d689935a0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f2d6b74a560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f2d6b74a4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f2d6b74c040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f2d6b8fb9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f2d68a45e10>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f2d689ee500>
          │   │      │    └ <function LifespanOn.receive at 0x7f2d68a45ea0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f2d689ee500>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2d...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2d689ee380>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2d689ee500>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2d689ee500>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2d...
                 │    └ <fastapi.applications.FastAPI object at 0x7f2d68a48940>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2d689ee380>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2d689ee500>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2d689ee500>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2d...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2d689ee500>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2d689ee500>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2d...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2d68a49210>
          └ <fastapi.applications.FastAPI object at 0x7f2d68a48940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2d689ee500>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2d689ee500>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2d...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f2d68a491b0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2d68a49210>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2d689ee500>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2d689ee500>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2d...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2d68a49180>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f2d68a491b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2d689ee500>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2d689ee500>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2d...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2d68a49120>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2d68a49180>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2d689ee500>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2d689ee500>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2d...
          │    └ <fastapi.routing.APIRouter object at 0x7f2d68a489a0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2d68a49120>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2d689ee500>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2d689ee500>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2d...
          │    └ <function Router.lifespan at 0x7f2d69162b00>
          └ <fastapi.routing.APIRouter object at 0x7f2d68a489a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f2d68a48940>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f2d68a48a00>
               └ <fastapi.routing.APIRouter object at 0x7f2d68a489a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f2d691629e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f2d68a489a0>
          └ <starlette.routing._DefaultLifespan object at 0x7f2d68a48a00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f2d68a465f0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f2d68ad4af0>
          └ <bot_app.TelegramBot object at 0x7f2d68a48eb0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f2d68ad4b80>
          └ <bot_app.TelegramBot object at 0x7f2d68a48eb0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f2d68a948b0>
          │                 └ <bot_app.TelegramBot object at 0x7f2d68a48eb0>
          └ <function on_startup_notify at 0x7f2d687704c0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f2d69d6b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f2d68a94610>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f2d68a948b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f2d69d27400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f2d69d6a050>
                   └ <aiogram.bot.bot.Bot object at 0x7f2d68a94610>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f2d68a94610>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f2d68a94610>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f2d69d69900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f2d68a94610>
                 │   └ <function make_request at 0x7f2d69d0ef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f2d6ab092d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f2d6b065e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f2d69d0ecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f2d69d0e680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-27T23:57:55.643884+0900 INFO IzfirBot: Dispatcher loaded
2022-06-28T00:16:46.192959+0900 WARNING Shutting down!..
2022-06-28T00:16:46.746490+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-28T00:16:46.747040+0900 WARNING Bye!
2022-06-28T00:16:49.922486+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fe7f2866560>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fe7f2865630>
    └ <uvicorn.server.Server object at 0x7fe7f29337f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fe7f28656c0>
           │       │   └ <uvicorn.server.Server object at 0x7fe7f29337f0>
           │       └ <function run at 0x7fe7f5f07c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fe7f28136f0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fe7f55da560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fe7f55da4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fe7f55e0040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fe7f578f9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fe7f28c1e10>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fe7f286eb60>
          │   │      │    └ <function LifespanOn.receive at 0x7fe7f28c1ea0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fe7f286eb60>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe7...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe7f286e9e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe7f286eb60>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe7f286eb60>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe7...
                 │    └ <fastapi.applications.FastAPI object at 0x7fe7f28c8fa0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe7f286e9e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe7f286eb60>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe7f286eb60>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe7...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe7f286eb60>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe7f286eb60>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe7...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe7f28c9870>
          └ <fastapi.applications.FastAPI object at 0x7fe7f28c8fa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe7f286eb60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe7f286eb60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe7...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fe7f28c9810>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe7f28c9870>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe7f286eb60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe7f286eb60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe7...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fe7f28c97e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fe7f28c9810>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe7f286eb60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe7f286eb60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe7...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fe7f28c9780>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fe7f28c97e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe7f286eb60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe7f286eb60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe7...
          │    └ <fastapi.routing.APIRouter object at 0x7fe7f28c9000>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fe7f28c9780>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe7f286eb60>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe7f286eb60>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe7...
          │    └ <function Router.lifespan at 0x7fe7f2fcab00>
          └ <fastapi.routing.APIRouter object at 0x7fe7f28c9000>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fe7f28c8fa0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fe7f28c9060>
               └ <fastapi.routing.APIRouter object at 0x7fe7f28c9000>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fe7f2fca9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7fe7f28c9000>
          └ <starlette.routing._DefaultLifespan object at 0x7fe7f28c9060>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fe7f28c25f0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fe7f2958af0>
          └ <bot_app.TelegramBot object at 0x7fe7f28c9510>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fe7f2958b80>
          └ <bot_app.TelegramBot object at 0x7fe7f28c9510>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fe7f29147c0>
          │                 └ <bot_app.TelegramBot object at 0x7fe7f28c9510>
          └ <function on_startup_notify at 0x7fe7f27ec4c0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fe7f3c5f880>
          │  └ <aiogram.bot.bot.Bot object at 0x7fe7f2914520>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fe7f29147c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fe7f3c1b460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fe7f3c5e050>
                   └ <aiogram.bot.bot.Bot object at 0x7fe7f2914520>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fe7f2914520>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fe7f2914520>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fe7f3c5d900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fe7f2914520>
                 │   └ <function make_request at 0x7fe7f3c02f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fe7f47012d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fe7f4f61e40>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fe7f3c02cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fe7f3c02680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-28T00:16:50.440079+0900 INFO IzfirBot: Dispatcher loaded
2022-06-28T00:17:07.499175+0900 INFO Unable to post message
2022-06-28T00:17:28.869368+0900 WARNING Shutting down!..
2022-06-28T00:17:29.012612+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-28T00:17:29.012821+0900 WARNING Bye!
2022-06-29T20:29:31.221223+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7ff288d1e8c0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7ff288d1d990>
    └ <uvicorn.server.Server object at 0x7ff288e0de40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7ff288d1da20>
           │       │   └ <uvicorn.server.Server object at 0x7ff288e0de40>
           │       └ <function run at 0x7ff28c3d7c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7ff288ccb6f0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7ff28baaa560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7ff28baaa4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7ff28baac040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7ff28bc5b9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7ff288d7e170>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7ff288d26aa0>
          │   │      │    └ <function LifespanOn.receive at 0x7ff288d7e200>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7ff288d26aa0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff2...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff288d26920>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff288d26aa0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff288d26aa0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff2...
                 │    └ <fastapi.applications.FastAPI object at 0x7ff288d80ee0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff288d26920>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff288d26aa0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff288d26aa0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff2...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff288d26aa0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff288d26aa0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff2...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff288d817b0>
          └ <fastapi.applications.FastAPI object at 0x7ff288d80ee0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff288d26aa0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff288d26aa0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff2...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff288d81750>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff288d817b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff288d26aa0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff288d26aa0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff2...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff288d81720>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff288d81750>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff288d26aa0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff288d26aa0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff2...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7ff288d816c0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff288d81720>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff288d26aa0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff288d26aa0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff2...
          │    └ <fastapi.routing.APIRouter object at 0x7ff288d80f40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7ff288d816c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff288d26aa0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff288d26aa0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff2...
          │    └ <function Router.lifespan at 0x7ff28949ab00>
          └ <fastapi.routing.APIRouter object at 0x7ff288d80f40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7ff288d80ee0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7ff288d80fa0>
               └ <fastapi.routing.APIRouter object at 0x7ff288d80f40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7ff28949a9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7ff288d80f40>
          └ <starlette.routing._DefaultLifespan object at 0x7ff288d80fa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7ff288d7e950>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://2458-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7ff288e08e50>
          └ <bot_app.TelegramBot object at 0x7ff288d81450>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7ff288e08ee0>
          └ <bot_app.TelegramBot object at 0x7ff288d81450>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7ff288dcc760>
          │                 └ <bot_app.TelegramBot object at 0x7ff288d81450>
          └ <function on_startup_notify at 0x7ff288c9c820>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7ff28a15b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7ff288dcc4c0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7ff288dcc760>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7ff28a117400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7ff28a15a050>
                   └ <aiogram.bot.bot.Bot object at 0x7ff288dcc4c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7ff288dcc4c0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7ff288dcc4c0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7ff28a159900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7ff288dcc4c0>
                 │   └ <function make_request at 0x7ff28a0fef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7ff28b3112d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7ff28b445d00>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7ff28a0fecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7ff28a0fe680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-29T20:29:32.654771+0900 INFO IzfirBot: Dispatcher loaded
2022-06-29T20:31:49.448769+0900 WARNING Shutting down!..
2022-06-29T20:31:50.001128+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-29T20:31:50.001449+0900 WARNING Bye!
2022-06-29T20:33:33.332453+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fddb069e7a0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fddb069d870>
    └ <uvicorn.server.Server object at 0x7fddb076f6d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fddb069d900>
           │       │   └ <uvicorn.server.Server object at 0x7fddb076f6d0>
           │       └ <function run at 0x7fddb3d43c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fddb064b6f0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fddb3416560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fddb34164d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fddb341c040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fddb35cb9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fddb06fa050>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fddb06a6aa0>
          │   │      │    └ <function LifespanOn.receive at 0x7fddb06fa0e0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fddb06a6aa0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fdd...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fddb06a6920>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fddb06a6aa0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fddb06a6aa0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fdd...
                 │    └ <fastapi.applications.FastAPI object at 0x7fddb0700ee0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fddb06a6920>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fddb06a6aa0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fddb06a6aa0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fdd...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fddb06a6aa0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fddb06a6aa0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fdd...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fddb07017b0>
          └ <fastapi.applications.FastAPI object at 0x7fddb0700ee0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fddb06a6aa0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fddb06a6aa0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fdd...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fddb0701750>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fddb07017b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fddb06a6aa0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fddb06a6aa0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fdd...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fddb0701720>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fddb0701750>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fddb06a6aa0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fddb06a6aa0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fdd...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fddb07016c0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fddb0701720>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fddb06a6aa0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fddb06a6aa0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fdd...
          │    └ <fastapi.routing.APIRouter object at 0x7fddb0700f40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fddb07016c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fddb06a6aa0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fddb06a6aa0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fdd...
          │    └ <function Router.lifespan at 0x7fddb0e1eb00>
          └ <fastapi.routing.APIRouter object at 0x7fddb0700f40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fddb0700ee0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fddb0700fa0>
               └ <fastapi.routing.APIRouter object at 0x7fddb0700f40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fddb0e1e9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7fddb0700f40>
          └ <starlette.routing._DefaultLifespan object at 0x7fddb0700fa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fddb06fa830>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fddb078cd30>
          └ <bot_app.TelegramBot object at 0x7fddb0701450>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fddb078cdc0>
          └ <bot_app.TelegramBot object at 0x7fddb0701450>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fddb074c760>
          │                 └ <bot_app.TelegramBot object at 0x7fddb0701450>
          └ <function on_startup_notify at 0x7fddb0620700>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fddb1a5f880>
          │  └ <aiogram.bot.bot.Bot object at 0x7fddb074c4c0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fddb074c760>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fddb1a1b400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fddb1a5e050>
                   └ <aiogram.bot.bot.Bot object at 0x7fddb074c4c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fddb074c4c0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fddb074c4c0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fddb1a5d900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fddb074c4c0>
                 │   └ <function make_request at 0x7fddb1a02f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fddb25012d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fddb2d55ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fddb1a02cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fddb1a02680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-29T20:33:34.111974+0900 INFO IzfirBot: Dispatcher loaded
2022-06-29T20:35:27.032909+0900 WARNING Shutting down!..
2022-06-29T20:35:27.676326+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-29T20:35:27.676518+0900 WARNING Bye!
2022-06-29T20:35:29.415947+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f059694e8c0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f059694d990>
    └ <uvicorn.server.Server object at 0x7f0596a3de40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f059694da20>
           │       │   └ <uvicorn.server.Server object at 0x7f0596a3de40>
           │       └ <function run at 0x7f0599fd3c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f05968fb680>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f05996aa560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f05996aa4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f05996ac040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f059985b9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f05969aa170>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f0596956aa0>
          │   │      │    └ <function LifespanOn.receive at 0x7f05969aa200>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f0596956aa0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f05...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f0596956920>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0596956aa0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0596956aa0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f05...
                 │    └ <fastapi.applications.FastAPI object at 0x7f05969b0ee0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f0596956920>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0596956aa0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0596956aa0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f05...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0596956aa0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0596956aa0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f05...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f05969b17b0>
          └ <fastapi.applications.FastAPI object at 0x7f05969b0ee0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0596956aa0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0596956aa0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f05...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f05969b1750>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f05969b17b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0596956aa0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0596956aa0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f05...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f05969b1720>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f05969b1750>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0596956aa0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0596956aa0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f05...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f05969b16c0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f05969b1720>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0596956aa0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0596956aa0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f05...
          │    └ <fastapi.routing.APIRouter object at 0x7f05969b0f40>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f05969b16c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0596956aa0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0596956aa0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f05...
          │    └ <function Router.lifespan at 0x7f059709ab00>
          └ <fastapi.routing.APIRouter object at 0x7f05969b0f40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f05969b0ee0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f05969b0fa0>
               └ <fastapi.routing.APIRouter object at 0x7f05969b0f40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f059709a9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f05969b0f40>
          └ <starlette.routing._DefaultLifespan object at 0x7f05969b0fa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f05969aa950>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f0596a38e50>
          └ <bot_app.TelegramBot object at 0x7f05969b1450>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f0596a38ee0>
          └ <bot_app.TelegramBot object at 0x7f05969b1450>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f05969f8760>
          │                 └ <bot_app.TelegramBot object at 0x7f05969b1450>
          └ <function on_startup_notify at 0x7f05968cc820>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f059819b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f05969f84c0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f05969f8760>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f0598157400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f059819a050>
                   └ <aiogram.bot.bot.Bot object at 0x7f05969f84c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f05969f84c0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f05969f84c0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f0598199900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f05969f84c0>
                 │   └ <function make_request at 0x7f059813ef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f0598d092d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f0598ff9e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f059813ecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f059813e680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-29T20:35:30.029134+0900 INFO IzfirBot: Dispatcher loaded
2022-06-29T20:37:55.202624+0900 WARNING Shutting down!..
2022-06-29T20:37:56.051733+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-29T20:37:56.051898+0900 WARNING Bye!
2022-06-29T20:37:57.848935+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f1fcfe828c0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f1fcfe81990>
    └ <uvicorn.server.Server object at 0x7f1fcff75f00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f1fcfe81a20>
           │       │   └ <uvicorn.server.Server object at 0x7f1fcff75f00>
           │       └ <function run at 0x7f1fd350fc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1fcfe2f680>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f1fd2be2560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f1fd2be24d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f1fd2be4040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f1fd2d939a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f1fcfede170>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f1fcfe8ab60>
          │   │      │    └ <function LifespanOn.receive at 0x7f1fcfede200>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f1fcfe8ab60>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1fcfe8a9e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1fcfe8ab60>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1fcfe8ab60>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1fcfee4fa0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1fcfe8a9e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1fcfe8ab60>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1fcfe8ab60>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1fcfe8ab60>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1fcfe8ab60>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1fcfee5870>
          └ <fastapi.applications.FastAPI object at 0x7f1fcfee4fa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1fcfe8ab60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1fcfe8ab60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f1fcfee5810>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1fcfee5870>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1fcfe8ab60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1fcfe8ab60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1fcfee57e0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f1fcfee5810>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1fcfe8ab60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1fcfe8ab60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1fcfee5780>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1fcfee57e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1fcfe8ab60>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1fcfe8ab60>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          │    └ <fastapi.routing.APIRouter object at 0x7f1fcfee5000>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1fcfee5780>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1fcfe8ab60>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1fcfe8ab60>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1f...
          │    └ <function Router.lifespan at 0x7f1fd05c2b00>
          └ <fastapi.routing.APIRouter object at 0x7f1fcfee5000>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f1fcfee4fa0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f1fcfee5060>
               └ <fastapi.routing.APIRouter object at 0x7f1fcfee5000>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f1fd05c29e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f1fcfee5000>
          └ <starlette.routing._DefaultLifespan object at 0x7f1fcfee5060>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f1fcfede950>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f1fcff70e50>
          └ <bot_app.TelegramBot object at 0x7f1fcfee5510>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f1fcff70ee0>
          └ <bot_app.TelegramBot object at 0x7f1fcfee5510>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f1fcff30760>
          │                 └ <bot_app.TelegramBot object at 0x7f1fcfee5510>
          └ <function on_startup_notify at 0x7f1fcfe00820>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f1fd1257880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f1fcff304c0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f1fcff30760>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f1fd1213430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f1fd1256050>
                   └ <aiogram.bot.bot.Bot object at 0x7f1fcff304c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f1fcff304c0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f1fcff304c0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f1fd1255900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f1fcff304c0>
                 │   └ <function make_request at 0x7f1fd11faf80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f1fd21f92d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f1fd2555f80>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f1fd11facb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f1fd11fa680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-29T20:37:58.556199+0900 INFO IzfirBot: Dispatcher loaded
2022-06-29T21:17:31.410698+0900 WARNING Shutting down!..
2022-06-29T21:17:31.846679+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-29T21:17:31.846843+0900 WARNING Bye!
2022-06-29T21:17:33.863599+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f2f001f67a0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f2f001f5870>
    └ <uvicorn.server.Server object at 0x7f2f002c77f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f2f001f5900>
           │       │   └ <uvicorn.server.Server object at 0x7f2f002c77f0>
           │       └ <function run at 0x7f2f038afc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f2f001a36f0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f2f02f82560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f2f02f824d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f2f02f84040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f2f031339a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f2f00256050>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f2f001febc0>
          │   │      │    └ <function LifespanOn.receive at 0x7f2f002560e0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f2f001febc0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2f...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2f001fea40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2f001febc0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2f001febc0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2f...
                 │    └ <fastapi.applications.FastAPI object at 0x7f2f00259000>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2f001fea40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2f001febc0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2f001febc0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2f...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2f001febc0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2f001febc0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2f...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2f002598d0>
          └ <fastapi.applications.FastAPI object at 0x7f2f00259000>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2f001febc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2f001febc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2f...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f2f00259870>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2f002598d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2f001febc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2f001febc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2f...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2f00259840>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f2f00259870>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2f001febc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2f001febc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2f...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2f002597e0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2f00259840>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2f001febc0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2f001febc0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2f...
          │    └ <fastapi.routing.APIRouter object at 0x7f2f00259060>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2f002597e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2f001febc0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2f001febc0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2f...
          │    └ <function Router.lifespan at 0x7f2f0097ab00>
          └ <fastapi.routing.APIRouter object at 0x7f2f00259060>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f2f00259000>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f2f002590c0>
               └ <fastapi.routing.APIRouter object at 0x7f2f00259060>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f2f0097a9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f2f00259060>
          └ <starlette.routing._DefaultLifespan object at 0x7f2f002590c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f2f00256830>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f2f002e4d30>
          └ <bot_app.TelegramBot object at 0x7f2f00259570>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f2f002e4dc0>
          └ <bot_app.TelegramBot object at 0x7f2f00259570>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f2f002a07c0>
          │                 └ <bot_app.TelegramBot object at 0x7f2f00259570>
          └ <function on_startup_notify at 0x7f2f00178700>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f2f01557880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f2f002a0520>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f2f002a07c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f2f015134c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f2f01556050>
                   └ <aiogram.bot.bot.Bot object at 0x7f2f002a0520>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f2f002a0520>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f2f002a0520>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f2f01555900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f2f002a0520>
                 │   └ <function make_request at 0x7f2f014faf80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f2f027cd2d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f2f028e5f80>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f2f014facb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f2f014fa680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-29T21:17:34.345665+0900 INFO IzfirBot: Dispatcher loaded
2022-06-29T22:13:31.957554+0900 WARNING Shutting down!..
2022-06-29T22:13:32.560892+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-29T22:13:32.561084+0900 WARNING Bye!
2022-06-29T22:13:35.844018+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f905d52e710>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f905d52d7e0>
    └ <uvicorn.server.Server object at 0x7f905d603880>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f905d52d870>
           │       │   └ <uvicorn.server.Server object at 0x7f905d603880>
           │       └ <function run at 0x7f9060bdbc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f905d4db760>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f90602b2560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f90602b24d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f90602b4040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f90604639a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f905d589fc0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f905d532c50>
          │   │      │    └ <function LifespanOn.receive at 0x7f905d58a050>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f905d532c50>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f90...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f905d532ad0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f905d532c50>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f905d532c50>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f90...
                 │    └ <fastapi.applications.FastAPI object at 0x7f905d591090>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f905d532ad0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f905d532c50>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f905d532c50>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f90...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f905d532c50>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f905d532c50>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f90...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f905d591960>
          └ <fastapi.applications.FastAPI object at 0x7f905d591090>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f905d532c50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f905d532c50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f90...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f905d591900>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f905d591960>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f905d532c50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f905d532c50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f90...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f905d5918d0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f905d591900>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f905d532c50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f905d532c50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f90...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f905d591870>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f905d5918d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f905d532c50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f905d532c50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f90...
          │    └ <fastapi.routing.APIRouter object at 0x7f905d5910f0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f905d591870>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f905d532c50>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f905d532c50>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f90...
          │    └ <function Router.lifespan at 0x7f905dcaab00>
          └ <fastapi.routing.APIRouter object at 0x7f905d5910f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f905d591090>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f905d591150>
               └ <fastapi.routing.APIRouter object at 0x7f905d5910f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f905dcaa9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f905d5910f0>
          └ <starlette.routing._DefaultLifespan object at 0x7f905d591150>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f905d58a7a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f905d620ca0>
          └ <bot_app.TelegramBot object at 0x7f905d591600>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f905d620d30>
          └ <bot_app.TelegramBot object at 0x7f905d591600>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f905d5dc790>
          │                 └ <bot_app.TelegramBot object at 0x7f905d591600>
          └ <function on_startup_notify at 0x7f905d4b0670>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f905e96b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f905d5dc4f0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f905d5dc790>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f905e9274c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f905e96a050>
                   └ <aiogram.bot.bot.Bot object at 0x7f905d5dc4f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f905d5dc4f0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f905d5dc4f0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f905e969900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f905d5dc4f0>
                 │   └ <function make_request at 0x7f905e90ef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f905f7092d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f905fc59e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f905e90ecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f905e90e680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-29T22:13:36.330415+0900 INFO IzfirBot: Dispatcher loaded
2022-06-29T22:14:21.361954+0900 WARNING Shutting down!..
2022-06-29T22:14:21.846218+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-29T22:14:21.846397+0900 WARNING Bye!
2022-06-29T22:14:23.626653+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fe9825aea70>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fe9825adb40>
    └ <uvicorn.server.Server object at 0x7fe98269e3b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fe9825adbd0>
           │       │   └ <uvicorn.server.Server object at 0x7fe98269e3b0>
           │       └ <function run at 0x7fe985c53c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fe98255b760>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fe98532a560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fe98532a4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fe98532c040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fe9854db9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fe982612320>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fe9825b3010>
          │   │      │    └ <function LifespanOn.receive at 0x7fe9826123b0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fe9825b3010>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe9...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe9825b2e90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe9825b3010>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe9825b3010>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe9...
                 │    └ <fastapi.applications.FastAPI object at 0x7fe982609450>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe9825b2e90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe9825b3010>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe9825b3010>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe9...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe9825b3010>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe9825b3010>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe9...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe982609d20>
          └ <fastapi.applications.FastAPI object at 0x7fe982609450>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe9825b3010>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe9825b3010>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe9...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fe982609cc0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe982609d20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe9825b3010>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe9825b3010>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe9...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fe982609c90>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fe982609cc0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe9825b3010>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe9825b3010>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe9...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fe982609c30>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fe982609c90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe9825b3010>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe9825b3010>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe9...
          │    └ <fastapi.routing.APIRouter object at 0x7fe9826094b0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fe982609c30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe9825b3010>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe9825b3010>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe9...
          │    └ <function Router.lifespan at 0x7fe982d2ab00>
          └ <fastapi.routing.APIRouter object at 0x7fe9826094b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fe982609450>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fe982609510>
               └ <fastapi.routing.APIRouter object at 0x7fe9826094b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fe982d2a9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7fe9826094b0>
          └ <starlette.routing._DefaultLifespan object at 0x7fe982609510>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fe982612b00>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fe982695000>
          └ <bot_app.TelegramBot object at 0x7fe9826099c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fe982695090>
          └ <bot_app.TelegramBot object at 0x7fe9826099c0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fe98265c790>
          │                 └ <bot_app.TelegramBot object at 0x7fe9826099c0>
          └ <function on_startup_notify at 0x7fe9825349d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fe98396b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7fe98265c4f0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fe98265c790>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fe983927580>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fe98396a050>
                   └ <aiogram.bot.bot.Bot object at 0x7fe98265c4f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fe98265c4f0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fe98265c4f0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fe983969900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fe98265c4f0>
                 │   └ <function make_request at 0x7fe98390ef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fe9847092d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fe984c69e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fe98390ecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fe98390e680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-29T22:14:24.120475+0900 INFO IzfirBot: Dispatcher loaded
2022-06-29T22:15:32.839262+0900 WARNING Shutting down!..
2022-06-29T22:15:33.402953+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-29T22:15:33.403123+0900 WARNING Bye!
2022-06-29T22:15:34.915125+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fc2b54f6a70>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fc2b54f5b40>
    └ <uvicorn.server.Server object at 0x7fc2b55e63e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fc2b54f5bd0>
           │       │   └ <uvicorn.server.Server object at 0x7fc2b55e63e0>
           │       └ <function run at 0x7fc2b8b7fc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fc2b54a3760>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fc2b8256560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fc2b82564d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fc2b8258040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fc2b84079a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fc2b555a320>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fc2b54fb040>
          │   │      │    └ <function LifespanOn.receive at 0x7fc2b555a3b0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fc2b54fb040>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc2...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc2b54faec0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc2b54fb040>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc2b54fb040>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc2...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc2b5551480>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc2b54faec0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc2b54fb040>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc2b54fb040>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc2...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc2b54fb040>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc2b54fb040>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc2...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc2b5551d50>
          └ <fastapi.applications.FastAPI object at 0x7fc2b5551480>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc2b54fb040>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc2b54fb040>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc2...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc2b5551cf0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc2b5551d50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc2b54fb040>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc2b54fb040>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc2...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc2b5551cc0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc2b5551cf0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc2b54fb040>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc2b54fb040>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc2...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fc2b5551c60>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc2b5551cc0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc2b54fb040>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc2b54fb040>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc2...
          │    └ <fastapi.routing.APIRouter object at 0x7fc2b55514e0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fc2b5551c60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc2b54fb040>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc2b54fb040>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc2...
          │    └ <function Router.lifespan at 0x7fc2b5c6eb00>
          └ <fastapi.routing.APIRouter object at 0x7fc2b55514e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fc2b5551480>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fc2b5551540>
               └ <fastapi.routing.APIRouter object at 0x7fc2b55514e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fc2b5c6e9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7fc2b55514e0>
          └ <starlette.routing._DefaultLifespan object at 0x7fc2b5551540>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fc2b555ab00>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fc2b55dd000>
          └ <bot_app.TelegramBot object at 0x7fc2b55519f0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fc2b55dd090>
          └ <bot_app.TelegramBot object at 0x7fc2b55519f0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fc2b55a4760>
          │                 └ <bot_app.TelegramBot object at 0x7fc2b55519f0>
          └ <function on_startup_notify at 0x7fc2b52809d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fc2b6da7880>
          │  └ <aiogram.bot.bot.Bot object at 0x7fc2b55a44c0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fc2b55a4760>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fc2b6d63490>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fc2b6da6050>
                   └ <aiogram.bot.bot.Bot object at 0x7fc2b55a44c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fc2b55a44c0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fc2b55a44c0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fc2b6da5900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fc2b55a44c0>
                 │   └ <function make_request at 0x7fc2b6d4af80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fc2b78c12d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fc2b7bf9e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fc2b6d4acb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fc2b6d4a680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-29T22:15:35.470859+0900 INFO IzfirBot: Dispatcher loaded
2022-06-29T22:16:47.688513+0900 WARNING Shutting down!..
2022-06-29T22:16:48.238071+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-29T22:16:48.238237+0900 WARNING Bye!
2022-06-29T22:16:50.284678+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fb22a492a70>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fb22a491b40>
    └ <uvicorn.server.Server object at 0x7fb22a57e410>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fb22a491bd0>
           │       │   └ <uvicorn.server.Server object at 0x7fb22a57e410>
           │       └ <function run at 0x7fb22db2bc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fb22a43b760>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fb22d1fe560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fb22d1fe4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fb22d204040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fb22d3b39a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fb22a4f2320>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb22a48f070>
          │   │      │    └ <function LifespanOn.receive at 0x7fb22a4f23b0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb22a48f070>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb22a48eef0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb22a48f070>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb22a48f070>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb22a4e94b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb22a48eef0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb22a48f070>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb22a48f070>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb22a48f070>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb22a48f070>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb22a4e9d80>
          └ <fastapi.applications.FastAPI object at 0x7fb22a4e94b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb22a48f070>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb22a48f070>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb22a4e9d20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb22a4e9d80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb22a48f070>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb22a48f070>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb22a4e9cf0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb22a4e9d20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb22a48f070>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb22a48f070>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb22a4e9c90>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb22a4e9cf0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb22a48f070>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb22a48f070>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          │    └ <fastapi.routing.APIRouter object at 0x7fb22a4e9510>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb22a4e9c90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb22a48f070>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb22a48f070>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb2...
          │    └ <function Router.lifespan at 0x7fb22abf2b00>
          └ <fastapi.routing.APIRouter object at 0x7fb22a4e9510>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fb22a4e94b0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fb22a4e9570>
               └ <fastapi.routing.APIRouter object at 0x7fb22a4e9510>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fb22abf29e0>
          │    └ <fastapi.routing.APIRouter object at 0x7fb22a4e9510>
          └ <starlette.routing._DefaultLifespan object at 0x7fb22a4e9570>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fb22a4f2b00>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fb22a575000>
          └ <bot_app.TelegramBot object at 0x7fb22a4e9a20>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fb22a575090>
          └ <bot_app.TelegramBot object at 0x7fb22a4e9a20>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb22a538790>
          │                 └ <bot_app.TelegramBot object at 0x7fb22a4e9a20>
          └ <function on_startup_notify at 0x7fb22a4149d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fb22b85f880>
          │  └ <aiogram.bot.bot.Bot object at 0x7fb22a5384f0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb22a538790>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fb22b81b4c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fb22b85e050>
                   └ <aiogram.bot.bot.Bot object at 0x7fb22a5384f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fb22a5384f0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fb22a5384f0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fb22b85d900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fb22a5384f0>
                 │   └ <function make_request at 0x7fb22b802f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fb22c7fd2d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fb22cb61e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fb22b802cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fb22b802680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-29T22:16:50.753531+0900 INFO IzfirBot: Dispatcher loaded
2022-06-29T22:16:59.132795+0900 INFO [<PhotoSize {"file_id":"AgACAgIAAxkBAAIIK2K8ULttGgTWFzec0e2jtDly0iZnAAIpuzEbJknoSeaO-SIudA2uAQADAgADcwADKQQ","file_unique_id":"AQADKbsxGyZJ6El4","file_size":1234,"width":90,"height":51}>, <PhotoSize {"file_id":"AgACAgIAAxkBAAIIK2K8ULttGgTWFzec0e2jtDly0iZnAAIpuzEbJknoSeaO-SIudA2uAQADAgADbQADKQQ","file_unique_id":"AQADKbsxGyZJ6Ely","file_size":14198,"width":320,"height":180}>, <PhotoSize {"file_id":"AgACAgIAAxkBAAIIK2K8ULttGgTWFzec0e2jtDly0iZnAAIpuzEbJknoSeaO-SIudA2uAQADAgADeAADKQQ","file_unique_id":"AQADKbsxGyZJ6El9","file_size":53362,"width":800,"height":450}>, <PhotoSize {"file_id":"AgACAgIAAxkBAAIIK2K8ULttGgTWFzec0e2jtDly0iZnAAIpuzEbJknoSeaO-SIudA2uAQADAgADeQADKQQ","file_unique_id":"AQADKbsxGyZJ6El-","file_size":89698,"width":1280,"height":720}>]
2022-06-29T22:18:26.218058+0900 WARNING Shutting down!..
2022-06-29T22:18:26.773287+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-29T22:18:26.773565+0900 WARNING Bye!
2022-06-29T22:18:28.560793+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f08b0da2a70>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f08b0da1b40>
    └ <uvicorn.server.Server object at 0x7f08b0e923e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f08b0da1bd0>
           │       │   └ <uvicorn.server.Server object at 0x7f08b0e923e0>
           │       └ <function run at 0x7f08b4447c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f08b0d4f760>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f08b3b1a560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f08b3b1a4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f08b3b20040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f08b3ccf9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f08b0e06320>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f08b0da7040>
          │   │      │    └ <function LifespanOn.receive at 0x7f08b0e063b0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f08b0da7040>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f08...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f08b0da6ec0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f08b0da7040>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f08b0da7040>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f08...
                 │    └ <fastapi.applications.FastAPI object at 0x7f08b0dfd480>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f08b0da6ec0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f08b0da7040>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f08b0da7040>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f08...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f08b0da7040>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f08b0da7040>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f08...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f08b0dfdd50>
          └ <fastapi.applications.FastAPI object at 0x7f08b0dfd480>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f08b0da7040>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f08b0da7040>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f08...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f08b0dfdcf0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f08b0dfdd50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f08b0da7040>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f08b0da7040>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f08...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f08b0dfdcc0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f08b0dfdcf0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f08b0da7040>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f08b0da7040>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f08...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f08b0dfdc60>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f08b0dfdcc0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f08b0da7040>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f08b0da7040>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f08...
          │    └ <fastapi.routing.APIRouter object at 0x7f08b0dfd4e0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f08b0dfdc60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f08b0da7040>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f08b0da7040>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f08...
          │    └ <function Router.lifespan at 0x7f08b151eb00>
          └ <fastapi.routing.APIRouter object at 0x7f08b0dfd4e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f08b0dfd480>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f08b0dfd540>
               └ <fastapi.routing.APIRouter object at 0x7f08b0dfd4e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f08b151e9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f08b0dfd4e0>
          └ <starlette.routing._DefaultLifespan object at 0x7f08b0dfd540>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f08b0e06b00>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f08b0e89000>
          └ <bot_app.TelegramBot object at 0x7f08b0dfd9f0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f08b0e89090>
          └ <bot_app.TelegramBot object at 0x7f08b0dfd9f0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f08b0e4c760>
          │                 └ <bot_app.TelegramBot object at 0x7f08b0dfd9f0>
          └ <function on_startup_notify at 0x7f08b0d249d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f08b215f880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f08b0e4c4c0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f08b0e4c760>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f08b211b4c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f08b215e050>
                   └ <aiogram.bot.bot.Bot object at 0x7f08b0e4c4c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f08b0e4c4c0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f08b0e4c4c0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f08b215d900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f08b0e4c4c0>
                 │   └ <function make_request at 0x7f08b2102f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f08b2f012d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f08b345de90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f08b2102cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f08b2102680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-29T22:18:29.050955+0900 INFO IzfirBot: Dispatcher loaded
2022-06-29T22:18:39.911298+0900 INFO [<PhotoSize {"file_id":"AgACAgIAAxkBAAIILmK8UR90Mm8fzByIoqK9Ly504YMLAAIruzEbJknoSbkkafynKRwxAQADAgADcwADKQQ","file_unique_id":"AQADK7sxGyZJ6El4","file_size":720,"width":90,"height":39}>, <PhotoSize {"file_id":"AgACAgIAAxkBAAIILmK8UR90Mm8fzByIoqK9Ly504YMLAAIruzEbJknoSbkkafynKRwxAQADAgADbQADKQQ","file_unique_id":"AQADK7sxGyZJ6Ely","file_size":9773,"width":320,"height":137}>, <PhotoSize {"file_id":"AgACAgIAAxkBAAIILmK8UR90Mm8fzByIoqK9Ly504YMLAAIruzEbJknoSbkkafynKRwxAQADAgADeAADKQQ","file_unique_id":"AQADK7sxGyZJ6El9","file_size":33716,"width":780,"height":333}>]
2022-06-29T22:18:57.286850+0900 INFO [<PhotoSize {"file_id":"AgACAgIAAxkBAAIIMmK8UTFQqFS_ZcSbphtqfSV1UTFIAAIpuzEbJknoSeaO-SIudA2uAQADAgADcwADKQQ","file_unique_id":"AQADKbsxGyZJ6El4","file_size":1234,"width":90,"height":51}>, <PhotoSize {"file_id":"AgACAgIAAxkBAAIIMmK8UTFQqFS_ZcSbphtqfSV1UTFIAAIpuzEbJknoSeaO-SIudA2uAQADAgADbQADKQQ","file_unique_id":"AQADKbsxGyZJ6Ely","file_size":14198,"width":320,"height":180}>, <PhotoSize {"file_id":"AgACAgIAAxkBAAIIMmK8UTFQqFS_ZcSbphtqfSV1UTFIAAIpuzEbJknoSeaO-SIudA2uAQADAgADeAADKQQ","file_unique_id":"AQADKbsxGyZJ6El9","file_size":53362,"width":800,"height":450}>, <PhotoSize {"file_id":"AgACAgIAAxkBAAIIMmK8UTFQqFS_ZcSbphtqfSV1UTFIAAIpuzEbJknoSeaO-SIudA2uAQADAgADeQADKQQ","file_unique_id":"AQADKbsxGyZJ6El-","file_size":89698,"width":1280,"height":720}>]
2022-06-29T22:18:58.459130+0900 INFO [<PhotoSize {"file_id":"AgACAgIAAxkBAAIIM2K8UTG_A_QXRqoEeZQ7FzHVKQq_AAIouzEbJknoSbKkpj_tKtPkAQADAgADcwADKQQ","file_unique_id":"AQADKLsxGyZJ6El4","file_size":939,"width":90,"height":51}>, <PhotoSize {"file_id":"AgACAgIAAxkBAAIIM2K8UTG_A_QXRqoEeZQ7FzHVKQq_AAIouzEbJknoSbKkpj_tKtPkAQADAgADbQADKQQ","file_unique_id":"AQADKLsxGyZJ6Ely","file_size":5230,"width":320,"height":180}>, <PhotoSize {"file_id":"AgACAgIAAxkBAAIIM2K8UTG_A_QXRqoEeZQ7FzHVKQq_AAIouzEbJknoSbKkpj_tKtPkAQADAgADeAADKQQ","file_unique_id":"AQADKLsxGyZJ6El9","file_size":19170,"width":800,"height":450}>, <PhotoSize {"file_id":"AgACAgIAAxkBAAIIM2K8UTG_A_QXRqoEeZQ7FzHVKQq_AAIouzEbJknoSbKkpj_tKtPkAQADAgADeQADKQQ","file_unique_id":"AQADKLsxGyZJ6El-","file_size":28097,"width":1280,"height":720}>]
2022-06-29T23:46:45.504181+0900 WARNING Shutting down!..
2022-06-29T23:46:46.073398+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-29T23:46:46.073606+0900 WARNING Bye!
2022-06-29T23:46:48.434231+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7ff1c84e3400>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7ff1c84e24d0>
    └ <uvicorn.server.Server object at 0x7ff1c85de4d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7ff1c84e2560>
           │       │   └ <uvicorn.server.Server object at 0x7ff1c85de4d0>
           │       └ <function run at 0x7ff1cbb83c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7ff1c84a38b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7ff1cb25a560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7ff1cb25a4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7ff1cb25c040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7ff1cb40b9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7ff1c8556cb0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7ff1c84fb0d0>
          │   │      │    └ <function LifespanOn.receive at 0x7ff1c8556d40>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7ff1c84fb0d0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff1...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff1c85de3b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff1c84fb0d0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff1c84fb0d0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff1...
                 │    └ <fastapi.applications.FastAPI object at 0x7ff1c8561570>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff1c85de3b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff1c84fb0d0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff1c84fb0d0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff1...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff1c84fb0d0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff1c84fb0d0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff1...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff1c8561e40>
          └ <fastapi.applications.FastAPI object at 0x7ff1c8561570>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff1c84fb0d0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff1c84fb0d0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff1...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff1c8561de0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff1c8561e40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff1c84fb0d0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff1c84fb0d0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff1...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff1c8561db0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff1c8561de0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff1c84fb0d0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff1c84fb0d0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff1...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7ff1c8561d50>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff1c8561db0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff1c84fb0d0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff1c84fb0d0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff1...
          │    └ <fastapi.routing.APIRouter object at 0x7ff1c85615d0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7ff1c8561d50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff1c84fb0d0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff1c84fb0d0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff1...
          │    └ <function Router.lifespan at 0x7ff1c8c6eb00>
          └ <fastapi.routing.APIRouter object at 0x7ff1c85615d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7ff1c8561570>
               │    └ <starlette.routing._DefaultLifespan object at 0x7ff1c8561630>
               └ <fastapi.routing.APIRouter object at 0x7ff1c85615d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7ff1c8c6e9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7ff1c85615d0>
          └ <starlette.routing._DefaultLifespan object at 0x7ff1c8561630>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7ff1c8557490>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7ff1c85d9990>
          └ <bot_app.TelegramBot object at 0x7ff1c8561ae0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7ff1c85d9a20>
          └ <bot_app.TelegramBot object at 0x7ff1c8561ae0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7ff1c859cb20>
          │                 └ <bot_app.TelegramBot object at 0x7ff1c8561ae0>
          └ <function on_startup_notify at 0x7ff1c8279360>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7ff1c9da7880>
          │  └ <aiogram.bot.bot.Bot object at 0x7ff1c859c880>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7ff1c859cb20>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7ff1c9d63400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7ff1c9da6050>
                   └ <aiogram.bot.bot.Bot object at 0x7ff1c859c880>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7ff1c859c880>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7ff1c859c880>
                 │   │                  │    └ <function BaseBot.get_session at 0x7ff1c9da5900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7ff1c859c880>
                 │   └ <function make_request at 0x7ff1c9d4af80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7ff1ca8c12d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7ff1cabf9f80>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7ff1c9d4acb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7ff1c9d4a680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-29T23:46:48.913298+0900 INFO IzfirBot: Dispatcher loaded
2022-06-29T23:46:59.741564+0900 WARNING Shutting down!..
2022-06-29T23:46:59.886949+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-29T23:46:59.887125+0900 WARNING Bye!
2022-06-29T23:47:02.187059+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f1b6fca7520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f1b6fca65f0>
    └ <uvicorn.server.Server object at 0x7f1b6fda6470>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f1b6fca6680>
           │       │   └ <uvicorn.server.Server object at 0x7f1b6fda6470>
           │       └ <function run at 0x7f1b73353c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1b6fc678b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f1b72a2a560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f1b72a2a4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f1b72a2c040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f1b72bdb9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f1b6fd1add0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f1b6fcbb070>
          │   │      │    └ <function LifespanOn.receive at 0x7f1b6fd1ae60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f1b6fcbb070>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1b...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1b6fda6350>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1b6fcbb070>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1b6fcbb070>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1b...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1b6fd21510>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1b6fda6350>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1b6fcbb070>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1b6fcbb070>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1b...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1b6fcbb070>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1b6fcbb070>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1b...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1b6fd21de0>
          └ <fastapi.applications.FastAPI object at 0x7f1b6fd21510>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1b6fcbb070>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1b6fcbb070>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1b...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f1b6fd21d80>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1b6fd21de0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1b6fcbb070>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1b6fcbb070>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1b...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1b6fd21d50>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f1b6fd21d80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1b6fcbb070>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1b6fcbb070>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1b...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1b6fd21cf0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1b6fd21d50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1b6fcbb070>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1b6fcbb070>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1b...
          │    └ <fastapi.routing.APIRouter object at 0x7f1b6fd21570>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1b6fd21cf0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1b6fcbb070>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1b6fcbb070>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f1b...
          │    └ <function Router.lifespan at 0x7f1b70432b00>
          └ <fastapi.routing.APIRouter object at 0x7f1b6fd21570>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f1b6fd21510>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f1b6fd215d0>
               └ <fastapi.routing.APIRouter object at 0x7f1b6fd21570>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f1b704329e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f1b6fd21570>
          └ <starlette.routing._DefaultLifespan object at 0x7f1b6fd215d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f1b6fd1b5b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f1b6fd95ab0>
          └ <bot_app.TelegramBot object at 0x7f1b6fd21a80>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f1b6fd95b40>
          └ <bot_app.TelegramBot object at 0x7f1b6fd21a80>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f1b6fd68ac0>
          │                 └ <bot_app.TelegramBot object at 0x7f1b6fd21a80>
          └ <function on_startup_notify at 0x7f1b6fa41480>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f1b715ab880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f1b6fd68820>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f1b6fd68ac0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f1b715673d0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f1b715aa050>
                   └ <aiogram.bot.bot.Bot object at 0x7f1b6fd68820>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f1b6fd68820>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f1b6fd68820>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f1b715a9900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f1b6fd68820>
                 │   └ <function make_request at 0x7f1b7154ef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f1b720812d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f1b72171e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f1b7154ecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f1b7154e680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-29T23:47:02.692171+0900 INFO IzfirBot: Dispatcher loaded
2022-06-29T23:50:11.165251+0900 WARNING Shutting down!..
2022-06-29T23:50:11.706141+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-29T23:50:11.706394+0900 WARNING Bye!
2022-06-29T23:50:14.116986+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f112c5c3520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f112c5c25f0>
    └ <uvicorn.server.Server object at 0x7f112c6c2470>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f112c5c2680>
           │       │   └ <uvicorn.server.Server object at 0x7f112c6c2470>
           │       └ <function run at 0x7f112fc6bc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f112c5838b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f112f342560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f112f3424d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f112f344040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f112f4f39a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f112c636dd0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f112c5d7070>
          │   │      │    └ <function LifespanOn.receive at 0x7f112c636e60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f112c5d7070>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f11...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f112c6c2350>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f112c5d7070>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f112c5d7070>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f11...
                 │    └ <fastapi.applications.FastAPI object at 0x7f112c641510>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f112c6c2350>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f112c5d7070>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f112c5d7070>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f11...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f112c5d7070>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f112c5d7070>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f11...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f112c641de0>
          └ <fastapi.applications.FastAPI object at 0x7f112c641510>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f112c5d7070>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f112c5d7070>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f11...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f112c641d80>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f112c641de0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f112c5d7070>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f112c5d7070>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f11...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f112c641d50>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f112c641d80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f112c5d7070>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f112c5d7070>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f11...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f112c641cf0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f112c641d50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f112c5d7070>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f112c5d7070>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f11...
          │    └ <fastapi.routing.APIRouter object at 0x7f112c641570>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f112c641cf0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f112c5d7070>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f112c5d7070>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f11...
          │    └ <function Router.lifespan at 0x7f112cd52b00>
          └ <fastapi.routing.APIRouter object at 0x7f112c641570>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f112c641510>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f112c6415d0>
               └ <fastapi.routing.APIRouter object at 0x7f112c641570>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f112cd529e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f112c641570>
          └ <starlette.routing._DefaultLifespan object at 0x7f112c6415d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f112c6375b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f112c6b1ab0>
          └ <bot_app.TelegramBot object at 0x7f112c641a80>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f112c6b1b40>
          └ <bot_app.TelegramBot object at 0x7f112c641a80>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f112c680ac0>
          │                 └ <bot_app.TelegramBot object at 0x7f112c641a80>
          └ <function on_startup_notify at 0x7f112c35d480>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f112d96b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f112c680820>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f112c680ac0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f112d9273d0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f112d96a050>
                   └ <aiogram.bot.bot.Bot object at 0x7f112c680820>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f112c680820>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f112c680820>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f112d969900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f112c680820>
                 │   └ <function make_request at 0x7f112d90ef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f112e7092d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f112ec69e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f112d90ecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f112d90e680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-29T23:50:14.620750+0900 INFO IzfirBot: Dispatcher loaded
2022-06-29T23:50:44.003590+0900 WARNING Shutting down!..
2022-06-29T23:50:44.432365+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-29T23:50:44.432537+0900 WARNING Bye!
2022-06-29T23:50:46.633478+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fd402f8f520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fd402f8e5f0>
    └ <uvicorn.server.Server object at 0x7fd40308e4a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fd402f8e680>
           │       │   └ <uvicorn.server.Server object at 0x7fd40308e4a0>
           │       └ <function run at 0x7fd406657c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fd40314b8b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fd405d2a560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fd405d2a4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fd405d30040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fd405edf9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fd403002dd0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd402fa30a0>
          │   │      │    └ <function LifespanOn.receive at 0x7fd403002e60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fd402fa30a0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd40308e380>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd402fa30a0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd402fa30a0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
                 │    └ <fastapi.applications.FastAPI object at 0x7fd40300d540>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fd40308e380>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd402fa30a0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd402fa30a0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd402fa30a0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd402fa30a0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd40300de10>
          └ <fastapi.applications.FastAPI object at 0x7fd40300d540>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd402fa30a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd402fa30a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd40300ddb0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fd40300de10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd402fa30a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd402fa30a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd40300dd80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fd40300ddb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd402fa30a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd402fa30a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd40300dd20>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fd40300dd80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd402fa30a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd402fa30a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          │    └ <fastapi.routing.APIRouter object at 0x7fd40300d5a0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fd40300dd20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fd402fa30a0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fd402fa30a0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fd4...
          │    └ <function Router.lifespan at 0x7fd40371eb00>
          └ <fastapi.routing.APIRouter object at 0x7fd40300d5a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fd40300d540>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fd40300d600>
               └ <fastapi.routing.APIRouter object at 0x7fd40300d5a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fd40371e9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7fd40300d5a0>
          └ <starlette.routing._DefaultLifespan object at 0x7fd40300d600>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fd4030035b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fd40307dab0>
          └ <bot_app.TelegramBot object at 0x7fd40300dab0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fd40307db40>
          └ <bot_app.TelegramBot object at 0x7fd40300dab0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd403294af0>
          │                 └ <bot_app.TelegramBot object at 0x7fd40300dab0>
          └ <function on_startup_notify at 0x7fd402f25480>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fd40435f880>
          │  └ <aiogram.bot.bot.Bot object at 0x7fd403294850>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fd403294af0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fd40431b430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fd40435e050>
                   └ <aiogram.bot.bot.Bot object at 0x7fd403294850>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fd403294850>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fd403294850>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fd40435d900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fd403294850>
                 │   └ <function make_request at 0x7fd404302f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fd4051012d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fd40565dda0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fd404302cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fd404302680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-29T23:50:47.181912+0900 INFO IzfirBot: Dispatcher loaded
2022-06-29T23:51:30.926291+0900 WARNING Shutting down!..
2022-06-29T23:51:31.072745+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-29T23:51:31.072967+0900 WARNING Bye!
2022-06-29T23:51:32.841772+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f067157f520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f067157e5f0>
    └ <uvicorn.server.Server object at 0x7f067167e590>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f067157e680>
           │       │   └ <uvicorn.server.Server object at 0x7f067167e590>
           │       └ <function run at 0x7f0674c2fc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f0671543840>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f0674306560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f06743064d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f0674308040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f06744b79a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f06715f2dd0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f0671593190>
          │   │      │    └ <function LifespanOn.receive at 0x7f06715f2e60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f0671593190>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f06...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f067167e470>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0671593190>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0671593190>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f06...
                 │    └ <fastapi.applications.FastAPI object at 0x7f06715f9630>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f067167e470>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0671593190>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0671593190>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f06...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0671593190>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0671593190>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f06...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f06715f9f00>
          └ <fastapi.applications.FastAPI object at 0x7f06715f9630>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0671593190>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0671593190>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f06...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f06715f9ea0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f06715f9f00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0671593190>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0671593190>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f06...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f06715f9e70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f06715f9ea0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0671593190>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0671593190>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f06...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f06715f9e10>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f06715f9e70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0671593190>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0671593190>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f06...
          │    └ <fastapi.routing.APIRouter object at 0x7f06715f9690>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f06715f9e10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f0671593190>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f0671593190>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f06...
          │    └ <function Router.lifespan at 0x7f0671ce2b00>
          └ <fastapi.routing.APIRouter object at 0x7f06715f9690>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f06715f9630>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f06715f96f0>
               └ <fastapi.routing.APIRouter object at 0x7f06715f9690>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f0671ce29e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f06715f9690>
          └ <starlette.routing._DefaultLifespan object at 0x7f06715f96f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f06715f35b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f067166dab0>
          └ <bot_app.TelegramBot object at 0x7f06715f9ba0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f067166db40>
          └ <bot_app.TelegramBot object at 0x7f06715f9ba0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f067163cbb0>
          │                 └ <bot_app.TelegramBot object at 0x7f06715f9ba0>
          └ <function on_startup_notify at 0x7f0671515480>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f0672967880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f067163c910>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f067163cbb0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f06729234c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f0672966050>
                   └ <aiogram.bot.bot.Bot object at 0x7f067163c910>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f067163c910>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f067163c910>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f0672965900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f067163c910>
                 │   └ <function make_request at 0x7f067290af80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f06737092d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f0673c65ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f067290acb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f067290a680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-29T23:51:33.331419+0900 INFO IzfirBot: Dispatcher loaded
2022-06-29T23:51:58.639044+0900 ERROR <_io.BytesIO object at 0x7f067162a160> is not JSON serializable
2022-06-29T23:51:58.639250+0900 ERROR Can't produce_message
2022-06-30T00:01:17.942503+0900 WARNING Shutting down!..
2022-06-30T00:01:18.505115+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T00:01:18.505329+0900 WARNING Bye!
2022-06-30T00:01:20.176246+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f89ea77f490>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f89ea77e560>
    └ <uvicorn.server.Server object at 0x7f89ea882530>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f89ea77e5f0>
           │       │   └ <uvicorn.server.Server object at 0x7f89ea882530>
           │       └ <function run at 0x7f89ede1fc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f89ea743840>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f89ed4f6560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f89ed4f64d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f89ed4f8040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f89ed6a79a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f89ea7f2d40>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f89ea793130>
          │   │      │    └ <function LifespanOn.receive at 0x7f89ea7f2dd0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f89ea793130>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f89...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f89ea882410>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f89ea793130>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f89ea793130>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f89...
                 │    └ <fastapi.applications.FastAPI object at 0x7f89ea7fd5d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f89ea882410>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f89ea793130>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f89ea793130>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f89...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f89ea793130>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f89ea793130>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f89...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f89ea7fdea0>
          └ <fastapi.applications.FastAPI object at 0x7f89ea7fd5d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f89ea793130>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f89ea793130>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f89...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f89ea7fde40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f89ea7fdea0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f89ea793130>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f89ea793130>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f89...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f89ea7fde10>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f89ea7fde40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f89ea793130>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f89ea793130>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f89...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f89ea7fddb0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f89ea7fde10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f89ea793130>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f89ea793130>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f89...
          │    └ <fastapi.routing.APIRouter object at 0x7f89ea7fd630>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f89ea7fddb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f89ea793130>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f89ea793130>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f89...
          │    └ <function Router.lifespan at 0x7f89eaeceb00>
          └ <fastapi.routing.APIRouter object at 0x7f89ea7fd630>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f89ea7fd5d0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f89ea7fd690>
               └ <fastapi.routing.APIRouter object at 0x7f89ea7fd630>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f89eaece9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f89ea7fd630>
          └ <starlette.routing._DefaultLifespan object at 0x7f89ea7fd690>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f89ea7f3520>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f89ea871a20>
          └ <bot_app.TelegramBot object at 0x7f89ea7fdb40>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f89ea871ab0>
          └ <bot_app.TelegramBot object at 0x7f89ea7fdb40>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f89ea840b20>
          │                 └ <bot_app.TelegramBot object at 0x7f89ea7fdb40>
          └ <function on_startup_notify at 0x7f89ea7113f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f89ebb67880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f89ea840880>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f89ea840b20>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f89ebb23430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f89ebb66050>
                   └ <aiogram.bot.bot.Bot object at 0x7f89ea840880>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f89ea840880>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f89ea840880>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f89ebb65900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f89ea840880>
                 │   └ <function make_request at 0x7f89ebb0af80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f89ec9092d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f89ece65ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f89ebb0acb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f89ebb0a680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T00:01:20.652901+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T00:01:28.831284+0900 ERROR reject_bytes is on and '����' is bytes
2022-06-30T00:01:28.831519+0900 ERROR Can't produce_message
2022-06-30T00:21:23.881503+0900 WARNING Shutting down!..
2022-06-30T00:21:24.470673+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T00:21:24.470859+0900 WARNING Bye!
2022-06-30T00:21:26.349127+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7ff828727520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7ff8287265f0>
    └ <uvicorn.server.Server object at 0x7ff82882a560>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7ff828726680>
           │       │   └ <uvicorn.server.Server object at 0x7ff82882a560>
           │       └ <function run at 0x7ff82bdbfc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7ff8286e7920>
           │    └ <function BaseEventLoop.run_until_complete at 0x7ff82b492560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7ff82b4924d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7ff82b494040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7ff82b6439a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7ff82879add0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7ff82873f160>
          │   │      │    └ <function LifespanOn.receive at 0x7ff82879ae60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7ff82873f160>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff82882a440>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff82873f160>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff82873f160>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
                 │    └ <fastapi.applications.FastAPI object at 0x7ff8287a1600>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff82882a440>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff82873f160>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff82873f160>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff82873f160>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff82873f160>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff8287a1ed0>
          └ <fastapi.applications.FastAPI object at 0x7ff8287a1600>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff82873f160>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff82873f160>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff8287a1e70>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff8287a1ed0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff82873f160>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff82873f160>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff8287a1e40>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff8287a1e70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff82873f160>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff82873f160>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7ff8287a1de0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff8287a1e40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff82873f160>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff82873f160>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          │    └ <fastapi.routing.APIRouter object at 0x7ff8287a1660>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7ff8287a1de0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff82873f160>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff82873f160>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff8...
          │    └ <function Router.lifespan at 0x7ff828e86b00>
          └ <fastapi.routing.APIRouter object at 0x7ff8287a1660>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7ff8287a1600>
               │    └ <starlette.routing._DefaultLifespan object at 0x7ff8287a16c0>
               └ <fastapi.routing.APIRouter object at 0x7ff8287a1660>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7ff828e869e0>
          │    └ <fastapi.routing.APIRouter object at 0x7ff8287a1660>
          └ <starlette.routing._DefaultLifespan object at 0x7ff8287a16c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7ff82879b5b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7ff828819ab0>
          └ <bot_app.TelegramBot object at 0x7ff8287a1b70>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7ff828819b40>
          └ <bot_app.TelegramBot object at 0x7ff8287a1b70>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7ff8287e4b50>
          │                 └ <bot_app.TelegramBot object at 0x7ff8287a1b70>
          └ <function on_startup_notify at 0x7ff8286b9480>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7ff829a53880>
          │  └ <aiogram.bot.bot.Bot object at 0x7ff8287e48b0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7ff8287e4b50>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7ff829a0f460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7ff829a52050>
                   └ <aiogram.bot.bot.Bot object at 0x7ff8287e48b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7ff8287e48b0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7ff8287e48b0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7ff829a51900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7ff8287e48b0>
                 │   └ <function make_request at 0x7ff8299f6f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7ff82a9f52d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7ff82ade5f30>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7ff8299f6cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7ff8299f6680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T00:21:26.835970+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T00:24:12.306965+0900 WARNING Shutting down!..
2022-06-30T00:24:12.893016+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T00:24:12.893188+0900 WARNING Bye!
2022-06-30T00:24:14.489689+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f52b3c375b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f52b3c36680>
    └ <uvicorn.server.Server object at 0x7f52b3d3a5c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f52b3c36710>
           │       │   └ <uvicorn.server.Server object at 0x7f52b3d3a5c0>
           │       └ <function run at 0x7f52b72c3c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f52b3bfb840>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f52b699a560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f52b699a4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f52b699c040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f52b6b4b9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f52b3caee60>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f52b3c4f1c0>
          │   │      │    └ <function LifespanOn.receive at 0x7f52b3caeef0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f52b3c4f1c0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f52...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f52b3d3a4a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f52b3c4f1c0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f52b3c4f1c0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f52...
                 │    └ <fastapi.applications.FastAPI object at 0x7f52b3cb1660>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f52b3d3a4a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f52b3c4f1c0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f52b3c4f1c0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f52...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f52b3c4f1c0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f52b3c4f1c0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f52...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f52b3cb1f30>
          └ <fastapi.applications.FastAPI object at 0x7f52b3cb1660>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f52b3c4f1c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f52b3c4f1c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f52...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f52b3cb1ed0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f52b3cb1f30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f52b3c4f1c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f52b3c4f1c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f52...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f52b3cb1ea0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f52b3cb1ed0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f52b3c4f1c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f52b3c4f1c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f52...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f52b3cb1e40>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f52b3cb1ea0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f52b3c4f1c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f52b3c4f1c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f52...
          │    └ <fastapi.routing.APIRouter object at 0x7f52b3cb16c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f52b3cb1e40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f52b3c4f1c0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f52b3c4f1c0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f52...
          │    └ <function Router.lifespan at 0x7f52b4396b00>
          └ <fastapi.routing.APIRouter object at 0x7f52b3cb16c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f52b3cb1660>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f52b3cb1720>
               └ <fastapi.routing.APIRouter object at 0x7f52b3cb16c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f52b43969e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f52b3cb16c0>
          └ <starlette.routing._DefaultLifespan object at 0x7f52b3cb1720>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f52b3caf640>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f52b3d29b40>
          └ <bot_app.TelegramBot object at 0x7f52b3cb1bd0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f52b3d29bd0>
          └ <bot_app.TelegramBot object at 0x7f52b3cb1bd0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f52b3cf4bb0>
          │                 └ <bot_app.TelegramBot object at 0x7f52b3cb1bd0>
          └ <function on_startup_notify at 0x7f52b3bc9510>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f52b4f63880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f52b3cf4910>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f52b3cf4bb0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f52b4f1f4c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f52b4f62050>
                   └ <aiogram.bot.bot.Bot object at 0x7f52b3cf4910>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f52b3cf4910>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f52b3cf4910>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f52b4f61900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f52b3cf4910>
                 │   └ <function make_request at 0x7f52b4f06f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f52b5d012d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f52b62f9e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f52b4f06cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f52b4f06680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T00:24:14.935490+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T00:24:26.844989+0900 ERROR reject_bytes is on and '����' is bytes
2022-06-30T00:24:26.845170+0900 ERROR Can't produce_message
2022-06-30T00:24:57.752514+0900 WARNING Shutting down!..
2022-06-30T00:24:58.219374+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T00:24:58.219544+0900 WARNING Bye!
2022-06-30T00:24:59.963138+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f333c943520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f333c9425f0>
    └ <uvicorn.server.Server object at 0x7f333ca425f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f333c942680>
           │       │   └ <uvicorn.server.Server object at 0x7f333ca425f0>
           │       └ <function run at 0x7f333ffdfc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f333c907840>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f333f6b6560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f333f6b64d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f333f6b8040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f333f8679a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f333c9b6dd0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f333c9571f0>
          │   │      │    └ <function LifespanOn.receive at 0x7f333c9b6e60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f333c9571f0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f33...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f333ca424d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f333c9571f0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f333c9571f0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f33...
                 │    └ <fastapi.applications.FastAPI object at 0x7f333c9c1690>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f333ca424d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f333c9571f0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f333c9571f0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f33...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f333c9571f0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f333c9571f0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f33...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f333c9c1f60>
          └ <fastapi.applications.FastAPI object at 0x7f333c9c1690>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f333c9571f0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f333c9571f0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f33...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f333c9c1f00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f333c9c1f60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f333c9571f0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f333c9571f0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f33...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f333c9c1ed0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f333c9c1f00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f333c9571f0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f333c9571f0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f33...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f333c9c1e70>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f333c9c1ed0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f333c9571f0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f333c9571f0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f33...
          │    └ <fastapi.routing.APIRouter object at 0x7f333c9c16f0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f333c9c1e70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f333c9571f0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f333c9571f0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f33...
          │    └ <function Router.lifespan at 0x7f333d0a6b00>
          └ <fastapi.routing.APIRouter object at 0x7f333c9c16f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f333c9c1690>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f333c9c1750>
               └ <fastapi.routing.APIRouter object at 0x7f333c9c16f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f333d0a69e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f333c9c16f0>
          └ <starlette.routing._DefaultLifespan object at 0x7f333c9c1750>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f333c9b75b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f333ca31ab0>
          └ <bot_app.TelegramBot object at 0x7f333c9c1c00>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f333ca31b40>
          └ <bot_app.TelegramBot object at 0x7f333c9c1c00>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f333ca00b80>
          │                 └ <bot_app.TelegramBot object at 0x7f333c9c1c00>
          └ <function on_startup_notify at 0x7f333c8d5480>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f333dd67880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f333ca008e0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f333ca00b80>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f333dd234c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f333dd66050>
                   └ <aiogram.bot.bot.Bot object at 0x7f333ca008e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f333ca008e0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f333ca008e0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f333dd65900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f333ca008e0>
                 │   └ <function make_request at 0x7f333dd0af80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f333eb092d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f333f05dee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f333dd0acb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f333dd0a680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T00:25:00.531779+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T00:25:08.708502+0900 ERROR Overlong 3 byte UTF-8 sequence detected when encoding string
2022-06-30T00:25:08.708695+0900 ERROR Can't produce_message
2022-06-30T00:29:01.563459+0900 ERROR Overlong 3 byte UTF-8 sequence detected when encoding string
2022-06-30T00:29:01.563780+0900 ERROR Can't produce_message
2022-06-30T00:29:41.739178+0900 ERROR Overlong 2 byte UTF-8 sequence detected when encoding string
2022-06-30T00:29:41.739362+0900 ERROR Can't produce_message
2022-06-30T00:31:50.371819+0900 WARNING Shutting down!..
2022-06-30T00:31:50.824361+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T00:31:50.824602+0900 WARNING Bye!
2022-06-30T00:31:53.633336+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f05252df5b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f05252de680>
    └ <uvicorn.server.Server object at 0x7f05253e25f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f05252de710>
           │       │   └ <uvicorn.server.Server object at 0x7f05253e25f0>
           │       └ <function run at 0x7f052898fc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f052529f8b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f0528066560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f05280664d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f0528068040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f05282179a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f0525352e60>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f05252f71f0>
          │   │      │    └ <function LifespanOn.receive at 0x7f0525352ef0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f05252f71f0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f05...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f05253e24d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f05252f71f0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f05252f71f0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f05...
                 │    └ <fastapi.applications.FastAPI object at 0x7f052535d690>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f05253e24d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f05252f71f0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f05252f71f0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f05...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f05252f71f0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f05252f71f0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f05...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f052535df60>
          └ <fastapi.applications.FastAPI object at 0x7f052535d690>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f05252f71f0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f05252f71f0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f05...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f052535df00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f052535df60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f05252f71f0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f05252f71f0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f05...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f052535ded0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f052535df00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f05252f71f0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f05252f71f0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f05...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f052535de70>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f052535ded0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f05252f71f0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f05252f71f0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f05...
          │    └ <fastapi.routing.APIRouter object at 0x7f052535d6f0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f052535de70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f05252f71f0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f05252f71f0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f05...
          │    └ <function Router.lifespan at 0x7f0525a66b00>
          └ <fastapi.routing.APIRouter object at 0x7f052535d6f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f052535d690>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f052535d750>
               └ <fastapi.routing.APIRouter object at 0x7f052535d6f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f0525a669e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f052535d6f0>
          └ <starlette.routing._DefaultLifespan object at 0x7f052535d750>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f0525353640>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f05253d1b40>
          └ <bot_app.TelegramBot object at 0x7f052535dc00>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f05253d1bd0>
          └ <bot_app.TelegramBot object at 0x7f052535dc00>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f052539cbb0>
          │                 └ <bot_app.TelegramBot object at 0x7f052535dc00>
          └ <function on_startup_notify at 0x7f0525075510>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f0526ba3880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f052539c910>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f052539cbb0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f0526b5f4c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f0526ba2050>
                   └ <aiogram.bot.bot.Bot object at 0x7f052539c910>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f052539c910>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f052539c910>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f0526ba1900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f052539c910>
                 │   └ <function make_request at 0x7f0526b46f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f05276c52d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f05279fde40>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f0526b46cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f0526b46680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T00:31:54.169842+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T00:32:06.216114+0900 ERROR Overlong 2 byte UTF-8 sequence detected when encoding string
2022-06-30T00:32:06.216382+0900 ERROR Can't produce_message
2022-06-30T00:34:51.313734+0900 WARNING Shutting down!..
2022-06-30T00:34:51.858461+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T00:34:51.858658+0900 WARNING Bye!
2022-06-30T00:34:53.613349+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f47e0e275b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f47e0e26680>
    └ <uvicorn.server.Server object at 0x7f47e0f2e590>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f47e0e26710>
           │       │   └ <uvicorn.server.Server object at 0x7f47e0f2e590>
           │       └ <function run at 0x7f47e44e3c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f47e0deb840>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f47e3bb6560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f47e3bb64d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f47e3bbc040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f47e3d6b9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f47e0e9ae60>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f47e0e3f190>
          │   │      │    └ <function LifespanOn.receive at 0x7f47e0e9aef0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f47e0e3f190>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f47...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f47e0f2e470>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f47e0e3f190>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f47e0e3f190>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f47...
                 │    └ <fastapi.applications.FastAPI object at 0x7f47e0ea5630>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f47e0f2e470>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f47e0e3f190>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f47e0e3f190>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f47...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f47e0e3f190>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f47e0e3f190>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f47...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f47e0ea5f00>
          └ <fastapi.applications.FastAPI object at 0x7f47e0ea5630>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f47e0e3f190>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f47e0e3f190>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f47...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f47e0ea5ea0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f47e0ea5f00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f47e0e3f190>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f47e0e3f190>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f47...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f47e0ea5e70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f47e0ea5ea0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f47e0e3f190>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f47e0e3f190>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f47...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f47e0ea5e10>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f47e0ea5e70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f47e0e3f190>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f47e0e3f190>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f47...
          │    └ <fastapi.routing.APIRouter object at 0x7f47e0ea5690>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f47e0ea5e10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f47e0e3f190>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f47e0e3f190>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f47...
          │    └ <function Router.lifespan at 0x7f47e15c6b00>
          └ <fastapi.routing.APIRouter object at 0x7f47e0ea5690>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f47e0ea5630>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f47e0ea56f0>
               └ <fastapi.routing.APIRouter object at 0x7f47e0ea5690>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f47e15c69e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f47e0ea5690>
          └ <starlette.routing._DefaultLifespan object at 0x7f47e0ea56f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f47e0e9b640>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f47e0f1db40>
          └ <bot_app.TelegramBot object at 0x7f47e0ea5ba0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f47e0f1dbd0>
          └ <bot_app.TelegramBot object at 0x7f47e0ea5ba0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f47e0ee8b50>
          │                 └ <bot_app.TelegramBot object at 0x7f47e0ea5ba0>
          └ <function on_startup_notify at 0x7f47e0db5510>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f47e225f880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f47e0ee88b0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f47e0ee8b50>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f47e221b460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f47e225e050>
                   └ <aiogram.bot.bot.Bot object at 0x7f47e0ee88b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f47e0ee88b0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f47e0ee88b0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f47e225d900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f47e0ee88b0>
                 │   └ <function make_request at 0x7f47e2202f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f47e2d012d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f47e3561e40>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f47e2202cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f47e2202680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T00:34:54.091263+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T00:35:06.479691+0900 ERROR Object of type bytes is not JSON serializable
2022-06-30T00:35:06.479966+0900 ERROR Can't produce_message
2022-06-30T00:43:23.144102+0900 WARNING Shutting down!..
2022-06-30T00:43:23.718190+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T00:43:23.718383+0900 WARNING Bye!
2022-06-30T00:43:25.429429+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f544230b520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f544230a5f0>
    └ <uvicorn.server.Server object at 0x7f544240e560>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f544230a680>
           │       │   └ <uvicorn.server.Server object at 0x7f544240e560>
           │       └ <function run at 0x7f54459bbc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f54422cf840>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f544508e560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f544508e4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f5445090040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f544523f9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f544237edd0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f54423231c0>
          │   │      │    └ <function LifespanOn.receive at 0x7f544237ee60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f54423231c0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f54...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5442323040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f54423231c0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f54423231c0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f54...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5442389600>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5442323040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f54423231c0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f54423231c0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f54...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f54423231c0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f54423231c0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f54...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5442389ed0>
          └ <fastapi.applications.FastAPI object at 0x7f5442389600>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f54423231c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f54423231c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f54...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5442389e70>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5442389ed0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f54423231c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f54423231c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f54...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5442389e40>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5442389e70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f54423231c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f54423231c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f54...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5442389de0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5442389e40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f54423231c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f54423231c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f54...
          │    └ <fastapi.routing.APIRouter object at 0x7f5442389660>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5442389de0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f54423231c0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f54423231c0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f54...
          │    └ <function Router.lifespan at 0x7f5442a76b00>
          └ <fastapi.routing.APIRouter object at 0x7f5442389660>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f5442389600>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f54423896c0>
               └ <fastapi.routing.APIRouter object at 0x7f5442389660>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f5442a769e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f5442389660>
          └ <starlette.routing._DefaultLifespan object at 0x7f54423896c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f544237f5b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f5442401ab0>
          └ <bot_app.TelegramBot object at 0x7f5442389b70>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f5442401b40>
          └ <bot_app.TelegramBot object at 0x7f5442389b70>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f54425e4af0>
          │                 └ <bot_app.TelegramBot object at 0x7f5442389b70>
          └ <function on_startup_notify at 0x7f544229d480>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f5443653880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f54425e4850>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f54425e4af0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f544360f430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f5443652050>
                   └ <aiogram.bot.bot.Bot object at 0x7f54425e4850>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f54425e4850>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f54425e4850>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f5443651900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f54425e4850>
                 │   └ <function make_request at 0x7f54435f6f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f54445f52d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f54449e5ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f54435f6cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f54435f6680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T00:43:25.900925+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T00:43:40.727431+0900 ERROR [Errno 2] No such file or directory: '23'
2022-06-30T00:43:40.727595+0900 ERROR Can't produce_message
2022-06-30T00:44:04.300187+0900 WARNING Shutting down!..
2022-06-30T00:44:04.744589+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T00:44:04.744795+0900 WARNING Bye!
2022-06-30T00:44:06.212112+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f2e3d43b5b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f2e3d43a680>
    └ <uvicorn.server.Server object at 0x7f2e3d53e500>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f2e3d43a710>
           │       │   └ <uvicorn.server.Server object at 0x7f2e3d53e500>
           │       └ <function run at 0x7f2e40ad7c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f2e3d3fb8b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f2e401aa560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f2e401aa4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f2e401b0040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f2e4035f9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f2e3d4aee60>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f2e3d453100>
          │   │      │    └ <function LifespanOn.receive at 0x7f2e3d4aeef0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f2e3d453100>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2e...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2e3d53e3e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2e3d453100>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2e3d453100>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2e...
                 │    └ <fastapi.applications.FastAPI object at 0x7f2e3d4b95a0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2e3d53e3e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2e3d453100>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2e3d453100>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2e...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2e3d453100>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2e3d453100>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2e...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2e3d4b9e70>
          └ <fastapi.applications.FastAPI object at 0x7f2e3d4b95a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2e3d453100>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2e3d453100>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2e...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f2e3d4b9e10>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2e3d4b9e70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2e3d453100>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2e3d453100>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2e...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2e3d4b9de0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f2e3d4b9e10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2e3d453100>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2e3d453100>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2e...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2e3d4b9d80>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2e3d4b9de0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2e3d453100>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2e3d453100>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2e...
          │    └ <fastapi.routing.APIRouter object at 0x7f2e3d4b9600>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2e3d4b9d80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2e3d453100>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2e3d453100>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f2e...
          │    └ <function Router.lifespan at 0x7f2e3db9eb00>
          └ <fastapi.routing.APIRouter object at 0x7f2e3d4b9600>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f2e3d4b95a0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f2e3d4b9660>
               └ <fastapi.routing.APIRouter object at 0x7f2e3d4b9600>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f2e3db9e9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f2e3d4b9600>
          └ <starlette.routing._DefaultLifespan object at 0x7f2e3d4b9660>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f2e3d4af640>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f2e3d52db40>
          └ <bot_app.TelegramBot object at 0x7f2e3d4b9b10>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f2e3d52dbd0>
          └ <bot_app.TelegramBot object at 0x7f2e3d4b9b10>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f2e3d4fcac0>
          │                 └ <bot_app.TelegramBot object at 0x7f2e3d4b9b10>
          └ <function on_startup_notify at 0x7f2e3d3cd510>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f2e3e85f880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f2e3d4fc820>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f2e3d4fcac0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f2e3e81b3d0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f2e3e85e050>
                   └ <aiogram.bot.bot.Bot object at 0x7f2e3d4fc820>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f2e3d4fc820>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f2e3d4fc820>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f2e3e85d900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f2e3d4fc820>
                 │   └ <function make_request at 0x7f2e3e802f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f2e3f3012d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f2e3fb55e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f2e3e802cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f2e3e802680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T00:44:06.656113+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T00:44:17.291101+0900 ERROR Object of type BytesIO is not JSON serializable
2022-06-30T00:44:17.291345+0900 ERROR Can't produce_message
2022-06-30T00:56:58.774349+0900 WARNING Shutting down!..
2022-06-30T00:56:59.310675+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T00:56:59.310860+0900 WARNING Bye!
2022-06-30T00:57:06.493319+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f9737e37520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f9737e365f0>
    └ <uvicorn.server.Server object at 0x7f9737f364a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f9737e36680>
           │       │   └ <uvicorn.server.Server object at 0x7f9737f364a0>
           │       └ <function run at 0x7f973b4cfc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f9737dfb7d0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f973aba6560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f973aba64d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f973aba8040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f973ad579a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f9737eaadd0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f9737e4b0a0>
          │   │      │    └ <function LifespanOn.receive at 0x7f9737eaae60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f9737e4b0a0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f97...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9737f36380>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9737e4b0a0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9737e4b0a0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f97...
                 │    └ <fastapi.applications.FastAPI object at 0x7f9737eb5540>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9737f36380>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9737e4b0a0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9737e4b0a0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f97...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9737e4b0a0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9737e4b0a0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f97...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9737eb5e10>
          └ <fastapi.applications.FastAPI object at 0x7f9737eb5540>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9737e4b0a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9737e4b0a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f97...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9737eb5db0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9737eb5e10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9737e4b0a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9737e4b0a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f97...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9737eb5d80>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9737eb5db0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9737e4b0a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9737e4b0a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f97...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f9737eb5d20>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9737eb5d80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9737e4b0a0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9737e4b0a0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f97...
          │    └ <fastapi.routing.APIRouter object at 0x7f9737eb55a0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f9737eb5d20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9737e4b0a0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9737e4b0a0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f97...
          │    └ <function Router.lifespan at 0x7f9738592b00>
          └ <fastapi.routing.APIRouter object at 0x7f9737eb55a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f9737eb5540>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f9737eb5600>
               └ <fastapi.routing.APIRouter object at 0x7f9737eb55a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f97385929e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f9737eb55a0>
          └ <starlette.routing._DefaultLifespan object at 0x7f9737eb5600>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f9737eab5b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f9737f25ab0>
          └ <bot_app.TelegramBot object at 0x7f9737eb5ab0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f9737f25b40>
          └ <bot_app.TelegramBot object at 0x7f9737eb5ab0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9737ef8a60>
          │                 └ <bot_app.TelegramBot object at 0x7f9737eb5ab0>
          └ <function on_startup_notify at 0x7f9737dc9480>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f9739163880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f9737ef87c0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9737ef8a60>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f973911f3a0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f9739162050>
                   └ <aiogram.bot.bot.Bot object at 0x7f9737ef87c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f9737ef87c0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f9737ef87c0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f9739161900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f9737ef87c0>
                 │   └ <function make_request at 0x7f9739106f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f9739f052d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f973a4f5ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f9739106cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f9739106680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T00:57:07.181017+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T00:57:24.744678+0900 ERROR Object of type memoryview is not JSON serializable
2022-06-30T00:57:24.744851+0900 ERROR Can't produce_message
2022-06-30T00:57:25.198842+0900 ERROR Object of type memoryview is not JSON serializable
2022-06-30T00:57:25.199029+0900 ERROR Can't produce_message
2022-06-30T00:57:27.807877+0900 ERROR Object of type memoryview is not JSON serializable
2022-06-30T00:57:27.808172+0900 ERROR Can't produce_message
2022-06-30T00:57:32.412274+0900 ERROR Object of type memoryview is not JSON serializable
2022-06-30T00:57:32.412469+0900 ERROR Can't produce_message
2022-06-30T00:57:41.014875+0900 ERROR Object of type memoryview is not JSON serializable
2022-06-30T00:57:41.015045+0900 ERROR Can't produce_message
2022-06-30T00:57:57.902404+0900 ERROR Object of type memoryview is not JSON serializable
2022-06-30T00:57:57.902568+0900 ERROR Can't produce_message
2022-06-30T00:58:30.914227+0900 ERROR Object of type memoryview is not JSON serializable
2022-06-30T00:58:30.914415+0900 ERROR Can't produce_message
2022-06-30T00:59:31.907696+0900 ERROR Object of type memoryview is not JSON serializable
2022-06-30T00:59:31.907875+0900 ERROR Can't produce_message
2022-06-30T01:00:32.926953+0900 ERROR Object of type memoryview is not JSON serializable
2022-06-30T01:00:32.927130+0900 ERROR Can't produce_message
2022-06-30T01:01:04.411272+0900 WARNING Shutting down!..
2022-06-30T01:01:04.951272+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:01:04.951452+0900 WARNING Bye!
2022-06-30T01:01:08.774479+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f752036f520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f752036e5f0>
    └ <uvicorn.server.Server object at 0x7f7520472560>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f752036e680>
           │       │   └ <uvicorn.server.Server object at 0x7f7520472560>
           │       └ <function run at 0x7f7523a1fc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f75203337d0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f75230f2560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f75230f24d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f75230f4040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f75232a39a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f75203e2dd0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f7520383160>
          │   │      │    └ <function LifespanOn.receive at 0x7f75203e2e60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f7520383160>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7520472440>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7520383160>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7520383160>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
                 │    └ <fastapi.applications.FastAPI object at 0x7f75203ed600>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f7520472440>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7520383160>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7520383160>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7520383160>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7520383160>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f75203eded0>
          └ <fastapi.applications.FastAPI object at 0x7f75203ed600>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7520383160>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7520383160>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f75203ede70>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f75203eded0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7520383160>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7520383160>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f75203ede40>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f75203ede70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7520383160>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7520383160>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f75203edde0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f75203ede40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7520383160>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7520383160>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          │    └ <fastapi.routing.APIRouter object at 0x7f75203ed660>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f75203edde0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f7520383160>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f7520383160>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f75...
          │    └ <function Router.lifespan at 0x7f7520ac2b00>
          └ <fastapi.routing.APIRouter object at 0x7f75203ed660>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f75203ed600>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f75203ed6c0>
               └ <fastapi.routing.APIRouter object at 0x7f75203ed660>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f7520ac29e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f75203ed660>
          └ <starlette.routing._DefaultLifespan object at 0x7f75203ed6c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f75203e35b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f7520461ab0>
          └ <bot_app.TelegramBot object at 0x7f75203edb70>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f7520461b40>
          └ <bot_app.TelegramBot object at 0x7f75203edb70>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f7520430b20>
          │                 └ <bot_app.TelegramBot object at 0x7f75203edb70>
          └ <function on_startup_notify at 0x7f75202fd480>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f752175b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f7520430880>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f7520430b20>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f7521713430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f752175a050>
                   └ <aiogram.bot.bot.Bot object at 0x7f7520430880>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f7520430880>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f7520430880>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f7521759900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f7520430880>
                 │   └ <function make_request at 0x7f75216faf80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f75229392d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f7522a55fd0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f75216facb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f75216fa680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:01:09.250424+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:01:53.377756+0900 WARNING Shutting down!..
2022-06-30T01:01:54.106063+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:01:54.106222+0900 WARNING Bye!
2022-06-30T01:01:55.786877+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7ff74126b520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7ff74126a5f0>
    └ <uvicorn.server.Server object at 0x7ff74136a5c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7ff74126a680>
           │       │   └ <uvicorn.server.Server object at 0x7ff74136a5c0>
           │       └ <function run at 0x7ff744923c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7ff74122f840>
           │    └ <function BaseEventLoop.run_until_complete at 0x7ff743ff6560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7ff743ff64d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7ff743ff8040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7ff7441a79a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7ff7412dedd0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7ff74127f1c0>
          │   │      │    └ <function LifespanOn.receive at 0x7ff7412dee60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7ff74127f1c0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff7...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff74136a4a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff74127f1c0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff74127f1c0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff7...
                 │    └ <fastapi.applications.FastAPI object at 0x7ff7412e9660>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff74136a4a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff74127f1c0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff74127f1c0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff7...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff74127f1c0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff74127f1c0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff7...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff7412e9f30>
          └ <fastapi.applications.FastAPI object at 0x7ff7412e9660>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff74127f1c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff74127f1c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff7...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff7412e9ed0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff7412e9f30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff74127f1c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff74127f1c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff7...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff7412e9ea0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff7412e9ed0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff74127f1c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff74127f1c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff7...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7ff7412e9e40>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff7412e9ea0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff74127f1c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff74127f1c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff7...
          │    └ <fastapi.routing.APIRouter object at 0x7ff7412e96c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7ff7412e9e40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff74127f1c0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff74127f1c0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff7...
          │    └ <function Router.lifespan at 0x7ff7419eab00>
          └ <fastapi.routing.APIRouter object at 0x7ff7412e96c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7ff7412e9660>
               │    └ <starlette.routing._DefaultLifespan object at 0x7ff7412e9720>
               └ <fastapi.routing.APIRouter object at 0x7ff7412e96c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7ff7419ea9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7ff7412e96c0>
          └ <starlette.routing._DefaultLifespan object at 0x7ff7412e9720>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7ff7412df5b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7ff741359ab0>
          └ <bot_app.TelegramBot object at 0x7ff7412e9bd0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7ff741359b40>
          └ <bot_app.TelegramBot object at 0x7ff7412e9bd0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7ff741328b80>
          │                 └ <bot_app.TelegramBot object at 0x7ff7412e9bd0>
          └ <function on_startup_notify at 0x7ff7411fd480>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7ff742657880>
          │  └ <aiogram.bot.bot.Bot object at 0x7ff7413288e0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7ff741328b80>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7ff742613490>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7ff742656050>
                   └ <aiogram.bot.bot.Bot object at 0x7ff7413288e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7ff7413288e0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7ff7413288e0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7ff742655900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7ff7413288e0>
                 │   └ <function make_request at 0x7ff7425faf80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7ff7435f92d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7ff743955ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7ff7425facb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7ff7425fa680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:01:56.398166+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:02:05.529977+0900 ERROR Object of type BufferedReader is not JSON serializable
2022-06-30T01:02:05.530212+0900 ERROR Can't produce_message
2022-06-30T01:05:48.685488+0900 WARNING Shutting down!..
2022-06-30T01:05:49.237486+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:05:49.237665+0900 WARNING Bye!
2022-06-30T01:05:51.698050+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f33e9bcb490>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f33e9bca560>
    └ <uvicorn.server.Server object at 0x7f33e9cc2530>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f33e9bca5f0>
           │       │   └ <uvicorn.server.Server object at 0x7f33e9cc2530>
           │       └ <function run at 0x7f33ed273c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f33e9b8f840>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f33ec94a560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f33ec94a4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f33ec94c040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f33ecafb9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f33e9c3ed40>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f33e9bdf130>
          │   │      │    └ <function LifespanOn.receive at 0x7f33e9c3edd0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f33e9bdf130>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f33...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f33e9cc2410>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f33e9bdf130>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f33e9bdf130>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f33...
                 │    └ <fastapi.applications.FastAPI object at 0x7f33e9c495d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f33e9cc2410>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f33e9bdf130>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f33e9bdf130>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f33...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f33e9bdf130>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f33e9bdf130>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f33...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f33e9c49ea0>
          └ <fastapi.applications.FastAPI object at 0x7f33e9c495d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f33e9bdf130>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f33e9bdf130>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f33...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f33e9c49e40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f33e9c49ea0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f33e9bdf130>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f33e9bdf130>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f33...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f33e9c49e10>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f33e9c49e40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f33e9bdf130>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f33e9bdf130>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f33...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f33e9c49db0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f33e9c49e10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f33e9bdf130>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f33e9bdf130>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f33...
          │    └ <fastapi.routing.APIRouter object at 0x7f33e9c49630>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f33e9c49db0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f33e9bdf130>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f33e9bdf130>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f33...
          │    └ <function Router.lifespan at 0x7f33ea352b00>
          └ <fastapi.routing.APIRouter object at 0x7f33e9c49630>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f33e9c495d0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f33e9c49690>
               └ <fastapi.routing.APIRouter object at 0x7f33e9c49630>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f33ea3529e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f33e9c49630>
          └ <starlette.routing._DefaultLifespan object at 0x7f33e9c49690>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f33e9c3f520>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f33e9cb9a20>
          └ <bot_app.TelegramBot object at 0x7f33e9c49b40>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f33e9cb9ab0>
          └ <bot_app.TelegramBot object at 0x7f33e9c49b40>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f33e9c88ac0>
          │                 └ <bot_app.TelegramBot object at 0x7f33e9c49b40>
          └ <function on_startup_notify at 0x7f33e9b5d3f0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f33eaf6b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f33e9c88820>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f33e9c88ac0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f33eaf273d0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f33eaf6a050>
                   └ <aiogram.bot.bot.Bot object at 0x7f33e9c88820>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f33e9c88820>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f33e9c88820>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f33eaf69900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f33e9c88820>
                 │   └ <function make_request at 0x7f33eaf0ef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f33ebd092d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f33ec269e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f33eaf0ecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f33eaf0e680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:05:52.221148+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:08:19.817513+0900 WARNING Shutting down!..
2022-06-30T01:08:20.398605+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:08:20.398772+0900 WARNING Bye!
2022-06-30T01:08:22.058698+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f5b0b5375b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f5b0b536680>
    └ <uvicorn.server.Server object at 0x7f5b0b63a590>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f5b0b536710>
           │       │   └ <uvicorn.server.Server object at 0x7f5b0b63a590>
           │       └ <function run at 0x7f5b0ebdbc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f5b0b4f7920>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f5b0e2ae560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f5b0e2ae4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f5b0e2b4040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f5b0e4639a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f5b0b5aee60>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f5b0b54f190>
          │   │      │    └ <function LifespanOn.receive at 0x7f5b0b5aeef0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f5b0b54f190>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5b...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5b0b63a470>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5b0b54f190>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5b0b54f190>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5b...
                 │    └ <fastapi.applications.FastAPI object at 0x7f5b0b5b5630>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f5b0b63a470>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5b0b54f190>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5b0b54f190>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5b...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5b0b54f190>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5b0b54f190>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5b...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5b0b5b5f00>
          └ <fastapi.applications.FastAPI object at 0x7f5b0b5b5630>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5b0b54f190>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5b0b54f190>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5b...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5b0b5b5ea0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f5b0b5b5f00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5b0b54f190>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5b0b54f190>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5b...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5b0b5b5e70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f5b0b5b5ea0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5b0b54f190>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5b0b54f190>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5b...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5b0b5b5e10>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f5b0b5b5e70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5b0b54f190>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5b0b54f190>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5b...
          │    └ <fastapi.routing.APIRouter object at 0x7f5b0b5b5690>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f5b0b5b5e10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f5b0b54f190>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f5b0b54f190>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f5b...
          │    └ <function Router.lifespan at 0x7f5b0bc9ab00>
          └ <fastapi.routing.APIRouter object at 0x7f5b0b5b5690>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f5b0b5b5630>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f5b0b5b56f0>
               └ <fastapi.routing.APIRouter object at 0x7f5b0b5b5690>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f5b0bc9a9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f5b0b5b5690>
          └ <starlette.routing._DefaultLifespan object at 0x7f5b0b5b56f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f5b0b5af640>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f5b0b629b40>
          └ <bot_app.TelegramBot object at 0x7f5b0b5b5ba0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f5b0b629bd0>
          └ <bot_app.TelegramBot object at 0x7f5b0b5b5ba0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5b0b5f4b20>
          │                 └ <bot_app.TelegramBot object at 0x7f5b0b5b5ba0>
          └ <function on_startup_notify at 0x7f5b0b4c9510>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f5b0c95b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f5b0b5f4880>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f5b0b5f4b20>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f5b0c917430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f5b0c95a050>
                   └ <aiogram.bot.bot.Bot object at 0x7f5b0b5f4880>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f5b0b5f4880>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f5b0b5f4880>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f5b0c959900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f5b0b5f4880>
                 │   └ <function make_request at 0x7f5b0c8fef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f5b0db192d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f5b0dc55e40>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f5b0c8fecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f5b0c8fe680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:08:22.665183+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:08:40.209410+0900 WARNING Shutting down!..
2022-06-30T01:08:40.647691+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:08:40.647892+0900 WARNING Bye!
2022-06-30T01:08:43.198405+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f7464627640>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f7464626710>
    └ <uvicorn.server.Server object at 0x7f746472e560>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f74646267a0>
           │       │   └ <uvicorn.server.Server object at 0x7f746472e560>
           │       └ <function run at 0x7f7467ce7c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f74645e7990>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f74673ba560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f74673ba4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f74673c0040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f746756f9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f746469aef0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f746463f160>
          │   │      │    └ <function LifespanOn.receive at 0x7f746469af80>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f746463f160>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f746472e440>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f746463f160>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f746463f160>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
                 │    └ <fastapi.applications.FastAPI object at 0x7f74646a1600>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f746472e440>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f746463f160>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f746463f160>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f746463f160>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f746463f160>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f74646a1ed0>
          └ <fastapi.applications.FastAPI object at 0x7f74646a1600>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f746463f160>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f746463f160>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f74646a1e70>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f74646a1ed0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f746463f160>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f746463f160>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f74646a1e40>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f74646a1e70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f746463f160>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f746463f160>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f74646a1de0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f74646a1e40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f746463f160>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f746463f160>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          │    └ <fastapi.routing.APIRouter object at 0x7f74646a1660>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f74646a1de0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f746463f160>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f746463f160>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f74...
          │    └ <function Router.lifespan at 0x7f7464dc6b00>
          └ <fastapi.routing.APIRouter object at 0x7f74646a1660>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f74646a1600>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f74646a16c0>
               └ <fastapi.routing.APIRouter object at 0x7f74646a1660>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f7464dc69e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f74646a1660>
          └ <starlette.routing._DefaultLifespan object at 0x7f74646a16c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f746469b6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f746471dbd0>
          └ <bot_app.TelegramBot object at 0x7f74646a1b70>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f746471dc60>
          └ <bot_app.TelegramBot object at 0x7f74646a1b70>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f74646e8b20>
          │                 └ <bot_app.TelegramBot object at 0x7f74646a1b70>
          └ <function on_startup_notify at 0x7f74645b55a0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f7465a5f880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f74646e8880>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f74646e8b20>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f7465a1b430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f7465a5e050>
                   └ <aiogram.bot.bot.Bot object at 0x7f74646e8880>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f74646e8880>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f74646e8880>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f7465a5d900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f74646e8880>
                 │   └ <function make_request at 0x7f7465a02f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f74665012d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f7466d61e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f7465a02cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f7465a02680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:08:43.718828+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:08:54.519539+0900 ERROR data and json parameters can not be used at the same time
2022-06-30T01:08:54.519723+0900 ERROR Can't produce_message
2022-06-30T01:10:32.693714+0900 WARNING Shutting down!..
2022-06-30T01:10:33.273718+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:10:33.273887+0900 WARNING Bye!
2022-06-30T01:10:35.345741+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fb9d737f5b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fb9d737e680>
    └ <uvicorn.server.Server object at 0x7fb9d7486590>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fb9d737e710>
           │       │   └ <uvicorn.server.Server object at 0x7fb9d7486590>
           │       └ <function run at 0x7fb9daa17c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fb9d733f920>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fb9da0ee560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fb9da0ee4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fb9da0f0040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fb9da29f9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fb9d73f2e60>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb9d7397190>
          │   │      │    └ <function LifespanOn.receive at 0x7fb9d73f2ef0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fb9d7397190>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb9d7486470>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9d7397190>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9d7397190>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
                 │    └ <fastapi.applications.FastAPI object at 0x7fb9d73fd630>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fb9d7486470>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9d7397190>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9d7397190>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9d7397190>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9d7397190>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb9d73fdf00>
          └ <fastapi.applications.FastAPI object at 0x7fb9d73fd630>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9d7397190>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9d7397190>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb9d73fdea0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fb9d73fdf00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9d7397190>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9d7397190>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb9d73fde70>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fb9d73fdea0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9d7397190>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9d7397190>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb9d73fde10>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fb9d73fde70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9d7397190>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9d7397190>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <fastapi.routing.APIRouter object at 0x7fb9d73fd690>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fb9d73fde10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9d7397190>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fb9d7397190>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fb9...
          │    └ <function Router.lifespan at 0x7fb9d7aceb00>
          └ <fastapi.routing.APIRouter object at 0x7fb9d73fd690>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fb9d73fd630>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fb9d73fd6f0>
               └ <fastapi.routing.APIRouter object at 0x7fb9d73fd690>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fb9d7ace9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7fb9d73fd690>
          └ <starlette.routing._DefaultLifespan object at 0x7fb9d73fd6f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fb9d73f3640>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fb9d7475b40>
          └ <bot_app.TelegramBot object at 0x7fb9d73fdba0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fb9d7475bd0>
          └ <bot_app.TelegramBot object at 0x7fb9d73fdba0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb9d7440af0>
          │                 └ <bot_app.TelegramBot object at 0x7fb9d73fdba0>
          └ <function on_startup_notify at 0x7fb9d730d510>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fb9d8767880>
          │  └ <aiogram.bot.bot.Bot object at 0x7fb9d7440850>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fb9d7440af0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fb9d8723400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fb9d8766050>
                   └ <aiogram.bot.bot.Bot object at 0x7fb9d7440850>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fb9d7440850>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fb9d7440850>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fb9d8765900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fb9d7440850>
                 │   └ <function make_request at 0x7fb9d870af80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fb9d95092d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fb9d9a65ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fb9d870acb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fb9d870a680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:10:35.800809+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:10:51.147788+0900 ERROR Can not serialize value type: <class 'NoneType'>
 headers: {}
 value: None
2022-06-30T01:10:51.147958+0900 ERROR Can't produce_message
2022-06-30T01:13:05.592510+0900 WARNING Shutting down!..
2022-06-30T01:13:06.141992+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:13:06.142172+0900 WARNING Bye!
2022-06-30T01:13:14.622832+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7fa8a3c39510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 45233, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7fa8a3c38550>
              └ <__main__.PyDB object at 0x7fa8a3dbd4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7fa8a3c385e0>
           └ <__main__.PyDB object at 0x7fa8a3dbd4b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7fa8a41b8f70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fa893c7e0e0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fa893c7d1b0>
    └ <uvicorn.server.Server object at 0x7fa893d569e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fa893c7d240>
           │       │   └ <uvicorn.server.Server object at 0x7fa893d569e0>
           │       └ <function run at 0x7fa8a3ded5a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fa893c75000>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fa8a3e4fd00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fa8a3e4fc70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fa8a3e5d7e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fa8a3db51b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fa893cee560>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fa893c6f5e0>
          │   │      │    └ <function LifespanOn.receive at 0x7fa893cee5f0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fa893c6f5e0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa8...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa893cb8070>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa893c6f5e0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa893c6f5e0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa8...
                 │    └ <fastapi.applications.FastAPI object at 0x7fa893ce5fc0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fa893cb8070>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa893c6f5e0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa893c6f5e0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa8...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa893c6f5e0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa893c6f5e0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa8...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa893ce6a10>
          └ <fastapi.applications.FastAPI object at 0x7fa893ce5fc0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa893c6f5e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa893c6f5e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa8...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa893ce69b0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fa893ce6a10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa893c6f5e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa893c6f5e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa8...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa893ce6980>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fa893ce69b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa893c6f5e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa893c6f5e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa8...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa893ce6920>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fa893ce6980>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa893c6f5e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa893c6f5e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa8...
          │    └ <fastapi.routing.APIRouter object at 0x7fa893ce5c00>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fa893ce6920>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fa893c6f5e0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fa893c6f5e0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fa8...
          │    └ <function Router.lifespan at 0x7fa8a04027a0>
          └ <fastapi.routing.APIRouter object at 0x7fa893ce5c00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fa893ce5fc0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fa893ce5cc0>
               └ <fastapi.routing.APIRouter object at 0x7fa893ce5c00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fa8a0402680>
          │    └ <fastapi.routing.APIRouter object at 0x7fa893ce5c00>
          └ <starlette.routing._DefaultLifespan object at 0x7fa893ce5cc0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fa893ceedd0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fa893d37d00>
          └ <bot_app.TelegramBot object at 0x7fa893ce6560>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fa893d37d90>
          └ <bot_app.TelegramBot object at 0x7fa893ce6560>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fa893ef91e0>
          │                 └ <bot_app.TelegramBot object at 0x7fa893ce6560>
          └ <function on_startup_notify at 0x7fa893a31630>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fa8a0b80d30>
          │  └ <aiogram.bot.bot.Bot object at 0x7fa893ef8940>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fa893ef91e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fa8a0b2b4c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fa8a0b53490>
                   └ <aiogram.bot.bot.Bot object at 0x7fa893ef8940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fa893ef8940>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fa893ef8940>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fa8a0b52d40>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fa893ef8940>
                 │   └ <function make_request at 0x7fa8a0b50310>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fa8a1d41000>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fa8a20ba5c0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fa8a0aef6d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fa8a0aef9a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:13:15.146151+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:20:57.697849+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f3d77773640>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f3d77772710>
    └ <uvicorn.server.Server object at 0x7f3d778766e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f3d777727a0>
           │       │   └ <uvicorn.server.Server object at 0x7f3d778766e0>
           │       └ <function run at 0x7f3d7ae2bc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f3d7773b840>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f3d7a4fe560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f3d7a4fe4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f3d7a500040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f3d7a6af9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f3d777e6ef0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f3d7778b2e0>
          │   │      │    └ <function LifespanOn.receive at 0x7f3d777e6f80>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f3d7778b2e0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3d...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f3d778765c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3d7778b2e0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3d7778b2e0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3d...
                 │    └ <fastapi.applications.FastAPI object at 0x7f3d777f1780>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f3d778765c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3d7778b2e0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3d7778b2e0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3d...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3d7778b2e0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3d7778b2e0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3d...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f3d777f2050>
          └ <fastapi.applications.FastAPI object at 0x7f3d777f1780>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3d7778b2e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3d7778b2e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3d...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f3d777f1ff0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f3d777f2050>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3d7778b2e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3d7778b2e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3d...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f3d777f1fc0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f3d777f1ff0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3d7778b2e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3d7778b2e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3d...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f3d777f1f60>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f3d777f1fc0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3d7778b2e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3d7778b2e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3d...
          │    └ <fastapi.routing.APIRouter object at 0x7f3d777f17e0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f3d777f1f60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3d7778b2e0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3d7778b2e0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3d...
          │    └ <function Router.lifespan at 0x7f3d77ed2b00>
          └ <fastapi.routing.APIRouter object at 0x7f3d777f17e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f3d777f1780>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f3d777f1840>
               └ <fastapi.routing.APIRouter object at 0x7f3d777f17e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f3d77ed29e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f3d777f17e0>
          └ <starlette.routing._DefaultLifespan object at 0x7f3d777f1840>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f3d777e76d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f3d77865bd0>
          └ <bot_app.TelegramBot object at 0x7f3d777f1cf0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f3d77865c60>
          └ <bot_app.TelegramBot object at 0x7f3d777f1cf0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f3d77a2cbe0>
          │                 └ <bot_app.TelegramBot object at 0x7f3d777f1cf0>
          └ <function on_startup_notify at 0x7f3d777055a0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f3d78b57880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f3d77a2c940>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f3d77a2cbe0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f3d78b13580>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f3d78b56050>
                   └ <aiogram.bot.bot.Bot object at 0x7f3d77a2c940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f3d77a2c940>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f3d77a2c940>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f3d78b55900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f3d77a2c940>
                 │   └ <function make_request at 0x7f3d78afaf80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f3d79d3d2d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f3d79e55ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f3d78afacb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f3d78afa680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:20:58.024918+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:20:59.389277+0900 ERROR post() got an unexpected keyword argument 'with_bytes'
2022-06-30T01:20:59.389481+0900 ERROR Can't produce_message
2022-06-30T01:21:08.255835+0900 WARNING Shutting down!..
2022-06-30T01:21:08.406773+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:21:08.407027+0900 WARNING Bye!
2022-06-30T01:21:10.240347+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f2057a1f6d0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f2057a1e7a0>
    └ <uvicorn.server.Server object at 0x7f2057b265f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f2057a1e830>
           │       │   └ <uvicorn.server.Server object at 0x7f2057b265f0>
           │       └ <function run at 0x7f205b0ebc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f20579e7840>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f205a7be560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f205a7be4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f205a7c0040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f205a96f9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f2057a9af80>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f2057a371f0>
          │   │      │    └ <function LifespanOn.receive at 0x7f2057a9b010>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f2057a371f0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f20...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2057b264d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2057a371f0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2057a371f0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f20...
                 │    └ <fastapi.applications.FastAPI object at 0x7f2057a9d690>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f2057b264d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2057a371f0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2057a371f0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f20...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2057a371f0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2057a371f0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f20...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2057a9df60>
          └ <fastapi.applications.FastAPI object at 0x7f2057a9d690>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2057a371f0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2057a371f0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f20...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f2057a9df00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f2057a9df60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2057a371f0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2057a371f0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f20...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2057a9ded0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f2057a9df00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2057a371f0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2057a371f0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f20...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2057a9de70>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f2057a9ded0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2057a371f0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2057a371f0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f20...
          │    └ <fastapi.routing.APIRouter object at 0x7f2057a9d6f0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f2057a9de70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f2057a371f0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f2057a371f0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f20...
          │    └ <function Router.lifespan at 0x7f20581beb00>
          └ <fastapi.routing.APIRouter object at 0x7f2057a9d6f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f2057a9d690>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f2057a9d750>
               └ <fastapi.routing.APIRouter object at 0x7f2057a9d6f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f20581be9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f2057a9d6f0>
          └ <starlette.routing._DefaultLifespan object at 0x7f2057a9d750>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f2057a9b760>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f2057b15c60>
          └ <bot_app.TelegramBot object at 0x7f2057a9dc00>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f2057b15cf0>
          └ <bot_app.TelegramBot object at 0x7f2057a9dc00>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f2057ae0b20>
          │                 └ <bot_app.TelegramBot object at 0x7f2057a9dc00>
          └ <function on_startup_notify at 0x7f20579ad630>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f2058e57880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f2057ae0880>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f2057ae0b20>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f2058e13460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f2058e56050>
                   └ <aiogram.bot.bot.Bot object at 0x7f2057ae0880>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f2057ae0880>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f2057ae0880>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f2058e55900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f2057ae0880>
                 │   └ <function make_request at 0x7f2058dfaf80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f2059df92d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f205a155ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f2058dfacb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f2058dfa680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:21:10.694856+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:21:18.356066+0900 ERROR post() got an unexpected keyword argument 'with_bytes'
2022-06-30T01:21:18.356259+0900 ERROR Can't produce_message
2022-06-30T01:21:36.665318+0900 WARNING Shutting down!..
2022-06-30T01:21:37.094841+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:21:37.095024+0900 WARNING Bye!
2022-06-30T01:21:39.558859+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fc0f59b3640>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fc0f59b2710>
    └ <uvicorn.server.Server object at 0x7fc0f5aaa5f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fc0f59b27a0>
           │       │   └ <uvicorn.server.Server object at 0x7fc0f5aaa5f0>
           │       └ <function run at 0x7fc0f9067c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fc0f597b7d0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fc0f873a560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fc0f873a4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fc0f873c040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fc0f88eb9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fc0f5a2aef0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fc0f59c71f0>
          │   │      │    └ <function LifespanOn.receive at 0x7fc0f5a2af80>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fc0f59c71f0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc0...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc0f5aaa4d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc0f59c71f0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc0f59c71f0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc0...
                 │    └ <fastapi.applications.FastAPI object at 0x7fc0f5a31690>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fc0f5aaa4d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc0f59c71f0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc0f59c71f0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc0...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc0f59c71f0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc0f59c71f0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc0...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc0f5a31f60>
          └ <fastapi.applications.FastAPI object at 0x7fc0f5a31690>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc0f59c71f0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc0f59c71f0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc0...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc0f5a31f00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fc0f5a31f60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc0f59c71f0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc0f59c71f0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc0...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc0f5a31ed0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fc0f5a31f00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc0f59c71f0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc0f59c71f0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc0...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fc0f5a31e70>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fc0f5a31ed0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc0f59c71f0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc0f59c71f0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc0...
          │    └ <fastapi.routing.APIRouter object at 0x7fc0f5a316f0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fc0f5a31e70>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fc0f59c71f0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fc0f59c71f0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fc0...
          │    └ <function Router.lifespan at 0x7fc0f6142b00>
          └ <fastapi.routing.APIRouter object at 0x7fc0f5a316f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fc0f5a31690>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fc0f5a31750>
               └ <fastapi.routing.APIRouter object at 0x7fc0f5a316f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fc0f61429e0>
          │    └ <fastapi.routing.APIRouter object at 0x7fc0f5a316f0>
          └ <starlette.routing._DefaultLifespan object at 0x7fc0f5a31750>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fc0f5a2b6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fc0f5aa1bd0>
          └ <bot_app.TelegramBot object at 0x7fc0f5a31c00>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fc0f5aa1c60>
          └ <bot_app.TelegramBot object at 0x7fc0f5a31c00>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fc0f5a70af0>
          │                 └ <bot_app.TelegramBot object at 0x7fc0f5a31c00>
          └ <function on_startup_notify at 0x7fc0f59455a0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fc0f6d5b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7fc0f5a70850>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fc0f5a70af0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fc0f6d17400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fc0f6d5a050>
                   └ <aiogram.bot.bot.Bot object at 0x7fc0f5a70850>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fc0f5a70850>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fc0f5a70850>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fc0f6d59900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fc0f5a70850>
                 │   └ <function make_request at 0x7fc0f6cfef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fc0f7f692d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fc0f8059d00>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fc0f6cfecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fc0f6cfe680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:21:40.010902+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:21:49.448945+0900 ERROR Can not serialize value type: <class 'NoneType'>
 headers: {}
 value: None
2022-06-30T01:21:49.449206+0900 ERROR Can't produce_message
2022-06-30T01:23:08.948117+0900 WARNING Shutting down!..
2022-06-30T01:23:09.511934+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:23:09.512108+0900 WARNING Bye!
2022-06-30T01:23:12.277273+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2181, in <module>
    main()
    └ <function main at 0x7f3e0aa01510>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 2172, in main
    globals = debugger.run(setup['file'], None, None, is_module)
              │        │   │                          └ False
              │        │   └ {'port': 36749, 'vm_type': None, 'client': '127.0.0.1', 'server': False, 'DEBUG_RECORD_SOCKET_READS': False, 'multiproc': Fal...
              │        └ <function PyDB.run at 0x7f3e0aa00550>
              └ <__main__.PyDB object at 0x7f3e0ab954b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1484, in run
    return self._exec(is_module, entry_point_fn, module_name, file, globals, locals)
           │    │     │          │               │            │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
           │    │     │          │               │            └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
           │    │     │          │               └ None
           │    │     │          └ ''
           │    │     └ False
           │    └ <function PyDB._exec at 0x7f3e0aa005e0>
           └ <__main__.PyDB object at 0x7f3e0ab954b0>

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/pydevd.py", line 1491, in _exec
    pydev_imports.execfile(file, globals, locals)  # execute the script
    │             │        │     │        └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
    │             │        └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
    │             └ <function execfile at 0x7f3e0af7cf70>
    └ <module '_pydev_bundle.pydev_imports' from '/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24...

  File "/home/achillescres/.local/share/JetBrains/Toolbox/apps/PyCharm-C/ch-0/221.5787.24/plugins/python-ce/helpers/pydev/_pydev_imps/_pydev_execfile.py", line 18, in execfile
    exec(compile(contents+"\n", file, 'exec'), glob, loc)
                 │              │              │     └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              │              └ {'__name__': '__main__', '__doc__': None, '__package__': '', '__loader__': <_frozen_importlib_external.SourceFileLoader objec...
                 │              └ '/home/achillescres/PycharmProjects/izfir_bot/app.py'
                 └ 'import asyncio\nfrom datetime import datetime, timedelta\n\nfrom aiogram import types\nfrom aiogram.dispatcher import FSMCon...

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f3dfaac20e0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f3dfaac11b0>
    └ <uvicorn.server.Server object at 0x7f3dfab9e9e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f3dfaac1240>
           │       │   └ <uvicorn.server.Server object at 0x7f3dfab9e9e0>
           │       └ <function run at 0x7f3e0abb95a0>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f3dfaab8f90>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f3e0ac17d00>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f3e0ac17c70>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f3e0ac257e0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f3e0ab811b0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f3dfa93e560>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f3dfaab3160>
          │   │      │    └ <function LifespanOn.receive at 0x7f3dfa93e5f0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f3dfaab3160>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3d...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f3dfaab3040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3dfaab3160>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3dfaab3160>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3d...
                 │    └ <fastapi.applications.FastAPI object at 0x7f3dfa939d80>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f3dfaab3040>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3dfaab3160>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3dfaab3160>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3d...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3dfaab3160>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3dfaab3160>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3d...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f3dfa939a50>
          └ <fastapi.applications.FastAPI object at 0x7f3dfa939d80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3dfaab3160>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3dfaab3160>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3d...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f3dfa939d20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f3dfa939a50>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3dfaab3160>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3dfaab3160>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3d...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f3dfa939e10>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f3dfa939d20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3dfaab3160>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3dfaab3160>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3d...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f3dfa93a9b0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f3dfa939e10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3dfaab3160>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3dfaab3160>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3d...
          │    └ <fastapi.routing.APIRouter object at 0x7f3dfa9399c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f3dfa93a9b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f3dfaab3160>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f3dfaab3160>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f3d...
          │    └ <function Router.lifespan at 0x7f3dfb19a7a0>
          └ <fastapi.routing.APIRouter object at 0x7f3dfa9399c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f3dfa939d80>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f3dfa939a80>
               └ <fastapi.routing.APIRouter object at 0x7f3dfa9399c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f3dfb19a680>
          │    └ <fastapi.routing.APIRouter object at 0x7f3dfa9399c0>
          └ <starlette.routing._DefaultLifespan object at 0x7f3dfa939a80>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f3dfa93e9e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f3dfab7fd00>
          └ <bot_app.TelegramBot object at 0x7f3dfa93a740>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f3dfab7fd90>
          └ <bot_app.TelegramBot object at 0x7f3dfa93a740>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f3dfab41150>
          │                 └ <bot_app.TelegramBot object at 0x7f3dfa93a740>
          └ <function on_startup_notify at 0x7f3dfa881630>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f3dfbba8d30>
          │  └ <aiogram.bot.bot.Bot object at 0x7f3dfab408b0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f3dfab41150>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f3dfbb53430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f3dfbb83490>
                   └ <aiogram.bot.bot.Bot object at 0x7f3dfab408b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f3dfab408b0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f3dfab408b0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f3dfbb82d40>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f3dfab408b0>
                 │   └ <function make_request at 0x7f3dfbb80310>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f3e08b2d000>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f3e08e7e340>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f3dfbb176d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f3dfbb179a0>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:23:12.871939+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:24:53.776983+0900 ERROR Can not serialize value type: <class 'NoneType'>
 headers: {}
 value: None
2022-06-30T01:24:53.777358+0900 ERROR Can't produce_message
2022-06-30T01:25:47.212637+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f4b540f7640>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f4b540f6710>
    └ <uvicorn.server.Server object at 0x7f4b541fa650>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f4b540f67a0>
           │       │   └ <uvicorn.server.Server object at 0x7f4b541fa650>
           │       └ <function run at 0x7f4b577a3c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f4b540bf840>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f4b56e7a560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f4b56e7a4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f4b56e7c040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f4b5702b9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f4b5416aef0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f4b5410f2b0>
          │   │      │    └ <function LifespanOn.receive at 0x7f4b5416af80>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f4b5410f2b0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4b5410f130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b5410f2b0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b5410f2b0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
                 │    └ <fastapi.applications.FastAPI object at 0x7f4b541756f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f4b5410f130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b5410f2b0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b5410f2b0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b5410f2b0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b5410f2b0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f4b54175fc0>
          └ <fastapi.applications.FastAPI object at 0x7f4b541756f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b5410f2b0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b5410f2b0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f4b54175f60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f4b54175fc0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b5410f2b0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b5410f2b0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f4b54175f30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f4b54175f60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b5410f2b0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b5410f2b0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f4b54175ed0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f4b54175f30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b5410f2b0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b5410f2b0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          │    └ <fastapi.routing.APIRouter object at 0x7f4b54175750>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f4b54175ed0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b5410f2b0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f4b5410f2b0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f4b...
          │    └ <function Router.lifespan at 0x7f4b5487eb00>
          └ <fastapi.routing.APIRouter object at 0x7f4b54175750>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f4b541756f0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f4b541757b0>
               └ <fastapi.routing.APIRouter object at 0x7f4b54175750>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f4b5487e9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f4b54175750>
          └ <starlette.routing._DefaultLifespan object at 0x7f4b541757b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f4b5416b6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f4b541e9bd0>
          └ <bot_app.TelegramBot object at 0x7f4b54175c60>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f4b541e9c60>
          └ <bot_app.TelegramBot object at 0x7f4b54175c60>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f4b541b4b20>
          │                 └ <bot_app.TelegramBot object at 0x7f4b54175c60>
          └ <function on_startup_notify at 0x7f4b53e8d5a0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f4b559a3880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f4b541b4880>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f4b541b4b20>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f4b5595f430>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f4b559a2050>
                   └ <aiogram.bot.bot.Bot object at 0x7f4b541b4880>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f4b541b4880>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f4b541b4880>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f4b559a1900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f4b541b4880>
                 │   └ <function make_request at 0x7f4b55946f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f4b564e52d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f4b567fde90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f4b55946cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f4b55946680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:25:47.653447+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:25:49.334106+0900 ERROR I/O operation on closed file.
2022-06-30T01:25:49.334312+0900 ERROR Can't produce_message
2022-06-30T01:25:59.619914+0900 ERROR I/O operation on closed file.
2022-06-30T01:25:59.620734+0900 ERROR Can't produce_message
2022-06-30T01:26:59.670114+0900 WARNING Shutting down!..
2022-06-30T01:27:00.205657+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:27:00.205832+0900 WARNING Bye!
2022-06-30T01:27:05.011298+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f58b0cb3520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f58b0cb25f0>
    └ <uvicorn.server.Server object at 0x7f58b0daa650>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f58b0cb2680>
           │       │   └ <uvicorn.server.Server object at 0x7f58b0daa650>
           │       └ <function run at 0x7f58b4357c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f58b0c77840>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f58b3a2a560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f58b3a2a4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f58b3a2c040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f58b3bdb9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f58b0d26dd0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f58b0cc7250>
          │   │      │    └ <function LifespanOn.receive at 0x7f58b0d26e60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f58b0cc7250>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f58b0daa530>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58b0cc7250>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58b0cc7250>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
                 │    └ <fastapi.applications.FastAPI object at 0x7f58b0d316f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f58b0daa530>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58b0cc7250>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58b0cc7250>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58b0cc7250>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58b0cc7250>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f58b0d31fc0>
          └ <fastapi.applications.FastAPI object at 0x7f58b0d316f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58b0cc7250>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58b0cc7250>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f58b0d31f60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f58b0d31fc0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58b0cc7250>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58b0cc7250>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f58b0d31f30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f58b0d31f60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58b0cc7250>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58b0cc7250>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f58b0d31ed0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f58b0d31f30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58b0cc7250>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58b0cc7250>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <fastapi.routing.APIRouter object at 0x7f58b0d31750>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f58b0d31ed0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f58b0cc7250>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f58b0cc7250>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <function Router.lifespan at 0x7f58b1416b00>
          └ <fastapi.routing.APIRouter object at 0x7f58b0d31750>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f58b0d316f0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f58b0d317b0>
               └ <fastapi.routing.APIRouter object at 0x7f58b0d31750>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f58b14169e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f58b0d31750>
          └ <starlette.routing._DefaultLifespan object at 0x7f58b0d317b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f58b0d275b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f58b0da1ab0>
          └ <bot_app.TelegramBot object at 0x7f58b0d31c60>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f58b0da1b40>
          └ <bot_app.TelegramBot object at 0x7f58b0d31c60>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f58b0d70b50>
          │                 └ <bot_app.TelegramBot object at 0x7f58b0d31c60>
          └ <function on_startup_notify at 0x7f58b0c45480>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f58b2057880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f58b0d708b0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f58b0d70b50>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f58b2013460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f58b2056050>
                   └ <aiogram.bot.bot.Bot object at 0x7f58b0d708b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f58b0d708b0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f58b0d708b0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f58b2055900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f58b0d708b0>
                 │   └ <function make_request at 0x7f58b1ffaf80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f58b2ff92d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f58b3355f30>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f58b1ffacb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f58b1ffa680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:27:05.599726+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:27:19.707052+0900 ERROR I/O operation on closed file.
2022-06-30T01:27:19.707320+0900 ERROR Can't produce_message
2022-06-30T01:27:25.981866+0900 WARNING Shutting down!..
2022-06-30T01:27:26.139736+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:27:26.139937+0900 WARNING Bye!
2022-06-30T01:27:28.834150+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f68970df5b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f68970de680>
    └ <uvicorn.server.Server object at 0x7f68971de620>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f68970de710>
           │       │   └ <uvicorn.server.Server object at 0x7f68971de620>
           │       └ <function run at 0x7f689a78bc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f689709f8b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f6899e62560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f6899e624d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f6899e64040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f689a0139a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f6897152e60>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f68970f3220>
          │   │      │    └ <function LifespanOn.receive at 0x7f6897152ef0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f68970f3220>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f68...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f68971de500>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f68970f3220>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f68970f3220>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f68...
                 │    └ <fastapi.applications.FastAPI object at 0x7f689715d6c0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f68971de500>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f68970f3220>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f68970f3220>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f68...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f68970f3220>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f68970f3220>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f68...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f689715df90>
          └ <fastapi.applications.FastAPI object at 0x7f689715d6c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f68970f3220>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f68970f3220>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f68...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f689715df30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f689715df90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f68970f3220>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f68970f3220>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f68...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f689715df00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f689715df30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f68970f3220>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f68970f3220>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f68...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f689715dea0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f689715df00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f68970f3220>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f68970f3220>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f68...
          │    └ <fastapi.routing.APIRouter object at 0x7f689715d720>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f689715dea0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f68970f3220>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f68970f3220>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f68...
          │    └ <function Router.lifespan at 0x7f6897866b00>
          └ <fastapi.routing.APIRouter object at 0x7f689715d720>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f689715d6c0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f689715d780>
               └ <fastapi.routing.APIRouter object at 0x7f689715d720>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f68978669e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f689715d720>
          └ <starlette.routing._DefaultLifespan object at 0x7f689715d780>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f6897153640>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f68971cdb40>
          └ <bot_app.TelegramBot object at 0x7f689715dc30>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f68971cdbd0>
          └ <bot_app.TelegramBot object at 0x7f689715dc30>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f689719cb80>
          │                 └ <bot_app.TelegramBot object at 0x7f689715dc30>
          └ <function on_startup_notify at 0x7f6896e75510>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f68989a3880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f689719c8e0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f689719cb80>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f689895f4c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f68989a2050>
                   └ <aiogram.bot.bot.Bot object at 0x7f689719c8e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f689719c8e0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f689719c8e0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f68989a1900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f689719c8e0>
                 │   └ <function make_request at 0x7f6898946f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f68994c52d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f68997fde90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f6898946cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f6898946680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:27:29.352605+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:27:36.585890+0900 ERROR I/O operation on closed file.
2022-06-30T01:27:36.586062+0900 ERROR Can't produce_message
2022-06-30T01:32:53.223548+0900 WARNING Shutting down!..
2022-06-30T01:32:53.786174+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:32:53.786734+0900 WARNING Bye!
2022-06-30T01:32:56.459960+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fcc135d75b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fcc135d6680>
    └ <uvicorn.server.Server object at 0x7fcc136d6620>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fcc135d6710>
           │       │   └ <uvicorn.server.Server object at 0x7fcc136d6620>
           │       └ <function run at 0x7fcc16c87c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fcc1359b840>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fcc1635e560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fcc1635e4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fcc16360040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fcc1650f9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fcc1364ae60>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fcc135ef220>
          │   │      │    └ <function LifespanOn.receive at 0x7fcc1364aef0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fcc135ef220>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fcc...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fcc136d6500>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fcc135ef220>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fcc135ef220>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fcc...
                 │    └ <fastapi.applications.FastAPI object at 0x7fcc136556c0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fcc136d6500>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fcc135ef220>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fcc135ef220>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fcc...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fcc135ef220>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fcc135ef220>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fcc...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fcc13655f90>
          └ <fastapi.applications.FastAPI object at 0x7fcc136556c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fcc135ef220>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fcc135ef220>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fcc...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fcc13655f30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fcc13655f90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fcc135ef220>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fcc135ef220>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fcc...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fcc13655f00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fcc13655f30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fcc135ef220>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fcc135ef220>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fcc...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fcc13655ea0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fcc13655f00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fcc135ef220>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fcc135ef220>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fcc...
          │    └ <fastapi.routing.APIRouter object at 0x7fcc13655720>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fcc13655ea0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fcc135ef220>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fcc135ef220>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fcc...
          │    └ <function Router.lifespan at 0x7fcc13d5eb00>
          └ <fastapi.routing.APIRouter object at 0x7fcc13655720>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fcc136556c0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fcc13655780>
               └ <fastapi.routing.APIRouter object at 0x7fcc13655720>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fcc13d5e9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7fcc13655720>
          └ <starlette.routing._DefaultLifespan object at 0x7fcc13655780>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fcc1364b640>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fcc136c5b40>
          └ <bot_app.TelegramBot object at 0x7fcc13655c30>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fcc136c5bd0>
          └ <bot_app.TelegramBot object at 0x7fcc13655c30>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fcc13694b50>
          │                 └ <bot_app.TelegramBot object at 0x7fcc13655c30>
          └ <function on_startup_notify at 0x7fcc13569510>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fcc14967880>
          │  └ <aiogram.bot.bot.Bot object at 0x7fcc136948b0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fcc13694b50>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fcc14923460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fcc14966050>
                   └ <aiogram.bot.bot.Bot object at 0x7fcc136948b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fcc136948b0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fcc136948b0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fcc14965900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fcc136948b0>
                 │   └ <function make_request at 0x7fcc1490af80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fcc157092d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fcc15cf5ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fcc1490acb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fcc1490a680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:32:57.016710+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:33:58.344743+0900 WARNING Shutting down!..
2022-06-30T01:33:58.905690+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:33:58.906447+0900 WARNING Bye!
2022-06-30T01:34:11.500632+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fe4d2c875b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fe4d2c86680>
    └ <uvicorn.server.Server object at 0x7fe4d2d8a680>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fe4d2c86710>
           │       │   └ <uvicorn.server.Server object at 0x7fe4d2d8a680>
           │       └ <function run at 0x7fe4d6347c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fe4d2c478b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fe4d5a1e560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fe4d5a1e4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fe4d5a20040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fe4d5bcf9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fe4d2cfae60>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fe4d2c9f280>
          │   │      │    └ <function LifespanOn.receive at 0x7fe4d2cfaef0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fe4d2c9f280>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe4...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe4d2d8a560>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe4d2c9f280>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe4d2c9f280>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe4...
                 │    └ <fastapi.applications.FastAPI object at 0x7fe4d2d05720>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fe4d2d8a560>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe4d2c9f280>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe4d2c9f280>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe4...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe4d2c9f280>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe4d2c9f280>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe4...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe4d2d05ff0>
          └ <fastapi.applications.FastAPI object at 0x7fe4d2d05720>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe4d2c9f280>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe4d2c9f280>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe4...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fe4d2d05f90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fe4d2d05ff0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe4d2c9f280>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe4d2c9f280>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe4...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fe4d2d05f60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fe4d2d05f90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe4d2c9f280>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe4d2c9f280>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe4...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fe4d2d05f00>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fe4d2d05f60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe4d2c9f280>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe4d2c9f280>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe4...
          │    └ <fastapi.routing.APIRouter object at 0x7fe4d2d05780>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fe4d2d05f00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fe4d2c9f280>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fe4d2c9f280>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fe4...
          │    └ <function Router.lifespan at 0x7fe4d341eb00>
          └ <fastapi.routing.APIRouter object at 0x7fe4d2d05780>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fe4d2d05720>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fe4d2d057e0>
               └ <fastapi.routing.APIRouter object at 0x7fe4d2d05780>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fe4d341e9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7fe4d2d05780>
          └ <starlette.routing._DefaultLifespan object at 0x7fe4d2d057e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fe4d2cfb640>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fe4d2d79b40>
          └ <bot_app.TelegramBot object at 0x7fe4d2d05c90>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fe4d2d79bd0>
          └ <bot_app.TelegramBot object at 0x7fe4d2d05c90>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fe4d2d48bb0>
          │                 └ <bot_app.TelegramBot object at 0x7fe4d2d05c90>
          └ <function on_startup_notify at 0x7fe4d2c15510>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fe4d45ab880>
          │  └ <aiogram.bot.bot.Bot object at 0x7fe4d2d48910>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fe4d2d48bb0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fe4d45674c0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fe4d45aa050>
                   └ <aiogram.bot.bot.Bot object at 0x7fe4d2d48910>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fe4d2d48910>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fe4d2d48910>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fe4d45a9900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fe4d2d48910>
                 │   └ <function make_request at 0x7fe4d454ef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fe4d507d2d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fe4d5369ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fe4d454ecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fe4d454e680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:34:12.010804+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:34:52.874716+0900 WARNING Shutting down!..
2022-06-30T01:34:53.473223+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:34:53.473430+0900 WARNING Bye!
2022-06-30T01:34:57.124466+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f580bdb75b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f580bdb6680>
    └ <uvicorn.server.Server object at 0x7f580beb65c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f580bdb6710>
           │       │   └ <uvicorn.server.Server object at 0x7f580beb65c0>
           │       └ <function run at 0x7f580f45fc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f580bd7b840>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f580eb32560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f580eb324d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f580eb38040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f580ece79a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f580be2ae60>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f580bdcf1c0>
          │   │      │    └ <function LifespanOn.receive at 0x7f580be2aef0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f580bdcf1c0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f580beb64a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f580bdcf1c0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f580bdcf1c0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
                 │    └ <fastapi.applications.FastAPI object at 0x7f580be35660>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f580beb64a0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f580bdcf1c0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f580bdcf1c0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f580bdcf1c0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f580bdcf1c0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f580be35f30>
          └ <fastapi.applications.FastAPI object at 0x7f580be35660>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f580bdcf1c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f580bdcf1c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f580be35ed0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f580be35f30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f580bdcf1c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f580bdcf1c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f580be35ea0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f580be35ed0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f580bdcf1c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f580bdcf1c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f580be35e40>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f580be35ea0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f580bdcf1c0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f580bdcf1c0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <fastapi.routing.APIRouter object at 0x7f580be356c0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f580be35e40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f580bdcf1c0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f580bdcf1c0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f58...
          │    └ <function Router.lifespan at 0x7f580c546b00>
          └ <fastapi.routing.APIRouter object at 0x7f580be356c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f580be35660>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f580be35720>
               └ <fastapi.routing.APIRouter object at 0x7f580be356c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f580c5469e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f580be356c0>
          └ <starlette.routing._DefaultLifespan object at 0x7f580be35720>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f580be2b640>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f580bea5b40>
          └ <bot_app.TelegramBot object at 0x7f580be35bd0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f580bea5bd0>
          └ <bot_app.TelegramBot object at 0x7f580be35bd0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f580be74af0>
          │                 └ <bot_app.TelegramBot object at 0x7f580be35bd0>
          └ <function on_startup_notify at 0x7f580bd49510>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f580d15f880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f580be74850>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f580be74af0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f580d11b400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f580d15e050>
                   └ <aiogram.bot.bot.Bot object at 0x7f580be74850>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f580be74850>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f580be74850>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f580d15d900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f580be74850>
                 │   └ <function make_request at 0x7f580d102f80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f580df012d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f580e45dda0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f580d102cb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f580d102680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:34:57.674491+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:35:42.966072+0900 WARNING Shutting down!..
2022-06-30T01:35:43.519221+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:35:43.519438+0900 WARNING Bye!
2022-06-30T01:35:46.263730+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7ff63cae75b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7ff63cae6680>
    └ <uvicorn.server.Server object at 0x7ff63cbe6710>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7ff63cae6710>
           │       │   └ <uvicorn.server.Server object at 0x7ff63cbe6710>
           │       └ <function run at 0x7ff6401b3c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7ff63caab840>
           │    └ <function BaseEventLoop.run_until_complete at 0x7ff63f886560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7ff63f8864d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7ff63f88c040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7ff63fa3b9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7ff63cb5ae60>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7ff63caff310>
          │   │      │    └ <function LifespanOn.receive at 0x7ff63cb5aef0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7ff63caff310>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff6...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff63cbe65f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff63caff310>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff63caff310>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff6...
                 │    └ <fastapi.applications.FastAPI object at 0x7ff63cb657b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7ff63cbe65f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff63caff310>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff63caff310>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff6...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff63caff310>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff63caff310>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff6...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff63cb66080>
          └ <fastapi.applications.FastAPI object at 0x7ff63cb657b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff63caff310>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff63caff310>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff6...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff63cb66020>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7ff63cb66080>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff63caff310>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff63caff310>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff6...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff63cb65ff0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7ff63cb66020>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff63caff310>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff63caff310>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff6...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7ff63cb65f90>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7ff63cb65ff0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff63caff310>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff63caff310>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff6...
          │    └ <fastapi.routing.APIRouter object at 0x7ff63cb65810>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7ff63cb65f90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7ff63caff310>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7ff63caff310>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7ff6...
          │    └ <function Router.lifespan at 0x7ff63d27eb00>
          └ <fastapi.routing.APIRouter object at 0x7ff63cb65810>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7ff63cb657b0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7ff63cb65870>
               └ <fastapi.routing.APIRouter object at 0x7ff63cb65810>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7ff63d27e9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7ff63cb65810>
          └ <starlette.routing._DefaultLifespan object at 0x7ff63cb65870>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7ff63cb5b640>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7ff63cbd5b40>
          └ <bot_app.TelegramBot object at 0x7ff63cb65d20>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7ff63cbd5bd0>
          └ <bot_app.TelegramBot object at 0x7ff63cb65d20>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7ff63cba4c10>
          │                 └ <bot_app.TelegramBot object at 0x7ff63cb65d20>
          └ <function on_startup_notify at 0x7ff63ca79510>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7ff63de5b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7ff63cba4970>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7ff63cba4c10>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7ff63de17610>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7ff63de5a050>
                   └ <aiogram.bot.bot.Bot object at 0x7ff63cba4970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7ff63cba4970>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7ff63cba4970>
                 │   │                  │    └ <function BaseBot.get_session at 0x7ff63de59900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7ff63cba4970>
                 │   └ <function make_request at 0x7ff63ddfef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7ff63edfd2d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7ff63f1f1e40>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7ff63ddfecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7ff63ddfe680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:35:46.781757+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:37:08.897682+0900 WARNING Shutting down!..
2022-06-30T01:37:09.451218+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:37:09.452435+0900 WARNING Bye!
2022-06-30T01:37:11.548061+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f97e89e3640>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f97e89e2710>
    └ <uvicorn.server.Server object at 0x7f97e8ae2680>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f97e89e27a0>
           │       │   └ <uvicorn.server.Server object at 0x7f97e8ae2680>
           │       └ <function run at 0x7f97ec093c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f97e89ab840>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f97eb766560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f97eb7664d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f97eb76c040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f97eb91b9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f97e8a5aef0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f97e89f7280>
          │   │      │    └ <function LifespanOn.receive at 0x7f97e8a5af80>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f97e89f7280>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f97...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f97e8ae2560>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f97e89f7280>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f97e89f7280>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f97...
                 │    └ <fastapi.applications.FastAPI object at 0x7f97e8a61720>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f97e8ae2560>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f97e89f7280>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f97e89f7280>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f97...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f97e89f7280>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f97e89f7280>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f97...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f97e8a61ff0>
          └ <fastapi.applications.FastAPI object at 0x7f97e8a61720>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f97e89f7280>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f97e89f7280>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f97...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f97e8a61f90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f97e8a61ff0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f97e89f7280>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f97e89f7280>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f97...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f97e8a61f60>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f97e8a61f90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f97e89f7280>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f97e89f7280>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f97...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f97e8a61f00>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f97e8a61f60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f97e89f7280>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f97e89f7280>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f97...
          │    └ <fastapi.routing.APIRouter object at 0x7f97e8a61780>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f97e8a61f00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f97e89f7280>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f97e89f7280>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f97...
          │    └ <function Router.lifespan at 0x7f97e916ab00>
          └ <fastapi.routing.APIRouter object at 0x7f97e8a61780>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f97e8a61720>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f97e8a617e0>
               └ <fastapi.routing.APIRouter object at 0x7f97e8a61780>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f97e916a9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f97e8a61780>
          └ <starlette.routing._DefaultLifespan object at 0x7f97e8a617e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f97e8a5b6d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f97e8ad1bd0>
          └ <bot_app.TelegramBot object at 0x7f97e8a61c90>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f97e8ad1c60>
          └ <bot_app.TelegramBot object at 0x7f97e8a61c90>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f97e8aa0b50>
          │                 └ <bot_app.TelegramBot object at 0x7f97e8a61c90>
          └ <function on_startup_notify at 0x7f97e89755a0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f97e9d5b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f97e8aa08b0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f97e8aa0b50>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f97e9d17460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f97e9d5a050>
                   └ <aiogram.bot.bot.Bot object at 0x7f97e8aa08b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f97e8aa08b0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f97e8aa08b0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f97e9d59900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f97e8aa08b0>
                 │   └ <function make_request at 0x7f97e9cfef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f97eafd12d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f97eb0e9f30>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f97e9cfecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f97e9cfe680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:37:12.079506+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:42:23.040392+0900 WARNING Shutting down!..
2022-06-30T01:42:23.592433+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:42:23.592693+0900 WARNING Bye!
2022-06-30T01:42:25.628050+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f04796df520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f04796de5f0>
    └ <uvicorn.server.Server object at 0x7f04797bee90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f04796de680>
           │       │   └ <uvicorn.server.Server object at 0x7f04797bee90>
           │       └ <function run at 0x7f047cd73c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f047969f8b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f047c44a560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f047c44a4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f047c44c040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f047c5fb9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f0479756dd0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f04796f72b0>
          │   │      │    └ <function LifespanOn.receive at 0x7f0479756e60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f04796f72b0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f04797befb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04796f72b0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04796f72b0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
                 │    └ <fastapi.applications.FastAPI object at 0x7f047975d750>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f04797befb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04796f72b0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04796f72b0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04796f72b0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04796f72b0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f047975e020>
          └ <fastapi.applications.FastAPI object at 0x7f047975d750>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04796f72b0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04796f72b0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f047975dfc0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f047975e020>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04796f72b0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04796f72b0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f047975df90>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f047975dfc0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04796f72b0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04796f72b0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f047975df30>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f047975df90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04796f72b0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04796f72b0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <fastapi.routing.APIRouter object at 0x7f047975d7b0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f047975df30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f04796f72b0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f04796f72b0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f04...
          │    └ <function Router.lifespan at 0x7f0479e6eb00>
          └ <fastapi.routing.APIRouter object at 0x7f047975d7b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f047975d750>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f047975d810>
               └ <fastapi.routing.APIRouter object at 0x7f047975d7b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f0479e6e9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f047975d7b0>
          └ <starlette.routing._DefaultLifespan object at 0x7f047975d810>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f04797575b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f04797d5ab0>
          └ <bot_app.TelegramBot object at 0x7f047975dcc0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f04797d5b40>
          └ <bot_app.TelegramBot object at 0x7f047975dcc0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f04797a0b50>
          │                 └ <bot_app.TelegramBot object at 0x7f047975dcc0>
          └ <function on_startup_notify at 0x7f0479475480>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f047afab880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f04797a08b0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f04797a0b50>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f047af67460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f047afaa050>
                   └ <aiogram.bot.bot.Bot object at 0x7f04797a08b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f04797a08b0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f04797a08b0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f047afa9900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f04797a08b0>
                 │   └ <function make_request at 0x7f047af4ef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f047ba812d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f047bb71e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f047af4ecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f047af4e680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:42:26.092507+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:43:45.318029+0900 WARNING Shutting down!..
2022-06-30T01:43:45.899948+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:43:45.900337+0900 WARNING Bye!
2022-06-30T01:43:48.259431+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fccc3dbb5b0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fccc3dba680>
    └ <uvicorn.server.Server object at 0x7fccc3e98f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fccc3dba710>
           │       │   └ <uvicorn.server.Server object at 0x7fccc3e98f10>
           │       └ <function run at 0x7fccc746fc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fccc3d7b990>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fccc6b42560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fccc6b424d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fccc6b44040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fccc6cf39a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fccc3e2ee60>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fccc3dd32b0>
          │   │      │    └ <function LifespanOn.receive at 0x7fccc3e2eef0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fccc3dd32b0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fcc...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fccc3dd3130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fccc3dd32b0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fccc3dd32b0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fcc...
                 │    └ <fastapi.applications.FastAPI object at 0x7fccc3e396f0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fccc3dd3130>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fccc3dd32b0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fccc3dd32b0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fcc...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fccc3dd32b0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fccc3dd32b0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fcc...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fccc3e39fc0>
          └ <fastapi.applications.FastAPI object at 0x7fccc3e396f0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fccc3dd32b0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fccc3dd32b0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fcc...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fccc3e39f60>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fccc3e39fc0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fccc3dd32b0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fccc3dd32b0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fcc...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fccc3e39f30>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fccc3e39f60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fccc3dd32b0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fccc3dd32b0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fcc...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fccc3e39ed0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fccc3e39f30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fccc3dd32b0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fccc3dd32b0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fcc...
          │    └ <fastapi.routing.APIRouter object at 0x7fccc3e39750>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fccc3e39ed0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fccc3dd32b0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fccc3dd32b0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fcc...
          │    └ <function Router.lifespan at 0x7fccc4542b00>
          └ <fastapi.routing.APIRouter object at 0x7fccc3e39750>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fccc3e396f0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fccc3e397b0>
               └ <fastapi.routing.APIRouter object at 0x7fccc3e39750>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fccc45429e0>
          │    └ <fastapi.routing.APIRouter object at 0x7fccc3e39750>
          └ <starlette.routing._DefaultLifespan object at 0x7fccc3e397b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fccc3e2f640>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fccc3eb1b40>
          └ <bot_app.TelegramBot object at 0x7fccc3e39c60>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fccc3eb1bd0>
          └ <bot_app.TelegramBot object at 0x7fccc3e39c60>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fccc3e7cac0>
          │                 └ <bot_app.TelegramBot object at 0x7fccc3e39c60>
          └ <function on_startup_notify at 0x7fccc3d4d510>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fccc515b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7fccc3e7c820>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fccc3e7cac0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fccc51173d0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fccc515a050>
                   └ <aiogram.bot.bot.Bot object at 0x7fccc3e7c820>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fccc3e7c820>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fccc3e7c820>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fccc5159900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fccc3e7c820>
                 │   └ <function make_request at 0x7fccc50fef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fccc63692d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fccc644df80>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fccc50fecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fccc50fe680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:43:48.834179+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:43:59.780862+0900 ERROR I/O operation on closed file.
2022-06-30T01:43:59.781121+0900 ERROR Can't produce_message
2022-06-30T01:52:05.924235+0900 WARNING Shutting down!..
2022-06-30T01:52:06.491303+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:52:06.491640+0900 WARNING Bye!
2022-06-30T01:52:08.262316+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f691f723520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f691f7225f0>
    └ <uvicorn.server.Server object at 0x7f691f804ee0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f691f722680>
           │       │   └ <uvicorn.server.Server object at 0x7f691f804ee0>
           │       └ <function run at 0x7f6922df3c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f691f6e3920>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f69224c6560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f69224c64d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f69224c8040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f69226779a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f691f796dd0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f691f73b2e0>
          │   │      │    └ <function LifespanOn.receive at 0x7f691f796e60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f691f73b2e0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f691f805000>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f691f73b2e0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f691f73b2e0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
                 │    └ <fastapi.applications.FastAPI object at 0x7f691f7a1780>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f691f805000>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f691f73b2e0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f691f73b2e0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f691f73b2e0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f691f73b2e0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f691f7a2050>
          └ <fastapi.applications.FastAPI object at 0x7f691f7a1780>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f691f73b2e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f691f73b2e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f691f7a1ff0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f691f7a2050>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f691f73b2e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f691f73b2e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f691f7a1fc0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f691f7a1ff0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f691f73b2e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f691f73b2e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f691f7a1f60>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f691f7a1fc0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f691f73b2e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f691f73b2e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <fastapi.routing.APIRouter object at 0x7f691f7a17e0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f691f7a1f60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f691f73b2e0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f691f73b2e0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f69...
          │    └ <function Router.lifespan at 0x7f691febeb00>
          └ <fastapi.routing.APIRouter object at 0x7f691f7a17e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f691f7a1780>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f691f7a1840>
               └ <fastapi.routing.APIRouter object at 0x7f691f7a17e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f691febe9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f691f7a17e0>
          └ <starlette.routing._DefaultLifespan object at 0x7f691f7a1840>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f691f7975b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f691f821ab0>
          └ <bot_app.TelegramBot object at 0x7f691f7a1cf0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f691f821b40>
          └ <bot_app.TelegramBot object at 0x7f691f7a1cf0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f691f7e4b80>
          │                 └ <bot_app.TelegramBot object at 0x7f691f7a1cf0>
          └ <function on_startup_notify at 0x7f691f6b1480>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f6920b5f880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f691f7e48e0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f691f7e4b80>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f6920b17490>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f6920b5e050>
                   └ <aiogram.bot.bot.Bot object at 0x7f691f7e48e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f691f7e48e0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f691f7e48e0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f6920b5d900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f691f7e48e0>
                 │   └ <function make_request at 0x7f6920afef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f6921d212d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f6921e55f80>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f6920afecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f6920afe680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:52:08.717195+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:52:21.358419+0900 ERROR I/O operation on closed file.
2022-06-30T01:52:21.358750+0900 ERROR Can't produce_file
2022-06-30T01:53:15.194695+0900 WARNING Shutting down!..
2022-06-30T01:53:15.723665+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:53:15.723931+0900 WARNING Bye!
2022-06-30T01:53:35.321855+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f9a27dab520>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f9a27daa5f0>
    └ <uvicorn.server.Server object at 0x7f9a27ea66e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f9a27daa680>
           │       │   └ <uvicorn.server.Server object at 0x7f9a27ea66e0>
           │       └ <function run at 0x7f9a2b43fc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f9a27d6b920>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f9a2ab16560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f9a2ab164d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f9a2ab18040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f9a2acc79a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f9a27e1edd0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27dbf2e0>
          │   │      │    └ <function LifespanOn.receive at 0x7f9a27e1ee60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27dbf2e0>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9a...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9a27ea65c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27dbf2e0>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27dbf2e0>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9a...
                 │    └ <fastapi.applications.FastAPI object at 0x7f9a27e29780>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9a27ea65c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27dbf2e0>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27dbf2e0>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9a...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27dbf2e0>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27dbf2e0>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9a...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9a27e2a050>
          └ <fastapi.applications.FastAPI object at 0x7f9a27e29780>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27dbf2e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27dbf2e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9a...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9a27e29ff0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9a27e2a050>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27dbf2e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27dbf2e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9a...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9a27e29fc0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9a27e29ff0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27dbf2e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27dbf2e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9a...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f9a27e29f60>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9a27e29fc0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27dbf2e0>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27dbf2e0>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9a...
          │    └ <fastapi.routing.APIRouter object at 0x7f9a27e297e0>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f9a27e29f60>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27dbf2e0>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9a27dbf2e0>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9a...
          │    └ <function Router.lifespan at 0x7f9a284feb00>
          └ <fastapi.routing.APIRouter object at 0x7f9a27e297e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f9a27e29780>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f9a27e29840>
               └ <fastapi.routing.APIRouter object at 0x7f9a27e297e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f9a284fe9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f9a27e297e0>
          └ <starlette.routing._DefaultLifespan object at 0x7f9a27e29840>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f9a27e1f5b0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f9a27e9dab0>
          └ <bot_app.TelegramBot object at 0x7f9a27e29cf0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f9a27e9db40>
          └ <bot_app.TelegramBot object at 0x7f9a27e29cf0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9a27e6cb50>
          │                 └ <bot_app.TelegramBot object at 0x7f9a27e29cf0>
          └ <function on_startup_notify at 0x7f9a27d3d480>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f9a2916b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f9a27e6c8b0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9a27e6cb50>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f9a29127460>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f9a2916a050>
                   └ <aiogram.bot.bot.Bot object at 0x7f9a27e6c8b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f9a27e6c8b0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f9a27e6c8b0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f9a29169900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f9a27e6c8b0>
                 │   └ <function make_request at 0x7f9a2910ef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f9a29f0d2d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f9a2a465ee0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f9a2910ecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f9a2910e680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:53:35.847662+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T01:57:32.567287+0900 WARNING Shutting down!..
2022-06-30T01:57:33.131514+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T01:57:33.131698+0900 WARNING Bye!
2022-06-30T01:57:35.300728+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f9ccb6cf640>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f9ccb6ce710>
    └ <uvicorn.server.Server object at 0x7f9ccb7ce770>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f9ccb6ce7a0>
           │       │   └ <uvicorn.server.Server object at 0x7f9ccb7ce770>
           │       └ <function run at 0x7f9cced63c70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f9ccb68f920>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f9cce43a560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f9cce43a4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f9cce43c040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f9cce5eb9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f9ccb742ef0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f9ccb6e7370>
          │   │      │    └ <function LifespanOn.receive at 0x7f9ccb742f80>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f9ccb6e7370>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9ccb7ce650>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9ccb6e7370>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9ccb6e7370>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
                 │    └ <fastapi.applications.FastAPI object at 0x7f9ccb749810>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f9ccb7ce650>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9ccb6e7370>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9ccb6e7370>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9ccb6e7370>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9ccb6e7370>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9ccb74a0e0>
          └ <fastapi.applications.FastAPI object at 0x7f9ccb749810>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9ccb6e7370>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9ccb6e7370>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9ccb74a080>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f9ccb74a0e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9ccb6e7370>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9ccb6e7370>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9ccb74a050>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f9ccb74a080>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9ccb6e7370>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9ccb6e7370>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f9ccb749ff0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f9ccb74a050>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9ccb6e7370>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9ccb6e7370>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          │    └ <fastapi.routing.APIRouter object at 0x7f9ccb749870>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f9ccb749ff0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f9ccb6e7370>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f9ccb6e7370>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f9c...
          │    └ <function Router.lifespan at 0x7f9ccbe5ab00>
          └ <fastapi.routing.APIRouter object at 0x7f9ccb749870>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f9ccb749810>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f9ccb7498d0>
               └ <fastapi.routing.APIRouter object at 0x7f9ccb749870>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f9ccbe5a9e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f9ccb749870>
          └ <starlette.routing._DefaultLifespan object at 0x7f9ccb7498d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f9ccb7436d0>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f9ccb7bdbd0>
          └ <bot_app.TelegramBot object at 0x7f9ccb749d80>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f9ccb7bdc60>
          └ <bot_app.TelegramBot object at 0x7f9ccb749d80>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9ccb78cc10>
          │                 └ <bot_app.TelegramBot object at 0x7f9ccb749d80>
          └ <function on_startup_notify at 0x7f9ccb4695a0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f9cccfab880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f9ccb78c970>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f9ccb78cc10>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f9cccf67640>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f9cccfaa050>
                   └ <aiogram.bot.bot.Bot object at 0x7f9ccb78c970>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f9ccb78c970>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f9ccb78c970>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f9cccfa9900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f9ccb78c970>
                 │   └ <function make_request at 0x7f9cccf4ef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f9ccda812d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f9ccdb71e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f9cccf4ecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f9cccf4e680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T01:57:35.802351+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T02:10:31.490625+0900 WARNING Shutting down!..
2022-06-30T02:10:32.031886+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T02:10:32.032095+0900 WARNING Bye!
2022-06-30T02:10:33.681267+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 169, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7fec08b4f6d0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7fec08b4e7a0>
    └ <uvicorn.server.Server object at 0x7fec08c4e620>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7fec08b4e830>
           │       │   └ <uvicorn.server.Server object at 0x7fec08c4e620>
           │       └ <function run at 0x7fec0c1ffc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7fec08b0f920>
           │    └ <function BaseEventLoop.run_until_complete at 0x7fec0b8d2560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fec0b8d24d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fec0b8d8040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fec0ba879a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7fec08bcaf80>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7fec08b67220>
          │   │      │    └ <function LifespanOn.receive at 0x7fec08bcb010>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7fec08b67220>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fec...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fec08c4e500>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fec08b67220>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fec08b67220>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fec...
                 │    └ <fastapi.applications.FastAPI object at 0x7fec08bc16c0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7fec08c4e500>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fec08b67220>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fec08b67220>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fec...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fec08b67220>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fec08b67220>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fec...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fec08bc1f90>
          └ <fastapi.applications.FastAPI object at 0x7fec08bc16c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fec08b67220>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fec08b67220>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fec...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7fec08bc1f30>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7fec08bc1f90>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fec08b67220>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fec08b67220>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fec...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7fec08bc1f00>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7fec08bc1f30>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fec08b67220>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fec08b67220>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fec...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fec08bc1ea0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7fec08bc1f00>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fec08b67220>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fec08b67220>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fec...
          │    └ <fastapi.routing.APIRouter object at 0x7fec08bc1720>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7fec08bc1ea0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7fec08b67220>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7fec08b67220>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7fec...
          │    └ <function Router.lifespan at 0x7fec092c6b00>
          └ <fastapi.routing.APIRouter object at 0x7fec08bc1720>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7fec08bc16c0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7fec08bc1780>
               └ <fastapi.routing.APIRouter object at 0x7fec08bc1720>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7fec092c69e0>
          │    └ <fastapi.routing.APIRouter object at 0x7fec08bc1720>
          └ <starlette.routing._DefaultLifespan object at 0x7fec08bc1780>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7fec08bcb760>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7fec08c3dc60>
          └ <bot_app.TelegramBot object at 0x7fec08bc1c30>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7fec08c3dcf0>
          └ <bot_app.TelegramBot object at 0x7fec08bc1c30>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fec08c10ac0>
          │                 └ <bot_app.TelegramBot object at 0x7fec08bc1c30>
          └ <function on_startup_notify at 0x7fec08ae5630>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7fec09f5b880>
          │  └ <aiogram.bot.bot.Bot object at 0x7fec08c10820>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7fec08c10ac0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7fec09f17400>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7fec09f5a050>
                   └ <aiogram.bot.bot.Bot object at 0x7fec08c10820>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7fec08c10820>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7fec08c10820>
                 │   │                  │    └ <function BaseBot.get_session at 0x7fec09f59900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7fec08c10820>
                 │   └ <function make_request at 0x7fec09efef80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7fec0b1412d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7fec0b259e90>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7fec09efecb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7fec09efe680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T02:10:34.136849+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T02:58:25.575070+0900 WARNING Shutting down!..
2022-06-30T02:58:26.120388+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T02:58:26.120647+0900 WARNING Bye!
2022-06-30T03:00:22.607180+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 178, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f1844c8e7a0>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f1844c8d870>
    └ <uvicorn.server.Server object at 0x7f1844d88f40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f1844c8d900>
           │       │   └ <uvicorn.server.Server object at 0x7f1844d88f40>
           │       └ <function run at 0x7f18482fbc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f1844c987b0>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f18479ca560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f18479ca4d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f18479cc040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f1847b7f9a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f1844ce6050>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f1844d08490>
          │   │      │    └ <function LifespanOn.receive at 0x7f1844ce60e0>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f1844d08490>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1844d88e20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1844d08490>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1844d08490>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
                 │    └ <fastapi.applications.FastAPI object at 0x7f1844d08100>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f1844d88e20>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1844d08490>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1844d08490>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1844d08490>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1844d08490>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1844d08940>
          └ <fastapi.applications.FastAPI object at 0x7f1844d08100>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1844d08490>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1844d08490>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f1844d088e0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f1844d08940>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1844d08490>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1844d08490>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1844d088b0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f1844d088e0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1844d08490>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1844d08490>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1844d08850>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f1844d088b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1844d08490>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1844d08490>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          │    └ <fastapi.routing.APIRouter object at 0x7f1844d08160>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f1844d08850>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f1844d08490>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f1844d08490>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f18...
          │    └ <function Router.lifespan at 0x7f18453e5900>
          └ <fastapi.routing.APIRouter object at 0x7f1844d08160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f1844d08100>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f1844d081c0>
               └ <fastapi.routing.APIRouter object at 0x7f1844d08160>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f18453e57e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f1844d08160>
          └ <starlette.routing._DefaultLifespan object at 0x7f1844d081c0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f1844ce6710>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f1844d509d0>
          └ <bot_app.TelegramBot object at 0x7f1844d085e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f1844d50a60>
          └ <bot_app.TelegramBot object at 0x7f1844d085e0>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f1844f1f3a0>
          │                 └ <bot_app.TelegramBot object at 0x7f1844d085e0>
          └ <function on_startup_notify at 0x7f1844a249d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f1846057880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f1844f1d7b0>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f1844f1f3a0>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f1846013af0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f1846056050>
                   └ <aiogram.bot.bot.Bot object at 0x7f1844f1d7b0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f1844f1d7b0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f1844f1d7b0>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f1846055900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f1844f1d7b0>
                 │   └ <function make_request at 0x7f1845ffaf80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f1846ff92d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f1847355fd0>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f1845ffacb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f1845ffa680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T03:00:23.164572+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T03:03:20.930720+0900 WARNING Shutting down!..
2022-06-30T03:03:21.093745+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T03:03:21.093959+0900 WARNING Bye!
2022-06-30T03:03:23.967526+0900 ERROR Chat not found
Traceback (most recent call last):

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 178, in <module>
    uvicorn.run('app:app', host='localhost', port=8001)
    │       └ <function run at 0x7f63a6ff2710>
    └ <module 'uvicorn' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/__init__.py'>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/main.py", line 463, in run
    server.run()
    │      └ <function Server.run at 0x7f63a6ff17e0>
    └ <uvicorn.server.Server object at 0x7f63a70f0f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/server.py", line 60, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ None
           │       │   │    └ <function Server.serve at 0x7f63a6ff1870>
           │       │   └ <uvicorn.server.Server object at 0x7f63a70f0f10>
           │       └ <function run at 0x7f63aa66bc70>
           └ <module 'asyncio' from '/usr/lib64/python3.10/asyncio/__init__.py'>
  File "/usr/lib64/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x7f63a6ff4820>
           │    └ <function BaseEventLoop.run_until_complete at 0x7f63a9d46560>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 633, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7f63a9d464d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 600, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7f63a9d48040>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/lib64/python3.10/asyncio/base_events.py", line 1896, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7f63a9ef39a0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/usr/lib64/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/lifespan/on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x7f63a7055fc0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x7f63a7002230>
          │   │      │    └ <function LifespanOn.receive at 0x7f63a7056050>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x7f63a7002230>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f63...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f63a70f0df0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f63a7002230>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f63a7002230>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f63...
                 │    └ <fastapi.applications.FastAPI object at 0x7f63a6e646d0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x7f63a70f0df0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/applications.py", line 261, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f63a7002230>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f63a7002230>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f63...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f63a7002230>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f63a7002230>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f63...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f63a6e64fa0>
          └ <fastapi.applications.FastAPI object at 0x7f63a6e646d0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f63a7002230>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f63a7002230>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f63...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x7f63a6e64f40>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x7f63a6e64fa0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/middleware/cors.py", line 76, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f63a7002230>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f63a7002230>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f63...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x7f63a6e64f10>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x7f63a6e64f40>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f63a7002230>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f63a7002230>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f63...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f63a6e64eb0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x7f63a6e64f10>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f63a7002230>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f63a7002230>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f63...
          │    └ <fastapi.routing.APIRouter object at 0x7f63a6e64730>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x7f63a6e64eb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 645, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x7f63a7002230>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x7f63a7002230>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'app': <fastapi.applications.FastAPI object at 0x7f63...
          │    └ <function Router.lifespan at 0x7f63a7775900>
          └ <fastapi.routing.APIRouter object at 0x7f63a6e64730>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 621, in lifespan
    async with self.lifespan_context(app):
               │    │                └ <fastapi.applications.FastAPI object at 0x7f63a6e646d0>
               │    └ <starlette.routing._DefaultLifespan object at 0x7f63a6e64790>
               └ <fastapi.routing.APIRouter object at 0x7f63a6e64730>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 518, in __aenter__
    await self._router.startup()
          │    │       └ <function Router.startup at 0x7f63a77757e0>
          │    └ <fastapi.routing.APIRouter object at 0x7f63a6e64730>
          └ <starlette.routing._DefaultLifespan object at 0x7f63a6e64790>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/starlette/routing.py", line 598, in startup
    await handler()
          └ <function on_startup at 0x7f63a7056710>

  File "/home/achillescres/PycharmProjects/izfir_bot/app.py", line 49, in on_startup
    await ibot.start(webhook_url=WEBHOOK_URL)
          │    │                 └ 'https://0865-213-129-46-65.eu.ngrok.io/bot/5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg'
          │    └ <function TelegramBot.start at 0x7f63a70e4940>
          └ <bot_app.TelegramBot object at 0x7f63a6e64c40>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 71, in start
    await self.on_startup()
          │    └ <function TelegramBot.on_startup at 0x7f63a70e49d0>
          └ <bot_app.TelegramBot object at 0x7f63a6e64c40>

  File "/home/achillescres/PycharmProjects/izfir_bot/bot_app.py", line 86, in on_startup
    await on_startup_notify(self.dp)
          │                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f63a706b370>
          │                 └ <bot_app.TelegramBot object at 0x7f63a6e64c40>
          └ <function on_startup_notify at 0x7f63a6d809d0>

> File "/home/achillescres/PycharmProjects/izfir_bot/bot/utils/notify_admin.py", line 12, in on_startup_notify
    await dp.bot.send_message(chat_id=admin, text=text)
          │  │   │                    │           └ 'Bot started MY overlord'
          │  │   │                    └ 740086487
          │  │   └ <function Bot.send_message at 0x7f63a8367880>
          │  └ <aiogram.bot.bot.Bot object at 0x7f63a7069780>
          └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x7f63a706b370>

  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/bot.py", line 334, in send_message
    result = await self.request(api.Methods.SEND_MESSAGE, payload)
                   │    │       │   │       │             └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x7f63a8323ac0>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
                   │    └ <function BaseBot.request at 0x7f63a8366050>
                   └ <aiogram.bot.bot.Bot object at 0x7f63a7069780>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/base.py", line 231, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {'chat_id': 740086487, 'text': 'Bot started MY overlord', 'parse_mode': 'html'}
                 │   │                  │    │              │    │       │             └ 'sendMessage'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x7f63a7069780>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x7f63a7069780>
                 │   │                  │    └ <function BaseBot.get_session at 0x7f63a8365900>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x7f63a7069780>
                 │   └ <function make_request at 0x7f63a830af80>
                 └ <module 'aiogram.bot.api' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/ap...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           │            │       │        │             │        │             │        └ <function ClientResponse.text at 0x7f63a91092d0>
           │            │       │        │             │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │             │        │               <C...
           │            │       │        │             │        └ 400
           │            │       │        │             └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │       │        │               <C...
           │            │       │        └ <property object at 0x7f63a96f6020>
           │            │       └ <ClientResponse(https://api.telegram.org/bot5460719976:AAHsBwDdoe2IS0oOiMDK3YB2Z6Cl76RlkOg/sendMessage) [400 Bad Request]>
           │            │         <C...
           │            └ 'sendMessage'
           └ <function check_result at 0x7f63a830acb0>
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
    │          │          │      └ 'Bad Request: chat not found'
    │          │          └ <classmethod(<function _MatchErrorMixin.detect at 0x7f63a830a680>)>
    │          └ <class 'aiogram.utils.exceptions.BadRequest'>
    └ <module 'aiogram.utils.exceptions' from '/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogr...
  File "/home/achillescres/PycharmProjects/izfir_bot/venv/lib/python3.10/site-packages/aiogram/utils/exceptions.py", line 140, in detect
    raise err(cls.text or description)
          │   │   │       └ 'bad request: chat not found'
          │   │   └ None
          │   └ <class 'aiogram.utils.exceptions.BadRequest'>
          └ <class 'aiogram.utils.exceptions.ChatNotFound'>

aiogram.utils.exceptions.ChatNotFound: Chat not found
2022-06-30T03:03:24.472826+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T03:07:14.163603+0900 WARNING Shutting down!..
2022-06-30T03:07:14.732277+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T03:07:14.732499+0900 WARNING Bye!
2022-06-30T03:07:16.688569+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T03:20:22.877782+0900 WARNING Shutting down!..
2022-06-30T03:20:23.312588+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T03:20:23.312826+0900 WARNING Bye!
2022-06-30T03:20:25.705940+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T03:22:13.905635+0900 WARNING Shutting down!..
2022-06-30T03:22:14.451424+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T03:22:14.451599+0900 WARNING Bye!
2022-06-30T03:22:16.798025+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T03:25:36.200445+0900 WARNING Shutting down!..
2022-06-30T03:25:36.745730+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T03:25:36.745913+0900 WARNING Bye!
2022-06-30T03:25:38.845000+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T03:26:11.905275+0900 WARNING Shutting down!..
2022-06-30T03:26:12.061162+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T03:26:12.061386+0900 WARNING Bye!
2022-06-30T03:26:57.332645+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T03:27:54.179535+0900 WARNING Shutting down!..
2022-06-30T03:27:54.610377+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T03:27:54.610562+0900 WARNING Bye!
2022-06-30T03:27:58.036297+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T03:28:35.735600+0900 WARNING Shutting down!..
2022-06-30T03:28:35.883829+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T03:28:35.884101+0900 WARNING Bye!
2022-06-30T03:28:38.646307+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T03:28:58.497501+0900 WARNING Shutting down!..
2022-06-30T03:28:58.650366+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T03:28:58.650555+0900 WARNING Bye!
2022-06-30T03:29:01.655975+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T03:29:13.790595+0900 WARNING Shutting down!..
2022-06-30T03:29:13.964172+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T03:29:13.964609+0900 WARNING Bye!
2022-06-30T03:29:16.509612+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T03:29:45.992973+0900 WARNING Shutting down!..
2022-06-30T03:29:46.136104+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T03:29:46.136323+0900 WARNING Bye!
2022-06-30T03:29:48.421853+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T03:30:31.931623+0900 WARNING Shutting down!..
2022-06-30T03:30:32.497256+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T03:30:32.497547+0900 WARNING Bye!
2022-06-30T03:30:34.728156+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T03:32:07.248918+0900 WARNING Shutting down!..
2022-06-30T03:32:07.786146+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T03:32:07.786348+0900 WARNING Bye!
2022-06-30T03:32:10.925423+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T03:44:24.125528+0900 WARNING Shutting down!..
2022-06-30T03:44:24.284554+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T03:44:24.284738+0900 WARNING Bye!
2022-06-30T03:44:26.691486+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T03:51:53.659479+0900 WARNING Shutting down!..
2022-06-30T03:51:54.203425+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T03:51:54.203727+0900 WARNING Bye!
2022-06-30T13:08:42.281872+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T13:09:51.879174+0900 WARNING Shutting down!..
2022-06-30T13:09:52.419247+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T13:09:52.419567+0900 WARNING Bye!
2022-06-30T13:09:54.348198+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T13:18:19.493960+0900 WARNING Shutting down!..
2022-06-30T13:18:20.044363+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T13:18:20.044646+0900 WARNING Bye!
2022-06-30T13:18:22.339529+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T16:06:25.464910+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T16:09:25.731767+0900 WARNING Shutting down!..
2022-06-30T16:09:26.406167+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T16:09:26.406330+0900 WARNING Bye!
2022-06-30T16:09:28.762058+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T16:10:00.967061+0900 WARNING Shutting down!..
2022-06-30T16:10:01.735032+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T16:10:01.735320+0900 WARNING Bye!
2022-06-30T16:10:04.806423+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T16:20:59.589608+0900 WARNING Shutting down!..
2022-06-30T16:20:59.819316+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T16:20:59.819483+0900 WARNING Bye!
2022-06-30T16:21:02.488450+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T16:21:49.840699+0900 WARNING Shutting down!..
2022-06-30T16:21:50.578891+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T16:21:50.579046+0900 WARNING Bye!
2022-06-30T16:21:53.281009+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T16:24:37.745411+0900 WARNING Shutting down!..
2022-06-30T16:24:38.444651+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T16:24:38.444821+0900 WARNING Bye!
2022-06-30T16:24:40.807398+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T17:00:27.798929+0900 WARNING Shutting down!..
2022-06-30T17:00:28.561828+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T17:00:28.562030+0900 WARNING Bye!
2022-06-30T17:00:31.837668+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T17:04:57.916628+0900 WARNING Shutting down!..
2022-06-30T17:04:58.694848+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T17:04:58.695117+0900 WARNING Bye!
2022-06-30T17:05:01.356488+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T17:18:03.729703+0900 WARNING Shutting down!..
2022-06-30T17:18:04.470512+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T17:18:04.471155+0900 WARNING Bye!
2022-06-30T17:18:07.080424+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T17:18:41.491150+0900 WARNING Shutting down!..
2022-06-30T17:18:42.076052+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T17:18:42.076240+0900 WARNING Bye!
2022-06-30T17:18:45.583138+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T17:18:50.302816+0900 WARNING Error while finishing support or support!
2022-06-30T17:18:50.310698+0900 WARNING Erro siht second attempt to finish support!
2022-06-30T17:19:40.693583+0900 INFO Sending message to operator: None from user: 487289925
2022-06-30T17:19:40.693770+0900 INFO HAVE NOT operator_id IN FSM! CLOSING_CHAT FOR USER: 487289925
2022-06-30T17:19:40.701204+0900 WARNING Error while finishing support or support!
2022-06-30T17:19:40.708433+0900 WARNING Erro siht second attempt to finish support!
2022-06-30T17:21:58.975585+0900 WARNING Shutting down!..
2022-06-30T17:21:59.735342+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T17:21:59.735510+0900 WARNING Bye!
2022-06-30T17:22:02.335004+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T17:32:25.516027+0900 INFO Sending message to operator: None from user: 487289925
2022-06-30T17:32:25.516188+0900 INFO HAVE NOT operator_id IN FSM! CLOSING_CHAT FOR USER: 487289925
2022-06-30T17:32:25.524196+0900 WARNING Error while finishing support or support!
2022-06-30T17:32:25.532860+0900 WARNING Erro siht second attempt to finish support!
2022-06-30T17:32:25.708242+0900 WARNING ticket_id isn't in storage
2022-06-30T17:33:38.638124+0900 WARNING Shutting down!..
2022-06-30T17:33:39.442060+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T17:33:39.442277+0900 WARNING Bye!
2022-06-30T17:33:42.001950+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T17:39:33.397152+0900 WARNING Shutting down!..
2022-06-30T17:39:34.162849+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T17:39:34.163010+0900 WARNING Bye!
2022-06-30T17:39:37.129949+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T17:40:35.276852+0900 INFO Sending message to operator: 62bd6175fdffcc5f77c0bd0d from user: 487289925
2022-06-30T17:40:35.277008+0900 INFO Sending message to 62bd6175fdffcc5f77c0bd0d
2022-06-30T17:40:54.545740+0900 INFO Sending message to operator: 62bd6175fdffcc5f77c0bd0d from user: 487289925
2022-06-30T17:40:54.545938+0900 INFO Sending message to 62bd6175fdffcc5f77c0bd0d
2022-06-30T17:40:54.853084+0900 INFO Sending message to operator: 62bd6175fdffcc5f77c0bd0d from user: 487289925
2022-06-30T17:40:54.853243+0900 INFO Sending message to 62bd6175fdffcc5f77c0bd0d
2022-06-30T17:40:55.161953+0900 INFO Sending message to operator: 62bd6175fdffcc5f77c0bd0d from user: 487289925
2022-06-30T17:40:55.162141+0900 INFO Sending message to 62bd6175fdffcc5f77c0bd0d
2022-06-30T17:41:27.078586+0900 INFO Sending message to operator: 62bd6175fdffcc5f77c0bd0d from user: 487289925
2022-06-30T17:41:27.078752+0900 INFO Sending message to 62bd6175fdffcc5f77c0bd0d
2022-06-30T17:44:37.130590+0900 WARNING Shutting down!..
2022-06-30T17:44:37.881767+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T17:44:37.881949+0900 WARNING Bye!
2022-06-30T17:44:40.339593+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T17:46:24.282378+0900 INFO Unable to post message
2022-06-30T17:46:24.282541+0900 WARNING Error while finishing support or support!
2022-06-30T17:46:24.287092+0900 INFO Unable to post message
2022-06-30T17:46:24.287253+0900 WARNING Erro siht second attempt to finish support!
2022-06-30T17:46:24.993061+0900 WARNING ticket_id isn't in storage
2022-06-30T17:46:46.913034+0900 INFO Sending message to operator: 62bd62edfdffcc5f77c0bd15 from user: 487289925
2022-06-30T17:46:46.913193+0900 INFO Sending message to 62bd62edfdffcc5f77c0bd15
2022-06-30T17:46:53.051788+0900 INFO Sending message to operator: 62bd62edfdffcc5f77c0bd15 from user: 487289925
2022-06-30T17:46:53.051950+0900 INFO Sending message to 62bd62edfdffcc5f77c0bd15
2022-06-30T17:56:09.504371+0900 INFO Sending message to operator: 62bd62edfdffcc5f77c0bd15 from user: 487289925
2022-06-30T17:56:09.504999+0900 INFO Sending message to 62bd62edfdffcc5f77c0bd15
2022-06-30T17:56:09.527604+0900 INFO Unable to post message
2022-06-30T17:56:09.912629+0900 INFO Sending message to operator: 62bd62edfdffcc5f77c0bd15 from user: 487289925
2022-06-30T17:56:09.913238+0900 INFO Sending message to 62bd62edfdffcc5f77c0bd15
2022-06-30T17:56:09.930156+0900 INFO Unable to post message
2022-06-30T17:56:10.235822+0900 INFO Sending message to operator: 62bd62edfdffcc5f77c0bd15 from user: 487289925
2022-06-30T17:56:10.236401+0900 INFO Sending message to 62bd62edfdffcc5f77c0bd15
2022-06-30T17:56:10.254222+0900 INFO Unable to post message
2022-06-30T17:56:10.629029+0900 INFO Sending message to operator: 62bd62edfdffcc5f77c0bd15 from user: 487289925
2022-06-30T17:56:10.629614+0900 INFO Sending message to 62bd62edfdffcc5f77c0bd15
2022-06-30T17:56:10.647605+0900 INFO Unable to post message
2022-06-30T17:56:11.038527+0900 INFO Sending message to operator: 62bd62edfdffcc5f77c0bd15 from user: 487289925
2022-06-30T17:56:11.039128+0900 INFO Sending message to 62bd62edfdffcc5f77c0bd15
2022-06-30T17:56:11.056619+0900 INFO Unable to post message
2022-06-30T17:57:24.601370+0900 WARNING Shutting down!..
2022-06-30T17:57:25.264525+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T17:57:25.265132+0900 WARNING Bye!
2022-06-30T17:57:32.034588+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T17:57:36.365121+0900 INFO Unable to post message
2022-06-30T17:57:36.365732+0900 WARNING Error while finishing support or support!
2022-06-30T17:57:36.383345+0900 INFO Unable to post message
2022-06-30T17:57:36.383950+0900 WARNING Erro siht second attempt to finish support!
2022-06-30T17:57:36.644179+0900 WARNING ticket_id isn't in storage
2022-06-30T17:57:59.187991+0900 INFO Sending message to operator: 62bd658bce847d856adf0a42 from user: 487289925
2022-06-30T17:57:59.188553+0900 INFO Sending message to 62bd658bce847d856adf0a42
2022-06-30T17:58:40.553331+0900 INFO Sending message to operator: 62bd658bce847d856adf0a42 from user: 487289925
2022-06-30T17:58:40.553973+0900 INFO Sending message to 62bd658bce847d856adf0a42
2022-06-30T17:58:40.926863+0900 INFO Sending message to operator: 62bd658bce847d856adf0a42 from user: 487289925
2022-06-30T17:58:40.927464+0900 INFO Sending message to 62bd658bce847d856adf0a42
2022-06-30T17:58:41.289056+0900 INFO Sending message to operator: 62bd658bce847d856adf0a42 from user: 487289925
2022-06-30T17:58:41.289624+0900 INFO Sending message to 62bd658bce847d856adf0a42
2022-06-30T17:58:41.703383+0900 INFO Sending message to operator: 62bd658bce847d856adf0a42 from user: 487289925
2022-06-30T17:58:41.703974+0900 INFO Sending message to 62bd658bce847d856adf0a42
2022-06-30T17:58:42.079895+0900 INFO Sending message to operator: 62bd658bce847d856adf0a42 from user: 487289925
2022-06-30T17:58:42.080452+0900 INFO Sending message to 62bd658bce847d856adf0a42
2022-06-30T17:58:45.696365+0900 INFO Sending message to operator: 62bd658bce847d856adf0a42 from user: 487289925
2022-06-30T17:58:45.697013+0900 INFO Sending message to 62bd658bce847d856adf0a42
2022-06-30T17:58:46.073959+0900 INFO Sending message to operator: 62bd658bce847d856adf0a42 from user: 487289925
2022-06-30T17:58:46.074569+0900 INFO Sending message to 62bd658bce847d856adf0a42
2022-06-30T17:58:46.493424+0900 INFO Sending message to operator: 62bd658bce847d856adf0a42 from user: 487289925
2022-06-30T17:58:46.494228+0900 INFO Sending message to 62bd658bce847d856adf0a42
2022-06-30T17:58:46.894919+0900 INFO Sending message to operator: 62bd658bce847d856adf0a42 from user: 487289925
2022-06-30T17:58:46.895525+0900 INFO Sending message to 62bd658bce847d856adf0a42
2022-06-30T17:58:47.302929+0900 INFO Sending message to operator: 62bd658bce847d856adf0a42 from user: 487289925
2022-06-30T17:58:47.303495+0900 INFO Sending message to 62bd658bce847d856adf0a42
2022-06-30T18:00:03.717014+0900 WARNING Shutting down!..
2022-06-30T18:00:04.510764+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T18:00:04.511367+0900 WARNING Bye!
2022-06-30T18:00:08.301213+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T18:00:10.370595+0900 INFO Unable to post message
2022-06-30T18:00:10.371219+0900 WARNING Error while finishing support or support!
2022-06-30T18:00:10.388089+0900 INFO Unable to post message
2022-06-30T18:00:10.388643+0900 WARNING Erro siht second attempt to finish support!
2022-06-30T18:00:10.656004+0900 WARNING ticket_id isn't in storage
2022-06-30T18:00:35.748182+0900 INFO Sending message to operator: 62bd6629ce847d856adf0a59 from user: 487289925
2022-06-30T18:00:35.748730+0900 INFO Sending message to 62bd6629ce847d856adf0a59
2022-06-30T18:12:31.104376+0900 WARNING Shutting down!..
2022-06-30T18:12:31.937383+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T18:12:31.937994+0900 WARNING Bye!
2022-06-30T18:12:35.007871+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T18:14:52.415248+0900 INFO Sending message to operator: 62bd69815bb541b70dd9e1d9 from user: 487289925
2022-06-30T18:14:52.415860+0900 INFO Sending message to 62bd69815bb541b70dd9e1d9
2022-06-30T18:14:54.351288+0900 INFO Sending message to operator: 62bd69815bb541b70dd9e1d9 from user: 487289925
2022-06-30T18:14:54.352172+0900 INFO Sending message to 62bd69815bb541b70dd9e1d9
2022-06-30T18:14:54.788309+0900 INFO Sending message to operator: 62bd69815bb541b70dd9e1d9 from user: 487289925
2022-06-30T18:14:54.788886+0900 INFO Sending message to 62bd69815bb541b70dd9e1d9
2022-06-30T18:14:57.563471+0900 WARNING ticket_id isn't in storage
2022-06-30T18:15:28.583664+0900 INFO Sending message to operator: 62bd699d5bb541b70dd9e1df from user: 487289925
2022-06-30T18:15:28.584267+0900 INFO Sending message to 62bd699d5bb541b70dd9e1df
2022-06-30T18:15:45.683333+0900 INFO Sending message to operator: 62bd699d5bb541b70dd9e1df from user: 487289925
2022-06-30T18:15:45.683932+0900 INFO Sending message to 62bd699d5bb541b70dd9e1df
2022-06-30T18:18:10.332570+0900 WARNING Shutting down!..
2022-06-30T18:18:11.576836+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T18:18:11.577455+0900 WARNING Bye!
2022-06-30T18:18:15.701389+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T19:12:10.053017+0900 WARNING Shutting down!..
2022-06-30T19:12:10.866651+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T19:12:10.867531+0900 WARNING Bye!
2022-06-30T19:20:17.594657+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T19:21:02.184110+0900 WARNING Shutting down!..
2022-06-30T19:21:02.966913+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T19:21:02.967284+0900 WARNING Bye!
2022-06-30T19:21:06.428669+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T19:22:32.450919+0900 INFO Sending message to operator: 62bd79610e4271a1eae0890f from user: 487289925
2022-06-30T19:22:32.451520+0900 INFO Sending message to 62bd79610e4271a1eae0890f
2022-06-30T19:23:05.363958+0900 INFO Sending message to operator: 62bd79780e4271a1eae08913 from user: 487289925
2022-06-30T19:23:05.364552+0900 INFO Sending message to 62bd79780e4271a1eae08913
2022-06-30T19:23:07.564747+0900 WARNING ticket_id isn't in storage
2022-06-30T19:23:28.771268+0900 WARNING ticket_id isn't in storage
2022-06-30T19:25:39.415334+0900 WARNING Shutting down!..
2022-06-30T19:25:40.143768+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T19:25:40.144318+0900 WARNING Bye!
2022-06-30T19:25:43.379084+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T19:26:31.699470+0900 WARNING Error while finishing support or support!
2022-06-30T19:26:31.736332+0900 WARNING Erro siht second attempt to finish support!
2022-06-30T19:26:32.375055+0900 WARNING ticket_id isn't in storage
2022-06-30T19:28:01.362186+0900 INFO Sending message to operator: 62bd7aa20e4271a1eae08920 from user: 487289925
2022-06-30T19:28:01.362949+0900 INFO Sending message to 62bd7aa20e4271a1eae08920
2022-06-30T19:28:37.522820+0900 INFO Sending message to operator: None from user: 487289925
2022-06-30T19:28:37.523568+0900 INFO HAVE NOT operator_id IN FSM! CLOSING_CHAT FOR USER: 487289925
2022-06-30T19:28:37.561272+0900 WARNING Error while finishing support or support!
2022-06-30T19:28:37.598234+0900 WARNING Erro siht second attempt to finish support!
2022-06-30T19:28:38.269438+0900 WARNING ticket_id isn't in storage
2022-06-30T19:30:25.200916+0900 WARNING Shutting down!..
2022-06-30T19:30:25.941889+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T19:30:25.942546+0900 WARNING Bye!
2022-06-30T19:30:30.344823+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T19:31:07.731532+0900 INFO Sending message to operator: 62bd7b5e0e4271a1eae08926 from user: 487289925
2022-06-30T19:31:07.732135+0900 INFO Sending message to 62bd7b5e0e4271a1eae08926
2022-06-30T19:31:27.593529+0900 INFO Sending message to operator: None from user: 487289925
2022-06-30T19:31:27.594109+0900 INFO HAVE NOT operator_id IN FSM! CLOSING_CHAT FOR USER: 487289925
2022-06-30T19:31:27.610685+0900 INFO Unable to post message
2022-06-30T19:31:27.611223+0900 WARNING Error while finishing support or support!
2022-06-30T19:31:27.627917+0900 INFO Unable to post message
2022-06-30T19:31:27.628625+0900 WARNING Erro siht second attempt to finish support!
2022-06-30T19:31:27.899608+0900 WARNING ticket_id isn't in storage
2022-06-30T19:32:37.384303+0900 WARNING Shutting down!..
2022-06-30T19:32:38.038817+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T19:32:38.039423+0900 WARNING Bye!
2022-06-30T19:32:41.724789+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T19:33:03.318559+0900 WARNING Shutting down!..
2022-06-30T19:33:03.948546+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T19:33:03.949120+0900 WARNING Bye!
2022-06-30T19:33:07.530626+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T19:34:52.195651+0900 INFO Sending message to operator: 62bd7c380e4271a1eae0892b from user: 487289925
2022-06-30T19:34:52.196550+0900 INFO Sending message to 62bd7c380e4271a1eae0892b
2022-06-30T19:45:14.288662+0900 WARNING Shutting down!..
2022-06-30T19:45:16.935651+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T19:45:16.936292+0900 WARNING Bye!
2022-06-30T19:45:21.640824+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T21:11:22.187230+0900 WARNING Shutting down!..
2022-06-30T21:11:22.922306+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T21:11:22.923122+0900 WARNING Bye!
2022-06-30T21:11:29.261568+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T21:12:47.788414+0900 WARNING Shutting down!..
2022-06-30T21:12:48.356683+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T21:12:48.357276+0900 WARNING Bye!
2022-06-30T21:12:51.282456+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T21:21:07.206347+0900 WARNING Shutting down!..
2022-06-30T21:21:08.457069+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T21:21:08.457644+0900 WARNING Bye!
2022-06-30T21:21:13.399193+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T21:21:29.388851+0900 WARNING Shutting down!..
2022-06-30T21:21:29.858994+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T21:21:29.859684+0900 WARNING Bye!
2022-06-30T21:21:34.564939+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T21:22:36.536942+0900 WARNING Shutting down!..
2022-06-30T21:22:37.112873+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T21:22:37.113439+0900 WARNING Bye!
2022-06-30T21:22:39.937709+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T21:23:19.000348+0900 WARNING Shutting down!..
2022-06-30T21:23:19.643502+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T21:23:19.644228+0900 WARNING Bye!
2022-06-30T21:23:22.674283+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T21:23:38.779330+0900 WARNING Shutting down!..
2022-06-30T21:23:38.938599+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T21:23:38.939236+0900 WARNING Bye!
2022-06-30T21:23:41.544600+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T21:34:28.496964+0900 WARNING Shutting down!..
2022-06-30T21:34:29.098777+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T21:34:29.099344+0900 WARNING Bye!
2022-06-30T21:34:33.233527+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T21:35:58.796284+0900 WARNING Shutting down!..
2022-06-30T21:35:59.530380+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T21:35:59.530996+0900 WARNING Bye!
2022-06-30T21:36:03.786851+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T21:38:55.800218+0900 WARNING Shutting down!..
2022-06-30T21:38:57.174849+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T21:38:57.175410+0900 WARNING Bye!
2022-06-30T21:39:01.274240+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T21:39:02.389249+0900 WARNING Shutting down!..
2022-06-30T21:39:02.544225+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T21:39:02.545077+0900 WARNING Bye!
2022-06-30T21:39:06.394023+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T21:39:44.170553+0900 WARNING Shutting down!..
2022-06-30T21:39:44.441938+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T21:39:44.442499+0900 WARNING Bye!
2022-06-30T21:39:47.482103+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T21:41:10.747351+0900 WARNING Shutting down!..
2022-06-30T21:41:11.400318+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T21:41:11.400907+0900 WARNING Bye!
2022-06-30T21:41:14.235527+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T21:41:49.893274+0900 WARNING Shutting down!..
2022-06-30T21:41:50.074683+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T21:41:50.075298+0900 WARNING Bye!
2022-06-30T21:41:55.334135+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T21:42:46.281751+0900 WARNING Shutting down!..
2022-06-30T21:42:47.034108+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T21:42:47.034989+0900 WARNING Bye!
2022-06-30T21:43:02.369495+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T22:26:40.307221+0900 WARNING Shutting down!..
2022-06-30T22:26:40.878771+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T22:26:40.879946+0900 WARNING Bye!
2022-06-30T22:27:20.071305+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T22:28:59.349199+0900 WARNING Shutting down!..
2022-06-30T22:28:59.922952+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T22:28:59.924328+0900 WARNING Bye!
2022-06-30T22:29:04.427902+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T22:33:05.141186+0900 WARNING Shutting down!..
2022-06-30T22:33:06.729772+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T22:33:06.730171+0900 WARNING Bye!
2022-06-30T22:33:11.378502+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T22:34:18.886002+0900 WARNING Shutting down!..
2022-06-30T22:34:19.507441+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T22:34:19.508437+0900 WARNING Bye!
2022-06-30T22:34:24.925440+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T22:34:58.902968+0900 WARNING Can't delete faculties_message maybe it already deleted
2022-06-30T22:36:34.037401+0900 WARNING Shutting down!..
2022-06-30T22:36:34.184681+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T22:36:34.185611+0900 WARNING Bye!
2022-06-30T22:36:40.516258+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T22:37:21.426012+0900 WARNING Shutting down!..
2022-06-30T22:37:22.602856+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T22:37:22.603781+0900 WARNING Bye!
2022-06-30T22:37:49.313128+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T22:38:34.648051+0900 WARNING Shutting down!..
2022-06-30T22:38:35.319659+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T22:38:35.320268+0900 WARNING Bye!
2022-06-30T22:38:39.996396+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T22:38:40.002889+0900 WARNING Shutting down!..
2022-06-30T22:38:40.189387+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T22:38:40.190807+0900 WARNING Bye!
2022-06-30T22:38:48.439851+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T22:38:53.288973+0900 WARNING Shutting down!..
2022-06-30T22:38:53.547680+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T22:38:53.548782+0900 WARNING Bye!
2022-06-30T22:38:58.448672+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T22:39:51.311869+0900 WARNING Shutting down!..
2022-06-30T22:39:52.222113+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T22:39:52.223275+0900 WARNING Bye!
2022-06-30T22:39:56.458739+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T22:41:55.399612+0900 WARNING Shutting down!..
2022-06-30T22:41:55.989373+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T22:41:55.990328+0900 WARNING Bye!
2022-06-30T22:42:00.199749+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T22:43:50.465643+0900 WARNING Shutting down!..
2022-06-30T22:43:51.047920+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T22:43:51.048843+0900 WARNING Bye!
2022-06-30T22:43:56.197543+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T22:44:34.873974+0900 WARNING Shutting down!..
2022-06-30T22:44:35.496458+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T22:44:35.497417+0900 WARNING Bye!
2022-06-30T22:44:39.947657+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T22:45:11.959989+0900 INFO Deleting ticket ticket_62bda6820e4271a1eae08933
2022-06-30T22:45:19.073314+0900 WARNING Shutting down!..
2022-06-30T22:45:19.219796+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T22:45:19.220207+0900 WARNING Bye!
2022-06-30T22:45:25.039307+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T22:47:09.956349+0900 WARNING Shutting down!..
2022-06-30T22:47:10.561549+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T22:47:10.562165+0900 WARNING Bye!
2022-06-30T22:47:13.540921+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T22:48:27.059572+0900 WARNING Shutting down!..
2022-06-30T22:48:27.246642+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T22:48:27.246915+0900 WARNING Bye!
2022-06-30T22:49:17.887991+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T22:49:34.403311+0900 WARNING Can't delete faculty_hash maybe it already deleted
2022-06-30T22:49:51.488003+0900 WARNING Can't delete faculties_message maybe it already deleted
2022-06-30T22:50:03.462639+0900 WARNING Can't delete faculties_message maybe it already deleted
2022-06-30T22:50:15.810737+0900 WARNING Can't delete faculties_message maybe it already deleted
2022-06-30T22:50:42.543523+0900 INFO Deleting ticket ticket_62bda9ff0e4271a1eae08935
2022-06-30T22:50:49.360217+0900 INFO Deleting ticket ticket_62bdaa170e4271a1eae08937
2022-06-30T22:50:57.087582+0900 INFO Deleting ticket ticket_62bda9ff0e4271a1eae08935
2022-06-30T22:50:57.400799+0900 INFO Deleting ticket ticket_62bda9ff0e4271a1eae08935
2022-06-30T22:50:59.562571+0900 INFO Deleting ticket ticket_62bda9ff0e4271a1eae08935
2022-06-30T22:51:03.723932+0900 INFO Deleting ticket ticket_62bda9ff0e4271a1eae08935
2022-06-30T22:51:13.268957+0900 INFO Deleting ticket ticket_62bda9ff0e4271a1eae08935
2022-06-30T22:51:29.670492+0900 INFO Deleting ticket ticket_62bda9ff0e4271a1eae08935
2022-06-30T22:52:01.837298+0900 INFO Deleting ticket ticket_62bda9ff0e4271a1eae08935
2022-06-30T22:53:02.090860+0900 INFO Deleting ticket ticket_62bda9ff0e4271a1eae08935
2022-06-30T22:53:02.292763+0900 INFO Deleting ticket ticket_62bdaa170e4271a1eae08937
2022-06-30T22:53:02.497788+0900 INFO Deleting ticket ticket_62bdaa170e4271a1eae08937
2022-06-30T22:53:04.657249+0900 INFO Deleting ticket ticket_62bdaa170e4271a1eae08937
2022-06-30T22:53:09.944854+0900 INFO Deleting ticket ticket_62bdaa170e4271a1eae08937
2022-06-30T22:53:18.417337+0900 INFO Deleting ticket ticket_62bdaa170e4271a1eae08937
2022-06-30T22:56:02.686575+0900 WARNING Shutting down!..
2022-06-30T22:56:03.371961+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T22:56:03.372520+0900 WARNING Bye!
2022-06-30T22:56:06.978844+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T22:56:26.459322+0900 WARNING Shutting down!..
2022-06-30T22:56:26.901256+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T22:56:26.901896+0900 WARNING Bye!
2022-06-30T22:56:29.717458+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T22:56:45.186934+0900 WARNING Can't delete faculties_message maybe it already deleted
2022-06-30T22:56:54.745305+0900 WARNING Can't delete faculties_message maybe it already deleted
2022-06-30T22:57:01.597278+0900 WARNING Can't delete faculties_message maybe it already deleted
2022-06-30T22:57:07.037657+0900 INFO Deleting ticket ticket_62bdab9c0e4271a1eae08939
2022-06-30T22:57:08.151185+0900 INFO Deleting ticket ticket_62bdaba60e4271a1eae0893b
2022-06-30T22:57:10.562318+0900 INFO Deleting ticket ticket_62bdaba60e4271a1eae0893b
2022-06-30T22:57:10.562840+0900 WARNING Trying delete an already deleted ticket
2022-06-30T22:57:13.096701+0900 INFO Deleting ticket ticket_62bdaba60e4271a1eae0893b
2022-06-30T22:57:13.097820+0900 WARNING Trying delete an already deleted ticket
2022-06-30T22:57:16.317900+0900 INFO Deleting ticket ticket_62bdabad0e4271a1eae0893d
2022-06-30T22:58:43.170354+0900 WARNING Shutting down!..
2022-06-30T22:58:43.746468+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T22:58:43.746728+0900 WARNING Bye!
2022-06-30T22:58:46.849372+0900 INFO IzfirBot: Dispatcher loaded
2022-06-30T23:09:39.431287+0900 WARNING Shutting down!..
2022-06-30T23:09:40.009344+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-06-30T23:09:40.009957+0900 WARNING Bye!
2022-06-30T23:09:44.368400+0900 INFO IzfirBot: Dispatcher loaded
2022-07-01T00:52:54.828574+0900 WARNING Shutting down!..
2022-07-01T00:52:55.537980+0900 ERROR Couldn't correctly shutdown bot
'NoneType' object has no attribute 'close'
2022-07-01T00:52:55.538254+0900 WARNING Bye!
2022-07-01T00:53:02.653768+0900 INFO IzfirBot: Dispatcher loaded
